const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-Mm8MVtV-.js","assets/schemas-CDlXmjzF.js","assets/DashboardPage-AUWQ64Yu.js","assets/Card-DQViJwqL.js","assets/Skeleton-CwYXkP0I.js","assets/Tabs-46UBlh0T.js","assets/Select-D9Pc8JrA.js","assets/FloatingActionButton-CQmhLiOc.js","assets/BottomSheet-B_e8xa_t.js","assets/AttendancePage-DxjNnRaq.js","assets/useMutation-DEQ-bH50.js","assets/jspdf.plugin.autotable-Cos_-fnW.js","assets/StudentsPage-OxGN4gLx.js","assets/StudentDetailPage-C5mzsruK.js","assets/image-Do6OKbT5.js","assets/violations.data-D8bejHRP.js","assets/SchedulePage-BINCtxsl.js","assets/DropdownMenu-r_PFnRXN.js","assets/index-COG379GL.js","assets/SettingsPage-BCTCVfcy.js","assets/TasksPage-PYpkzfEh.js","assets/Checkbox-DScJh7tZ.js","assets/ReportPage-DZYzRNgA.js","assets/pdfGenerator-DW_90Ppn.js","assets/MassInputPage-BX-g-n_D.js","assets/ParentPortalPage-BayTBpdl.js"])))=>i.map(i=>d[i]);
var PT=Object.defineProperty;var vy=t=>{throw TypeError(t)};var LT=(t,e,n)=>e in t?PT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _y=(t,e,n)=>LT(t,typeof e!="symbol"?e+"":e,n),Ld=(t,e,n)=>e.has(t)||vy("Cannot "+n);var D=(t,e,n)=>(Ld(t,e,"read from private field"),n?n.call(t):e.get(t)),ce=(t,e,n)=>e.has(t)?vy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(Ld(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),be=(t,e,n)=>(Ld(t,e,"access private method"),n);var Ml=(t,e,n,r)=>({set _(o){te(t,e,o,n)},get _(){return D(t,e,r)}});function OT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(r,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var oU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qT(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Od={exports:{}},Go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function BT(){if(wy)return Go;wy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:l}}return Go.Fragment=e,Go.jsx=n,Go.jsxs=n,Go}var Ey;function HT(){return Ey||(Ey=1,Od.exports=BT()),Od.exports}var S=HT(),qd={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function GT(){if(Sy)return me;Sy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function M(U,J,Z){this.props=U,this.context=J,this.refs=A,this.updater=Z||C}M.prototype.isReactComponent={},M.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function P(){}P.prototype=M.prototype;function R(U,J,Z){this.props=U,this.context=J,this.refs=A,this.updater=Z||C}var O=R.prototype=new P;O.constructor=R,x(O,M.prototype),O.isPureReactComponent=!0;var j=Array.isArray;function Y(){}var K={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function Q(U,J,Z){var re=Z.ref;return{$$typeof:t,type:U,key:J,ref:re!==void 0?re:null,props:Z}}function X(U,J){return Q(U.type,J,U.props)}function he(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function pe(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return J[Z]})}var je=/\/+/g;function Xt(U,J){return typeof U=="object"&&U!==null&&U.key!=null?pe(""+U.key):J.toString(36)}function At(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Y,Y):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function V(U,J,Z,re,ge){var _e=typeof U;(_e==="undefined"||_e==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(_e){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case t:case e:Ie=!0;break;case v:return Ie=U._init,V(Ie(U._payload),J,Z,re,ge)}}if(Ie)return ge=ge(U),Ie=re===""?"."+Xt(U,0):re,j(ge)?(Z="",Ie!=null&&(Z=Ie.replace(je,"$&/")+"/"),V(ge,J,Z,"",function(js){return js})):ge!=null&&(he(ge)&&(ge=X(ge,Z+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(je,"$&/")+"/")+Ie)),J.push(ge)),1;Ie=0;var St=re===""?".":re+":";if(j(U))for(var Xe=0;Xe<U.length;Xe++)re=U[Xe],_e=St+Xt(re,Xe),Ie+=V(re,J,Z,_e,ge);else if(Xe=T(U),typeof Xe=="function")for(U=Xe.call(U),Xe=0;!(re=U.next()).done;)re=re.value,_e=St+Xt(re,Xe++),Ie+=V(re,J,Z,_e,ge);else if(_e==="object"){if(typeof U.then=="function")return V(At(U),J,Z,re,ge);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function W(U,J,Z){if(U==null)return U;var re=[],ge=0;return V(U,re,"","",function(_e){return J.call(Z,_e,ge++)}),re}function fe(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var Pe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Be={map:W,forEach:function(U,J,Z){W(U,function(){J.apply(this,arguments)},Z)},count:function(U){var J=0;return W(U,function(){J++}),J},toArray:function(U){return W(U,function(J){return J})||[]},only:function(U){if(!he(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return me.Activity=_,me.Children=Be,me.Component=M,me.Fragment=n,me.Profiler=o,me.PureComponent=R,me.StrictMode=r,me.Suspense=m,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,me.__COMPILER_RUNTIME={__proto__:null,c:function(U){return K.H.useMemoCache(U)}},me.cache=function(U){return function(){return U.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(U,J,Z){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var re=x({},U.props),ge=U.key;if(J!=null)for(_e in J.key!==void 0&&(ge=""+J.key),J)!ie.call(J,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&J.ref===void 0||(re[_e]=J[_e]);var _e=arguments.length-2;if(_e===1)re.children=Z;else if(1<_e){for(var Ie=Array(_e),St=0;St<_e;St++)Ie[St]=arguments[St+2];re.children=Ie}return Q(U.type,ge,re)},me.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},me.createElement=function(U,J,Z){var re,ge={},_e=null;if(J!=null)for(re in J.key!==void 0&&(_e=""+J.key),J)ie.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=J[re]);var Ie=arguments.length-2;if(Ie===1)ge.children=Z;else if(1<Ie){for(var St=Array(Ie),Xe=0;Xe<Ie;Xe++)St[Xe]=arguments[Xe+2];ge.children=St}if(U&&U.defaultProps)for(re in Ie=U.defaultProps,Ie)ge[re]===void 0&&(ge[re]=Ie[re]);return Q(U,_e,ge)},me.createRef=function(){return{current:null}},me.forwardRef=function(U){return{$$typeof:f,render:U}},me.isValidElement=he,me.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:fe}},me.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},me.startTransition=function(U){var J=K.T,Z={};K.T=Z;try{var re=U(),ge=K.S;ge!==null&&ge(Z,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Y,Pe)}catch(_e){Pe(_e)}finally{J!==null&&Z.types!==null&&(J.types=Z.types),K.T=J}},me.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},me.use=function(U){return K.H.use(U)},me.useActionState=function(U,J,Z){return K.H.useActionState(U,J,Z)},me.useCallback=function(U,J){return K.H.useCallback(U,J)},me.useContext=function(U){return K.H.useContext(U)},me.useDebugValue=function(){},me.useDeferredValue=function(U,J){return K.H.useDeferredValue(U,J)},me.useEffect=function(U,J){return K.H.useEffect(U,J)},me.useEffectEvent=function(U){return K.H.useEffectEvent(U)},me.useId=function(){return K.H.useId()},me.useImperativeHandle=function(U,J,Z){return K.H.useImperativeHandle(U,J,Z)},me.useInsertionEffect=function(U,J){return K.H.useInsertionEffect(U,J)},me.useLayoutEffect=function(U,J){return K.H.useLayoutEffect(U,J)},me.useMemo=function(U,J){return K.H.useMemo(U,J)},me.useOptimistic=function(U,J){return K.H.useOptimistic(U,J)},me.useReducer=function(U,J,Z){return K.H.useReducer(U,J,Z)},me.useRef=function(U){return K.H.useRef(U)},me.useState=function(U){return K.H.useState(U)},me.useSyncExternalStore=function(U,J,Z){return K.H.useSyncExternalStore(U,J,Z)},me.useTransition=function(){return K.H.useTransition()},me.version="19.2.0",me}var Ty;function Gf(){return Ty||(Ty=1,qd.exports=GT()),qd.exports}var k=Gf();const ou=su(k);var Bd={exports:{}},Vo={},Hd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function VT(){return Cy||(Cy=1,(function(t){function e(V,W){var fe=V.length;V.push(W);e:for(;0<fe;){var Pe=fe-1>>>1,Be=V[Pe];if(0<o(Be,W))V[Pe]=W,V[fe]=Be,fe=Pe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],fe=V.pop();if(fe!==W){V[0]=fe;e:for(var Pe=0,Be=V.length,U=Be>>>1;Pe<U;){var J=2*(Pe+1)-1,Z=V[J],re=J+1,ge=V[re];if(0>o(Z,fe))re<Be&&0>o(ge,Z)?(V[Pe]=ge,V[re]=fe,Pe=re):(V[Pe]=Z,V[J]=fe,Pe=J);else if(re<Be&&0>o(ge,fe))V[Pe]=ge,V[re]=fe,Pe=re;else break e}}return W}function o(V,W){var fe=V.sortIndex-W.sortIndex;return fe!==0?fe:V.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],v=1,_=null,w=3,T=!1,C=!1,x=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(V){for(var W=n(p);W!==null;){if(W.callback===null)r(p);else if(W.startTime<=V)r(p),W.sortIndex=W.expirationTime,e(m,W);else break;W=n(p)}}function j(V){if(x=!1,O(V),!C)if(n(m)!==null)C=!0,Y||(Y=!0,pe());else{var W=n(p);W!==null&&At(j,W.startTime-V)}}var Y=!1,K=-1,ie=5,Q=-1;function X(){return A?!0:!(t.unstable_now()-Q<ie)}function he(){if(A=!1,Y){var V=t.unstable_now();Q=V;var W=!0;try{e:{C=!1,x&&(x=!1,P(K),K=-1),T=!0;var fe=w;try{t:{for(O(V),_=n(m);_!==null&&!(_.expirationTime>V&&X());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,w=_.priorityLevel;var Be=Pe(_.expirationTime<=V);if(V=t.unstable_now(),typeof Be=="function"){_.callback=Be,O(V),W=!0;break t}_===n(m)&&r(m),O(V)}else r(m);_=n(m)}if(_!==null)W=!0;else{var U=n(p);U!==null&&At(j,U.startTime-V),W=!1}}break e}finally{_=null,w=fe,T=!1}W=void 0}}finally{W?pe():Y=!1}}}var pe;if(typeof R=="function")pe=function(){R(he)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Xt=je.port2;je.port1.onmessage=he,pe=function(){Xt.postMessage(null)}}else pe=function(){M(he,0)};function At(V,W){K=M(function(){V(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(V){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var fe=w;w=W;try{return V()}finally{w=fe}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var fe=w;w=V;try{return W()}finally{w=fe}},t.unstable_scheduleCallback=function(V,W,fe){var Pe=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,V){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=fe+Be,V={id:v++,callback:W,priorityLevel:V,startTime:fe,expirationTime:Be,sortIndex:-1},fe>Pe?(V.sortIndex=fe,e(p,V),n(m)===null&&V===n(p)&&(x?(P(K),K=-1):x=!0,At(j,fe-Pe))):(V.sortIndex=Be,e(m,V),C||T||(C=!0,Y||(Y=!0,pe()))),V},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(V){var W=w;return function(){var fe=w;w=W;try{return V.apply(this,arguments)}finally{w=fe}}}})(Gd)),Gd}var by;function zT(){return by||(by=1,Hd.exports=VT()),Hd.exports}var Vd={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function FT(){if(Ay)return vt;Ay=1;var t=Gf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},vt.flushSync=function(m){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=v,r.d.f()}},vt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},vt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},vt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:T}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},vt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},vt.requestFormReset=function(m){r.d.r(m)},vt.unstable_batchedUpdates=function(m,p){return m(p)},vt.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},vt.useFormStatus=function(){return u.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var xy;function r_(){if(xy)return Vd.exports;xy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vd.exports=FT(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function $T(){if(Ry)return Vo;Ry=1;var t=zT(),e=Gf(),n=r_();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,c=s;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){a=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return m(g),i;if(y===c)return m(g),s;y=y.sibling}throw Error(r(188))}if(a.return!==c.return)a=g,c=y;else{for(var E=!1,b=g.child;b;){if(b===a){E=!0,a=g,c=y;break}if(b===c){E=!0,c=g,a=y;break}b=b.sibling}if(!E){for(b=y.child;b;){if(b===a){E=!0,a=y,c=g;break}if(b===c){E=!0,c=y,a=g;break}b=b.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=he&&i[he]||i["@@iterator"],typeof i=="function"?i:null)}var je=Symbol.for("react.client.reference");function Xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===je?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case Y:return"SuspenseList";case Q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case R:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case O:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return s=i.displayName||null,s!==null?s:Xt(i.type)||"Memo";case ie:s=i._payload,i=i._init;try{return Xt(i(s))}catch{}}return null}var At=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],Be=-1;function U(i){return{current:i}}function J(i){0>Be||(i.current=Pe[Be],Pe[Be]=null,Be--)}function Z(i,s){Be++,Pe[Be]=i.current,i.current=s}var re=U(null),ge=U(null),_e=U(null),Ie=U(null);function St(i,s){switch(Z(_e,s),Z(ge,i),Z(re,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Gg(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Gg(s),i=Vg(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(re),Z(re,i)}function Xe(){J(re),J(ge),J(_e)}function js(i){i.memoizedState!==null&&Z(Ie,i);var s=re.current,a=Vg(s,i.type);s!==a&&(Z(ge,i),Z(re,a))}function fa(i){ge.current===i&&(J(re),J(ge)),Ie.current===i&&(J(Ie),Oo._currentValue=fe)}var vu,yh;function Ji(i){if(vu===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);vu=s&&s[1]||"",yh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vu+i+yh}var _u=!1;function wu(i,s){if(!i||_u)return"";_u=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var H=G}Reflect.construct(i,[],$)}else{try{$.call()}catch(G){H=G}i.call($.prototype)}}else{try{throw Error()}catch(G){H=G}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],b=y[1];if(E&&b){var N=E.split(`
`),B=b.split(`
`);for(g=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;if(c===N.length||g===B.length)for(c=N.length-1,g=B.length-1;1<=c&&0<=g&&N[c]!==B[g];)g--;for(;1<=c&&0<=g;c--,g--)if(N[c]!==B[g]){if(c!==1||g!==1)do if(c--,g--,0>g||N[c]!==B[g]){var z=`
`+N[c].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=c&&0<=g);break}}}finally{_u=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ji(a):""}function fE(i,s){switch(i.tag){case 26:case 27:case 5:return Ji(i.type);case 16:return Ji("Lazy");case 13:return i.child!==s&&s!==null?Ji("Suspense Fallback"):Ji("Suspense");case 19:return Ji("SuspenseList");case 0:case 15:return wu(i.type,!1);case 11:return wu(i.type.render,!1);case 1:return wu(i.type,!0);case 31:return Ji("Activity");default:return""}}function vh(i){try{var s="",a=null;do s+=fE(i,a),a=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Eu=Object.prototype.hasOwnProperty,Su=t.unstable_scheduleCallback,Tu=t.unstable_cancelCallback,hE=t.unstable_shouldYield,pE=t.unstable_requestPaint,Ot=t.unstable_now,mE=t.unstable_getCurrentPriorityLevel,_h=t.unstable_ImmediatePriority,wh=t.unstable_UserBlockingPriority,ha=t.unstable_NormalPriority,gE=t.unstable_LowPriority,Eh=t.unstable_IdlePriority,yE=t.log,vE=t.unstable_setDisableYieldValue,Ks=null,qt=null;function si(i){if(typeof yE=="function"&&vE(i),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Ks,i)}catch{}}var Bt=Math.clz32?Math.clz32:EE,_E=Math.log,wE=Math.LN2;function EE(i){return i>>>=0,i===0?32:31-(_E(i)/wE|0)|0}var pa=256,ma=262144,ga=4194304;function ji(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ya(i,s,a){var c=i.pendingLanes;if(c===0)return 0;var g=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var b=c&134217727;return b!==0?(c=b&~y,c!==0?g=ji(c):(E&=b,E!==0?g=ji(E):a||(a=b&~i,a!==0&&(g=ji(a))))):(b=c&~y,b!==0?g=ji(b):E!==0?g=ji(E):a||(a=c&~i,a!==0&&(g=ji(a)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:g}function Ys(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function SE(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(){var i=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),i}function Cu(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Qs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function TE(i,s,a,c,g,y){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var b=i.entanglements,N=i.expirationTimes,B=i.hiddenUpdates;for(a=E&~a;0<a;){var z=31-Bt(a),$=1<<z;b[z]=0,N[z]=-1;var H=B[z];if(H!==null)for(B[z]=null,z=0;z<H.length;z++){var G=H[z];G!==null&&(G.lane&=-536870913)}a&=~$}c!==0&&Th(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~s))}function Th(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Bt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|a&261930}function Ch(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var c=31-Bt(a),g=1<<c;g&s|i[c]&s&&(i[c]|=s),a&=~g}}function bh(i,s){var a=s&-s;return a=(a&42)!==0?1:bu(a),(a&(i.suspendedLanes|s))!==0?0:a}function bu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Au(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ah(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:dy(i.type))}function xh(i,s){var a=W.p;try{return W.p=i,s()}finally{W.p=a}}var oi=Math.random().toString(36).slice(2),dt="__reactFiber$"+oi,xt="__reactProps$"+oi,Ir="__reactContainer$"+oi,xu="__reactEvents$"+oi,CE="__reactListeners$"+oi,bE="__reactHandles$"+oi,Rh="__reactResources$"+oi,Ws="__reactMarker$"+oi;function Ru(i){delete i[dt],delete i[xt],delete i[xu],delete i[CE],delete i[bE]}function kr(i){var s=i[dt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Ir]||a[dt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Yg(i);i!==null;){if(a=i[dt])return a;i=Yg(i)}return s}i=a,a=i.parentNode}return null}function Dr(i){if(i=i[dt]||i[Ir]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Xs(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ur(i){var s=i[Rh];return s||(s=i[Rh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function lt(i){i[Ws]=!0}var Nh=new Set,Mh={};function Ki(i,s){Pr(i,s),Pr(i+"Capture",s)}function Pr(i,s){for(Mh[i]=s,i=0;i<s.length;i++)Nh.add(s[i])}var AE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ih={},kh={};function xE(i){return Eu.call(kh,i)?!0:Eu.call(Ih,i)?!1:AE.test(i)?kh[i]=!0:(Ih[i]=!0,!1)}function va(i,s,a){if(xE(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function _a(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function In(i,s,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+c)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dh(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function RE(i,s,a){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Nu(i){if(!i._valueTracker){var s=Dh(i)?"checked":"value";i._valueTracker=RE(i,s,""+i[s])}}function Uh(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return i&&(c=Dh(i)?i.checked?"true":"false":i.value),i=c,i!==a?(s.setValue(i),!0):!1}function wa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var NE=/[\n"\\]/g;function en(i){return i.replace(NE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mu(i,s,a,c,g,y,E,b){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Zt(s)):i.value!==""+Zt(s)&&(i.value=""+Zt(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Iu(i,E,Zt(s)):a!=null?Iu(i,E,Zt(a)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+Zt(b):i.removeAttribute("name")}function Ph(i,s,a,c,g,y,E,b){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Nu(i);return}a=a!=null?""+Zt(a):"",s=s!=null?""+Zt(s):a,b||s===i.value||(i.value=s),i.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=b?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Nu(i)}function Iu(i,s,a){s==="number"&&wa(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Lr(i,s,a,c){if(i=i.options,s){s={};for(var g=0;g<a.length;g++)s["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=s.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&c&&(i[a].defaultSelected=!0)}else{for(a=""+Zt(a),s=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Lh(i,s,a){if(s!=null&&(s=""+Zt(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Zt(a):""}function Oh(i,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(At(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Zt(s),i.defaultValue=a,c=i.textContent,c===a&&c!==""&&c!==null&&(i.value=c),Nu(i)}function Or(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var ME=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qh(i,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,a):typeof a!="number"||a===0||ME.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Bh(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&a[g]!==c&&qh(i,g,c)}else for(var y in s)s.hasOwnProperty(y)&&qh(i,y,s[y])}function ku(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(i){return kE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function kn(){}var Du=null;function Uu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qr=null,Br=null;function Hh(i){var s=Dr(i);if(s&&(i=s.stateNode)){var a=i[xt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Mu(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==i&&c.form===i.form){var g=c[xt]||null;if(!g)throw Error(r(90));Mu(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===i.form&&Uh(c)}break e;case"textarea":Lh(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Lr(i,!!a.multiple,s,!1)}}}var Pu=!1;function Gh(i,s,a){if(Pu)return i(s,a);Pu=!0;try{var c=i(s);return c}finally{if(Pu=!1,(qr!==null||Br!==null)&&(ll(),qr&&(s=qr,i=Br,Br=qr=null,Hh(s),i)))for(s=0;s<i.length;s++)Hh(i[s])}}function Zs(i,s){var a=i.stateNode;if(a===null)return null;var c=a[xt]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=!1;if(Dn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Lu=!1}var ai=null,Ou=null,Sa=null;function Vh(){if(Sa)return Sa;var i,s=Ou,a=s.length,c,g="value"in ai?ai.value:ai.textContent,y=g.length;for(i=0;i<a&&s[i]===g[i];i++);var E=a-i;for(c=1;c<=E&&s[a-c]===g[y-c];c++);return Sa=g.slice(i,1<c?1-c:void 0)}function Ta(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ca(){return!0}function zh(){return!1}function Rt(i){function s(a,c,g,y,E){this._reactName=a,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(a=i[b],this[b]=a?a(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ca:zh,this.isPropagationStopped=zh,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Rt(Yi),to=_({},Yi,{view:0,detail:0}),DE=Rt(to),qu,Bu,no,Aa=_({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==no&&(no&&i.type==="mousemove"?(qu=i.screenX-no.screenX,Bu=i.screenY-no.screenY):Bu=qu=0,no=i),qu)},movementY:function(i){return"movementY"in i?i.movementY:Bu}}),Fh=Rt(Aa),UE=_({},Aa,{dataTransfer:0}),PE=Rt(UE),LE=_({},to,{relatedTarget:0}),Hu=Rt(LE),OE=_({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),qE=Rt(OE),BE=_({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),HE=Rt(BE),GE=_({},Yi,{data:0}),$h=Rt(GE),VE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $E(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=FE[i])?!!s[i]:!1}function Gu(){return $E}var JE=_({},to,{key:function(i){if(i.key){var s=VE[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ta(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(i){return i.type==="keypress"?Ta(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ta(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jE=Rt(JE),KE=_({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=Rt(KE),YE=_({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),QE=Rt(YE),WE=_({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=Rt(WE),ZE=_({},Aa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eS=Rt(ZE),tS=_({},Yi,{newState:0,oldState:0}),nS=Rt(tS),iS=[9,13,27,32],Vu=Dn&&"CompositionEvent"in window,io=null;Dn&&"documentMode"in document&&(io=document.documentMode);var rS=Dn&&"TextEvent"in window&&!io,jh=Dn&&(!Vu||io&&8<io&&11>=io),Kh=" ",Yh=!1;function Qh(i,s){switch(i){case"keyup":return iS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hr=!1;function sS(i,s){switch(i){case"compositionend":return Wh(s);case"keypress":return s.which!==32?null:(Yh=!0,Kh);case"textInput":return i=s.data,i===Kh&&Yh?null:i;default:return null}}function oS(i,s){if(Hr)return i==="compositionend"||!Vu&&Qh(i,s)?(i=Vh(),Sa=Ou=ai=null,Hr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jh&&s.locale!=="ko"?null:s.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!aS[i.type]:s==="textarea"}function Zh(i,s,a,c){qr?Br?Br.push(c):Br=[c]:qr=c,s=ml(s,"onChange"),0<s.length&&(a=new ba("onChange","change",null,a,c),i.push({event:a,listeners:s}))}var ro=null,so=null;function lS(i){Pg(i,0)}function xa(i){var s=Xs(i);if(Uh(s))return i}function ep(i,s){if(i==="change")return s}var tp=!1;if(Dn){var zu;if(Dn){var Fu="oninput"in document;if(!Fu){var np=document.createElement("div");np.setAttribute("oninput","return;"),Fu=typeof np.oninput=="function"}zu=Fu}else zu=!1;tp=zu&&(!document.documentMode||9<document.documentMode)}function ip(){ro&&(ro.detachEvent("onpropertychange",rp),so=ro=null)}function rp(i){if(i.propertyName==="value"&&xa(so)){var s=[];Zh(s,so,i,Uu(i)),Gh(lS,s)}}function uS(i,s,a){i==="focusin"?(ip(),ro=s,so=a,ro.attachEvent("onpropertychange",rp)):i==="focusout"&&ip()}function cS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xa(so)}function dS(i,s){if(i==="click")return xa(s)}function fS(i,s){if(i==="input"||i==="change")return xa(s)}function hS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ht=typeof Object.is=="function"?Object.is:hS;function oo(i,s){if(Ht(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var g=a[c];if(!Eu.call(s,g)||!Ht(i[g],s[g]))return!1}return!0}function sp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function op(i,s){var a=sp(i);i=0;for(var c;a;){if(a.nodeType===3){if(c=i+a.textContent.length,i<=s&&c>=s)return{node:a,offset:s-i};i=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function ap(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ap(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function lp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=wa(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=wa(i.document)}return s}function $u(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var pS=Dn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Ju=null,ao=null,ju=!1;function up(i,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ju||Gr==null||Gr!==wa(c)||(c=Gr,"selectionStart"in c&&$u(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ao&&oo(ao,c)||(ao=c,c=ml(Ju,"onSelect"),0<c.length&&(s=new ba("onSelect","select",null,s,a),i.push({event:s,listeners:c}),s.target=Gr)))}function Qi(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Vr={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},Ku={},cp={};Dn&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Wi(i){if(Ku[i])return Ku[i];if(!Vr[i])return i;var s=Vr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in cp)return Ku[i]=s[a];return i}var dp=Wi("animationend"),fp=Wi("animationiteration"),hp=Wi("animationstart"),mS=Wi("transitionrun"),gS=Wi("transitionstart"),yS=Wi("transitioncancel"),pp=Wi("transitionend"),mp=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function pn(i,s){mp.set(i,s),Ki(s,[i])}var Ra=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},tn=[],zr=0,Qu=0;function Na(){for(var i=zr,s=Qu=zr=0;s<i;){var a=tn[s];tn[s++]=null;var c=tn[s];tn[s++]=null;var g=tn[s];tn[s++]=null;var y=tn[s];if(tn[s++]=null,c!==null&&g!==null){var E=c.pending;E===null?g.next=g:(g.next=E.next,E.next=g),c.pending=g}y!==0&&gp(a,g,y)}}function Ma(i,s,a,c){tn[zr++]=i,tn[zr++]=s,tn[zr++]=a,tn[zr++]=c,Qu|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Wu(i,s,a,c){return Ma(i,s,a,c),Ia(i)}function Xi(i,s){return Ma(i,null,null,s),Ia(i)}function gp(i,s,a){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a);for(var g=!1,y=i.return;y!==null;)y.childLanes|=a,c=y.alternate,c!==null&&(c.childLanes|=a),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&s!==null&&(g=31-Bt(a),i=y.hiddenUpdates,c=i[g],c===null?i[g]=[s]:c.push(s),s.lane=a|536870912),y):null}function Ia(i){if(50<Mo)throw Mo=0,od=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fr={};function vS(i,s,a,c){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(i,s,a,c){return new vS(i,s,a,c)}function Xu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Un(i,s){var a=i.alternate;return a===null?(a=Gt(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function yp(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ka(i,s,a,c,g,y){var E=0;if(c=i,typeof i=="function")Xu(i)&&(E=1);else if(typeof i=="string")E=TT(i,a,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Q:return i=Gt(31,a,s,g),i.elementType=Q,i.lanes=y,i;case x:return Zi(a.children,g,y,s);case A:E=8,g|=24;break;case M:return i=Gt(12,a,s,g|2),i.elementType=M,i.lanes=y,i;case j:return i=Gt(13,a,s,g),i.elementType=j,i.lanes=y,i;case Y:return i=Gt(19,a,s,g),i.elementType=Y,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:E=10;break e;case P:E=9;break e;case O:E=11;break e;case K:E=14;break e;case ie:E=16,c=null;break e}E=29,a=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Gt(E,a,s,g),s.elementType=i,s.type=c,s.lanes=y,s}function Zi(i,s,a,c){return i=Gt(7,i,c,s),i.lanes=a,i}function Zu(i,s,a){return i=Gt(6,i,null,s),i.lanes=a,i}function vp(i){var s=Gt(18,null,null,0);return s.stateNode=i,s}function ec(i,s,a){return s=Gt(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var _p=new WeakMap;function nn(i,s){if(typeof i=="object"&&i!==null){var a=_p.get(i);return a!==void 0?a:(s={value:i,source:s,stack:vh(s)},_p.set(i,s),s)}return{value:i,source:s,stack:vh(s)}}var $r=[],Jr=0,Da=null,lo=0,rn=[],sn=0,li=null,Cn=1,bn="";function Pn(i,s){$r[Jr++]=lo,$r[Jr++]=Da,Da=i,lo=s}function wp(i,s,a){rn[sn++]=Cn,rn[sn++]=bn,rn[sn++]=li,li=i;var c=Cn;i=bn;var g=32-Bt(c)-1;c&=~(1<<g),a+=1;var y=32-Bt(s)+g;if(30<y){var E=g-g%5;y=(c&(1<<E)-1).toString(32),c>>=E,g-=E,Cn=1<<32-Bt(s)+g|a<<g|c,bn=y+i}else Cn=1<<y|a<<g|c,bn=i}function tc(i){i.return!==null&&(Pn(i,1),wp(i,1,0))}function nc(i){for(;i===Da;)Da=$r[--Jr],$r[Jr]=null,lo=$r[--Jr],$r[Jr]=null;for(;i===li;)li=rn[--sn],rn[sn]=null,bn=rn[--sn],rn[sn]=null,Cn=rn[--sn],rn[sn]=null}function Ep(i,s){rn[sn++]=Cn,rn[sn++]=bn,rn[sn++]=li,Cn=s.id,bn=s.overflow,li=i}var ft=null,Ve=null,Ce=!1,ui=null,on=!1,ic=Error(r(519));function ci(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uo(nn(s,i)),ic}function Sp(i){var s=i.stateNode,a=i.type,c=i.memoizedProps;switch(s[dt]=i,s[xt]=c,a){case"dialog":Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":case"embed":Ee("load",s);break;case"video":case"audio":for(a=0;a<ko.length;a++)Ee(ko[a],s);break;case"source":Ee("error",s);break;case"img":case"image":case"link":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"input":Ee("invalid",s),Ph(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ee("invalid",s);break;case"textarea":Ee("invalid",s),Oh(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Bg(s.textContent,a)?(c.popover!=null&&(Ee("beforetoggle",s),Ee("toggle",s)),c.onScroll!=null&&Ee("scroll",s),c.onScrollEnd!=null&&Ee("scrollend",s),c.onClick!=null&&(s.onclick=kn),s=!0):s=!1,s||ci(i,!0)}function Tp(i){for(ft=i.return;ft;)switch(ft.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:ft=ft.return}}function jr(i){if(i!==ft)return!1;if(!Ce)return Tp(i),Ce=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Ed(i.type,i.memoizedProps)),a=!a),a&&Ve&&ci(i),Tp(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ve=Kg(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ve=Kg(i)}else s===27?(s=Ve,Ci(i.type)?(i=Ad,Ad=null,Ve=i):Ve=s):Ve=ft?ln(i.stateNode.nextSibling):null;return!0}function er(){Ve=ft=null,Ce=!1}function rc(){var i=ui;return i!==null&&(kt===null?kt=i:kt.push.apply(kt,i),ui=null),i}function uo(i){ui===null?ui=[i]:ui.push(i)}var sc=U(null),tr=null,Ln=null;function di(i,s,a){Z(sc,s._currentValue),s._currentValue=a}function On(i){i._currentValue=sc.current,J(sc)}function oc(i,s,a){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===a)break;i=i.return}}function ac(i,s,a,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var b=y;y=g;for(var N=0;N<s.length;N++)if(b.context===s[N]){y.lanes|=a,b=y.alternate,b!==null&&(b.lanes|=a),oc(y.return,a,i),c||(E=null);break e}y=b.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),oc(E,a,i),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Kr(i,s,a,c){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=g.type;Ht(g.pendingProps.value,E.value)||(i!==null?i.push(b):i=[b])}}else if(g===Ie.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Oo):i=[Oo])}g=g.return}i!==null&&ac(s,i,a,c),s.flags|=262144}function Ua(i){for(i=i.firstContext;i!==null;){if(!Ht(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function nr(i){tr=i,Ln=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ht(i){return Cp(tr,i)}function Pa(i,s){return tr===null&&nr(i),Cp(i,s)}function Cp(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ln===null){if(i===null)throw Error(r(308));Ln=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ln=Ln.next=s;return a}var _S=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},wS=t.unstable_scheduleCallback,ES=t.unstable_NormalPriority,tt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lc(){return{controller:new _S,data:new Map,refCount:0}}function co(i){i.refCount--,i.refCount===0&&wS(ES,function(){i.controller.abort()})}var fo=null,uc=0,Yr=0,Qr=null;function SS(i,s){if(fo===null){var a=fo=[];uc=0,Yr=fd(),Qr={status:"pending",value:void 0,then:function(c){a.push(c)}}}return uc++,s.then(bp,bp),s}function bp(){if(--uc===0&&fo!==null){Qr!==null&&(Qr.status="fulfilled");var i=fo;fo=null,Yr=0,Qr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function TS(i,s){var a=[],c={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<a.length;g++)(0,a[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),c}var Ap=V.S;V.S=function(i,s){ug=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&SS(i,s),Ap!==null&&Ap(i,s)};var ir=U(null);function cc(){var i=ir.current;return i!==null?i:He.pooledCache}function La(i,s){s===null?Z(ir,ir.current):Z(ir,s.pool)}function xp(){var i=cc();return i===null?null:{parent:tt._currentValue,pool:i}}var Wr=Error(r(460)),dc=Error(r(474)),Oa=Error(r(542)),qa={then:function(){}};function Rp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Np(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(kn,kn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ip(i),i;default:if(typeof s.status=="string")s.then(kn,kn);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ip(i),i}throw sr=s,Wr}}function rr(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sr=a,Wr):a}}var sr=null;function Mp(){if(sr===null)throw Error(r(459));var i=sr;return sr=null,i}function Ip(i){if(i===Wr||i===Oa)throw Error(r(483))}var Xr=null,ho=0;function Ba(i){var s=ho;return ho+=1,Xr===null&&(Xr=[]),Np(Xr,i,s)}function po(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ha(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function kp(i){function s(L,I){if(i){var q=L.deletions;q===null?(L.deletions=[I],L.flags|=16):q.push(I)}}function a(L,I){if(!i)return null;for(;I!==null;)s(L,I),I=I.sibling;return null}function c(L){for(var I=new Map;L!==null;)L.key!==null?I.set(L.key,L):I.set(L.index,L),L=L.sibling;return I}function g(L,I){return L=Un(L,I),L.index=0,L.sibling=null,L}function y(L,I,q){return L.index=q,i?(q=L.alternate,q!==null?(q=q.index,q<I?(L.flags|=67108866,I):q):(L.flags|=67108866,I)):(L.flags|=1048576,I)}function E(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function b(L,I,q,F){return I===null||I.tag!==6?(I=Zu(q,L.mode,F),I.return=L,I):(I=g(I,q),I.return=L,I)}function N(L,I,q,F){var le=q.type;return le===x?z(L,I,q.props.children,F,q.key):I!==null&&(I.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&rr(le)===I.type)?(I=g(I,q.props),po(I,q),I.return=L,I):(I=ka(q.type,q.key,q.props,null,L.mode,F),po(I,q),I.return=L,I)}function B(L,I,q,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==q.containerInfo||I.stateNode.implementation!==q.implementation?(I=ec(q,L.mode,F),I.return=L,I):(I=g(I,q.children||[]),I.return=L,I)}function z(L,I,q,F,le){return I===null||I.tag!==7?(I=Zi(q,L.mode,F,le),I.return=L,I):(I=g(I,q),I.return=L,I)}function $(L,I,q){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Zu(""+I,L.mode,q),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case T:return q=ka(I.type,I.key,I.props,null,L.mode,q),po(q,I),q.return=L,q;case C:return I=ec(I,L.mode,q),I.return=L,I;case ie:return I=rr(I),$(L,I,q)}if(At(I)||pe(I))return I=Zi(I,L.mode,q,null),I.return=L,I;if(typeof I.then=="function")return $(L,Ba(I),q);if(I.$$typeof===R)return $(L,Pa(L,I),q);Ha(L,I)}return null}function H(L,I,q,F){var le=I!==null?I.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return le!==null?null:b(L,I,""+q,F);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===le?N(L,I,q,F):null;case C:return q.key===le?B(L,I,q,F):null;case ie:return q=rr(q),H(L,I,q,F)}if(At(q)||pe(q))return le!==null?null:z(L,I,q,F,null);if(typeof q.then=="function")return H(L,I,Ba(q),F);if(q.$$typeof===R)return H(L,I,Pa(L,q),F);Ha(L,q)}return null}function G(L,I,q,F,le){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return L=L.get(q)||null,b(I,L,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return L=L.get(F.key===null?q:F.key)||null,N(I,L,F,le);case C:return L=L.get(F.key===null?q:F.key)||null,B(I,L,F,le);case ie:return F=rr(F),G(L,I,q,F,le)}if(At(F)||pe(F))return L=L.get(q)||null,z(I,L,F,le,null);if(typeof F.then=="function")return G(L,I,q,Ba(F),le);if(F.$$typeof===R)return G(L,I,q,Pa(I,F),le);Ha(I,F)}return null}function ne(L,I,q,F){for(var le=null,xe=null,se=I,ve=I=0,Te=null;se!==null&&ve<q.length;ve++){se.index>ve?(Te=se,se=null):Te=se.sibling;var Re=H(L,se,q[ve],F);if(Re===null){se===null&&(se=Te);break}i&&se&&Re.alternate===null&&s(L,se),I=y(Re,I,ve),xe===null?le=Re:xe.sibling=Re,xe=Re,se=Te}if(ve===q.length)return a(L,se),Ce&&Pn(L,ve),le;if(se===null){for(;ve<q.length;ve++)se=$(L,q[ve],F),se!==null&&(I=y(se,I,ve),xe===null?le=se:xe.sibling=se,xe=se);return Ce&&Pn(L,ve),le}for(se=c(se);ve<q.length;ve++)Te=G(se,L,ve,q[ve],F),Te!==null&&(i&&Te.alternate!==null&&se.delete(Te.key===null?ve:Te.key),I=y(Te,I,ve),xe===null?le=Te:xe.sibling=Te,xe=Te);return i&&se.forEach(function(Ni){return s(L,Ni)}),Ce&&Pn(L,ve),le}function ue(L,I,q,F){if(q==null)throw Error(r(151));for(var le=null,xe=null,se=I,ve=I=0,Te=null,Re=q.next();se!==null&&!Re.done;ve++,Re=q.next()){se.index>ve?(Te=se,se=null):Te=se.sibling;var Ni=H(L,se,Re.value,F);if(Ni===null){se===null&&(se=Te);break}i&&se&&Ni.alternate===null&&s(L,se),I=y(Ni,I,ve),xe===null?le=Ni:xe.sibling=Ni,xe=Ni,se=Te}if(Re.done)return a(L,se),Ce&&Pn(L,ve),le;if(se===null){for(;!Re.done;ve++,Re=q.next())Re=$(L,Re.value,F),Re!==null&&(I=y(Re,I,ve),xe===null?le=Re:xe.sibling=Re,xe=Re);return Ce&&Pn(L,ve),le}for(se=c(se);!Re.done;ve++,Re=q.next())Re=G(se,L,ve,Re.value,F),Re!==null&&(i&&Re.alternate!==null&&se.delete(Re.key===null?ve:Re.key),I=y(Re,I,ve),xe===null?le=Re:xe.sibling=Re,xe=Re);return i&&se.forEach(function(UT){return s(L,UT)}),Ce&&Pn(L,ve),le}function qe(L,I,q,F){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var le=q.key;I!==null;){if(I.key===le){if(le=q.type,le===x){if(I.tag===7){a(L,I.sibling),F=g(I,q.props.children),F.return=L,L=F;break e}}else if(I.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ie&&rr(le)===I.type){a(L,I.sibling),F=g(I,q.props),po(F,q),F.return=L,L=F;break e}a(L,I);break}else s(L,I);I=I.sibling}q.type===x?(F=Zi(q.props.children,L.mode,F,q.key),F.return=L,L=F):(F=ka(q.type,q.key,q.props,null,L.mode,F),po(F,q),F.return=L,L=F)}return E(L);case C:e:{for(le=q.key;I!==null;){if(I.key===le)if(I.tag===4&&I.stateNode.containerInfo===q.containerInfo&&I.stateNode.implementation===q.implementation){a(L,I.sibling),F=g(I,q.children||[]),F.return=L,L=F;break e}else{a(L,I);break}else s(L,I);I=I.sibling}F=ec(q,L.mode,F),F.return=L,L=F}return E(L);case ie:return q=rr(q),qe(L,I,q,F)}if(At(q))return ne(L,I,q,F);if(pe(q)){if(le=pe(q),typeof le!="function")throw Error(r(150));return q=le.call(q),ue(L,I,q,F)}if(typeof q.then=="function")return qe(L,I,Ba(q),F);if(q.$$typeof===R)return qe(L,I,Pa(L,q),F);Ha(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,I!==null&&I.tag===6?(a(L,I.sibling),F=g(I,q),F.return=L,L=F):(a(L,I),F=Zu(q,L.mode,F),F.return=L,L=F),E(L)):a(L,I)}return function(L,I,q,F){try{ho=0;var le=qe(L,I,q,F);return Xr=null,le}catch(se){if(se===Wr||se===Oa)throw se;var xe=Gt(29,se,null,L.mode);return xe.lanes=F,xe.return=L,xe}finally{}}}var or=kp(!0),Dp=kp(!1),fi=!1;function fc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pi(i,s,a){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=Ia(i),gp(i,null,a),s}return Ma(i,c,s,a),Ia(i)}function mo(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,a|=c,s.lanes=a,Ch(i,a)}}function pc(i,s){var a=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?g=y=s:y=y.next=s}else g=y=s;a={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var mc=!1;function go(){if(mc){var i=Qr;if(i!==null)throw i}}function yo(i,s,a,c){mc=!1;var g=i.updateQueue;fi=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,b=g.shared.pending;if(b!==null){g.shared.pending=null;var N=b,B=N.next;N.next=null,E===null?y=B:E.next=B,E=N;var z=i.alternate;z!==null&&(z=z.updateQueue,b=z.lastBaseUpdate,b!==E&&(b===null?z.firstBaseUpdate=B:b.next=B,z.lastBaseUpdate=N))}if(y!==null){var $=g.baseState;E=0,z=B=N=null,b=y;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Se&H)===H:(c&H)===H){H!==0&&H===Yr&&(mc=!0),z!==null&&(z=z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ne=i,ue=b;H=s;var qe=a;switch(ue.tag){case 1:if(ne=ue.payload,typeof ne=="function"){$=ne.call(qe,$,H);break e}$=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ue.payload,H=typeof ne=="function"?ne.call(qe,$,H):ne,H==null)break e;$=_({},$,H);break e;case 2:fi=!0}}H=b.callback,H!==null&&(i.flags|=64,G&&(i.flags|=8192),G=g.callbacks,G===null?g.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},z===null?(B=z=G,N=$):z=z.next=G,E|=H;if(b=b.next,b===null){if(b=g.shared.pending,b===null)break;G=b,b=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);z===null&&(N=$),g.baseState=N,g.firstBaseUpdate=B,g.lastBaseUpdate=z,y===null&&(g.shared.lanes=0),_i|=E,i.lanes=E,i.memoizedState=$}}function Up(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Pp(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Up(a[i],s)}var Zr=U(null),Ga=U(0);function Lp(i,s){i=Jn,Z(Ga,i),Z(Zr,s),Jn=i|s.baseLanes}function gc(){Z(Ga,Jn),Z(Zr,Zr.current)}function yc(){Jn=Ga.current,J(Zr),J(Ga)}var Vt=U(null),an=null;function mi(i){var s=i.alternate;Z(Ze,Ze.current&1),Z(Vt,i),an===null&&(s===null||Zr.current!==null||s.memoizedState!==null)&&(an=i)}function vc(i){Z(Ze,Ze.current),Z(Vt,i),an===null&&(an=i)}function Op(i){i.tag===22?(Z(Ze,Ze.current),Z(Vt,i),an===null&&(an=i)):gi()}function gi(){Z(Ze,Ze.current),Z(Vt,Vt.current)}function zt(i){J(Vt),an===i&&(an=null),J(Ze)}var Ze=U(0);function Va(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||bd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qn=0,ye=null,Le=null,nt=null,za=!1,es=!1,ar=!1,Fa=0,vo=0,ts=null,CS=0;function Ye(){throw Error(r(321))}function _c(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Ht(i[a],s[a]))return!1;return!0}function wc(i,s,a,c,g,y){return qn=y,ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=i===null||i.memoizedState===null?wm:Pc,ar=!1,y=a(c,g),ar=!1,es&&(y=Bp(s,a,c,g)),qp(i),y}function qp(i){V.H=Eo;var s=Le!==null&&Le.next!==null;if(qn=0,nt=Le=ye=null,za=!1,vo=0,ts=null,s)throw Error(r(300));i===null||it||(i=i.dependencies,i!==null&&Ua(i)&&(it=!0))}function Bp(i,s,a,c){ye=i;var g=0;do{if(es&&(ts=null),vo=0,es=!1,25<=g)throw Error(r(301));if(g+=1,nt=Le=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=Em,y=s(a,c)}while(es);return y}function bS(){var i=V.H,s=i.useState()[0];return s=typeof s.then=="function"?_o(s):s,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(ye.flags|=1024),s}function Ec(){var i=Fa!==0;return Fa=0,i}function Sc(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Tc(i){if(za){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}za=!1}qn=0,nt=Le=ye=null,es=!1,vo=Fa=0,ts=null}function Tt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ye.memoizedState=nt=i:nt=nt.next=i,nt}function et(){if(Le===null){var i=ye.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var s=nt===null?ye.memoizedState:nt.next;if(s!==null)nt=s,Le=i;else{if(i===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},nt===null?ye.memoizedState=nt=i:nt=nt.next=i}return nt}function $a(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(i){var s=vo;return vo+=1,ts===null&&(ts=[]),i=Np(ts,i,s),s=ye,(nt===null?s.memoizedState:nt.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?wm:Pc),i}function Ja(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _o(i);if(i.$$typeof===R)return ht(i)}throw Error(r(438,String(i)))}function Cc(i){var s=null,a=ye.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=$a(),ye.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),c=0;c<i;c++)a[c]=X;return s.index++,a}function Bn(i,s){return typeof s=="function"?s(i):s}function ja(i){var s=et();return bc(s,Le,i)}function bc(i,s,a){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}s.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var b=E=null,N=null,B=s,z=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Se&$)===$:(qn&$)===$){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Yr&&(z=!0);else if((qn&H)===H){B=B.next,H===Yr&&(z=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=$,E=y):N=N.next=$,ye.lanes|=H,_i|=H;$=B.action,ar&&a(y,$),y=B.hasEagerState?B.eagerState:a(y,$)}else H={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=H,E=y):N=N.next=H,ye.lanes|=$,_i|=$;B=B.next}while(B!==null&&B!==s);if(N===null?E=y:N.next=b,!Ht(y,i.memoizedState)&&(it=!0,z&&(a=Qr,a!==null)))throw a;i.memoizedState=y,i.baseState=E,i.baseQueue=N,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ac(i){var s=et(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var c=a.dispatch,g=a.pending,y=s.memoizedState;if(g!==null){a.pending=null;var E=g=g.next;do y=i(y,E.action),E=E.next;while(E!==g);Ht(y,s.memoizedState)||(it=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,c]}function Hp(i,s,a){var c=ye,g=et(),y=Ce;if(y){if(a===void 0)throw Error(r(407));a=a()}else a=s();var E=!Ht((Le||g).memoizedState,a);if(E&&(g.memoizedState=a,it=!0),g=g.queue,Nc(zp.bind(null,c,g,i),[i]),g.getSnapshot!==s||E||nt!==null&&nt.memoizedState.tag&1){if(c.flags|=2048,ns(9,{destroy:void 0},Vp.bind(null,c,g,a,s),null),He===null)throw Error(r(349));y||(qn&127)!==0||Gp(c,s,a)}return a}function Gp(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=ye.updateQueue,s===null?(s=$a(),ye.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Vp(i,s,a,c){s.value=a,s.getSnapshot=c,Fp(s)&&$p(i)}function zp(i,s,a){return a(function(){Fp(s)&&$p(i)})}function Fp(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Ht(i,a)}catch{return!0}}function $p(i){var s=Xi(i,2);s!==null&&Dt(s,i,2)}function xc(i){var s=Tt();if(typeof i=="function"){var a=i;if(i=a(),ar){si(!0);try{a()}finally{si(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:i},s}function Jp(i,s,a,c){return i.baseState=a,bc(i,Le,typeof c=="function"?c:Bn)}function AS(i,s,a,c,g){if(Qa(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};V.T!==null?a(!0):y.isTransition=!1,c(y),a=s.pending,a===null?(y.next=s.pending=y,jp(s,y)):(y.next=a.next,s.pending=a.next=y)}}function jp(i,s){var a=s.action,c=s.payload,g=i.state;if(s.isTransition){var y=V.T,E={};V.T=E;try{var b=a(g,c),N=V.S;N!==null&&N(E,b),Kp(i,s,b)}catch(B){Rc(i,s,B)}finally{y!==null&&E.types!==null&&(y.types=E.types),V.T=y}}else try{y=a(g,c),Kp(i,s,y)}catch(B){Rc(i,s,B)}}function Kp(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Yp(i,s,c)},function(c){return Rc(i,s,c)}):Yp(i,s,a)}function Yp(i,s,a){s.status="fulfilled",s.value=a,Qp(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,jp(i,a)))}function Rc(i,s,a){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,Qp(s),s=s.next;while(s!==c)}i.action=null}function Qp(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Wp(i,s){return s}function Xp(i,s){if(Ce){var a=He.formState;if(a!==null){e:{var c=ye;if(Ce){if(Ve){t:{for(var g=Ve,y=on;g.nodeType!==8;){if(!y){g=null;break t}if(g=ln(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ve=ln(g.nextSibling),c=g.data==="F!";break e}}ci(c)}c=!1}c&&(s=a[0])}}return a=Tt(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:s},a.queue=c,a=ym.bind(null,ye,c),c.dispatch=a,c=xc(!1),y=Uc.bind(null,ye,!1,c.queue),c=Tt(),g={state:s,dispatch:null,action:i,pending:null},c.queue=g,a=AS.bind(null,ye,g,y,a),g.dispatch=a,c.memoizedState=i,[s,a,!1]}function Zp(i){var s=et();return em(s,Le,i)}function em(i,s,a){if(s=bc(i,s,Wp)[0],i=ja(Bn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=_o(s)}catch(E){throw E===Wr?Oa:E}else c=s;s=et();var g=s.queue,y=g.dispatch;return a!==s.memoizedState&&(ye.flags|=2048,ns(9,{destroy:void 0},xS.bind(null,g,a),null)),[c,y,i]}function xS(i,s){i.action=s}function tm(i){var s=et(),a=Le;if(a!==null)return em(s,a,i);et(),s=s.memoizedState,a=et();var c=a.queue.dispatch;return a.memoizedState=i,[s,c,!1]}function ns(i,s,a,c){return i={tag:i,create:a,deps:c,inst:s,next:null},s=ye.updateQueue,s===null&&(s=$a(),ye.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(c=a.next,a.next=i,i.next=c,s.lastEffect=i),i}function nm(){return et().memoizedState}function Ka(i,s,a,c){var g=Tt();ye.flags|=i,g.memoizedState=ns(1|s,{destroy:void 0},a,c===void 0?null:c)}function Ya(i,s,a,c){var g=et();c=c===void 0?null:c;var y=g.memoizedState.inst;Le!==null&&c!==null&&_c(c,Le.memoizedState.deps)?g.memoizedState=ns(s,y,a,c):(ye.flags|=i,g.memoizedState=ns(1|s,y,a,c))}function im(i,s){Ka(8390656,8,i,s)}function Nc(i,s){Ya(2048,8,i,s)}function RS(i){ye.flags|=4;var s=ye.updateQueue;if(s===null)s=$a(),ye.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function rm(i){var s=et().memoizedState;return RS({ref:s,nextImpl:i}),function(){if((Me&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function sm(i,s){return Ya(4,2,i,s)}function om(i,s){return Ya(4,4,i,s)}function am(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function lm(i,s,a){a=a!=null?a.concat([i]):null,Ya(4,4,am.bind(null,s,i),a)}function Mc(){}function um(i,s){var a=et();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&_c(s,c[1])?c[0]:(a.memoizedState=[i,s],i)}function cm(i,s){var a=et();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&_c(s,c[1]))return c[0];if(c=i(),ar){si(!0);try{i()}finally{si(!1)}}return a.memoizedState=[c,s],c}function Ic(i,s,a){return a===void 0||(qn&1073741824)!==0&&(Se&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=dg(),ye.lanes|=i,_i|=i,a)}function dm(i,s,a,c){return Ht(a,s)?a:Zr.current!==null?(i=Ic(i,a,c),Ht(i,s)||(it=!0),i):(qn&42)===0||(qn&1073741824)!==0&&(Se&261930)===0?(it=!0,i.memoizedState=a):(i=dg(),ye.lanes|=i,_i|=i,s)}function fm(i,s,a,c,g){var y=W.p;W.p=y!==0&&8>y?y:8;var E=V.T,b={};V.T=b,Uc(i,!1,s,a);try{var N=g(),B=V.S;if(B!==null&&B(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var z=TS(N,c);wo(i,s,z,Jt(i))}else wo(i,s,c,Jt(i))}catch($){wo(i,s,{then:function(){},status:"rejected",reason:$},Jt())}finally{W.p=y,E!==null&&b.types!==null&&(E.types=b.types),V.T=E}}function NS(){}function kc(i,s,a,c){if(i.tag!==5)throw Error(r(476));var g=hm(i).queue;fm(i,g,s,fe,a===null?NS:function(){return pm(i),a(c)})}function hm(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function pm(i){var s=hm(i);s.next===null&&(s=i.alternate.memoizedState),wo(i,s.next.queue,{},Jt())}function Dc(){return ht(Oo)}function mm(){return et().memoizedState}function gm(){return et().memoizedState}function MS(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Jt();i=hi(a);var c=pi(s,i,a);c!==null&&(Dt(c,s,a),mo(c,s,a)),s={cache:lc()},i.payload=s;return}s=s.return}}function IS(i,s,a){var c=Jt();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qa(i)?vm(s,a):(a=Wu(i,s,a,c),a!==null&&(Dt(a,i,c),_m(a,s,c)))}function ym(i,s,a){var c=Jt();wo(i,s,a,c)}function wo(i,s,a,c){var g={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qa(i))vm(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,b=y(E,a);if(g.hasEagerState=!0,g.eagerState=b,Ht(b,E))return Ma(i,s,g,0),He===null&&Na(),!1}catch{}finally{}if(a=Wu(i,s,g,c),a!==null)return Dt(a,i,c),_m(a,s,c),!0}return!1}function Uc(i,s,a,c){if(c={lane:2,revertLane:fd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qa(i)){if(s)throw Error(r(479))}else s=Wu(i,a,c,2),s!==null&&Dt(s,i,2)}function Qa(i){var s=i.alternate;return i===ye||s!==null&&s===ye}function vm(i,s){es=za=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function _m(i,s,a){if((a&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,a|=c,s.lanes=a,Ch(i,a)}}var Eo={readContext:ht,use:Ja,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Eo.useEffectEvent=Ye;var wm={readContext:ht,use:Ja,useCallback:function(i,s){return Tt().memoizedState=[i,s===void 0?null:s],i},useContext:ht,useEffect:im,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Ka(4194308,4,am.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Ka(4194308,4,i,s)},useInsertionEffect:function(i,s){Ka(4,2,i,s)},useMemo:function(i,s){var a=Tt();s=s===void 0?null:s;var c=i();if(ar){si(!0);try{i()}finally{si(!1)}}return a.memoizedState=[c,s],c},useReducer:function(i,s,a){var c=Tt();if(a!==void 0){var g=a(s);if(ar){si(!0);try{a(s)}finally{si(!1)}}}else g=s;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=IS.bind(null,ye,i),[c.memoizedState,i]},useRef:function(i){var s=Tt();return i={current:i},s.memoizedState=i},useState:function(i){i=xc(i);var s=i.queue,a=ym.bind(null,ye,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Mc,useDeferredValue:function(i,s){var a=Tt();return Ic(a,i,s)},useTransition:function(){var i=xc(!1);return i=fm.bind(null,ye,i.queue,!0,!1),Tt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var c=ye,g=Tt();if(Ce){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),He===null)throw Error(r(349));(Se&127)!==0||Gp(c,s,a)}g.memoizedState=a;var y={value:a,getSnapshot:s};return g.queue=y,im(zp.bind(null,c,y,i),[i]),c.flags|=2048,ns(9,{destroy:void 0},Vp.bind(null,c,y,a,s),null),a},useId:function(){var i=Tt(),s=He.identifierPrefix;if(Ce){var a=bn,c=Cn;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Fa++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=CS++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Dc,useFormState:Xp,useActionState:Xp,useOptimistic:function(i){var s=Tt();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Uc.bind(null,ye,!0,a),a.dispatch=s,[i,s]},useMemoCache:Cc,useCacheRefresh:function(){return Tt().memoizedState=MS.bind(null,ye)},useEffectEvent:function(i){var s=Tt(),a={impl:i};return s.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pc={readContext:ht,use:Ja,useCallback:um,useContext:ht,useEffect:Nc,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:om,useMemo:cm,useReducer:ja,useRef:nm,useState:function(){return ja(Bn)},useDebugValue:Mc,useDeferredValue:function(i,s){var a=et();return dm(a,Le.memoizedState,i,s)},useTransition:function(){var i=ja(Bn)[0],s=et().memoizedState;return[typeof i=="boolean"?i:_o(i),s]},useSyncExternalStore:Hp,useId:mm,useHostTransitionStatus:Dc,useFormState:Zp,useActionState:Zp,useOptimistic:function(i,s){var a=et();return Jp(a,Le,i,s)},useMemoCache:Cc,useCacheRefresh:gm};Pc.useEffectEvent=rm;var Em={readContext:ht,use:Ja,useCallback:um,useContext:ht,useEffect:Nc,useImperativeHandle:lm,useInsertionEffect:sm,useLayoutEffect:om,useMemo:cm,useReducer:Ac,useRef:nm,useState:function(){return Ac(Bn)},useDebugValue:Mc,useDeferredValue:function(i,s){var a=et();return Le===null?Ic(a,i,s):dm(a,Le.memoizedState,i,s)},useTransition:function(){var i=Ac(Bn)[0],s=et().memoizedState;return[typeof i=="boolean"?i:_o(i),s]},useSyncExternalStore:Hp,useId:mm,useHostTransitionStatus:Dc,useFormState:tm,useActionState:tm,useOptimistic:function(i,s){var a=et();return Le!==null?Jp(a,Le,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:gm};Em.useEffectEvent=rm;function Lc(i,s,a,c){s=i.memoizedState,a=a(c,s),a=a==null?s:_({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Oc={enqueueSetState:function(i,s,a){i=i._reactInternals;var c=Jt(),g=hi(c);g.payload=s,a!=null&&(g.callback=a),s=pi(i,g,c),s!==null&&(Dt(s,i,c),mo(s,i,c))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var c=Jt(),g=hi(c);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=pi(i,g,c),s!==null&&(Dt(s,i,c),mo(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Jt(),c=hi(a);c.tag=2,s!=null&&(c.callback=s),s=pi(i,c,a),s!==null&&(Dt(s,i,a),mo(s,i,a))}};function Sm(i,s,a,c,g,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,E):s.prototype&&s.prototype.isPureReactComponent?!oo(a,c)||!oo(g,y):!0}function Tm(i,s,a,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==i&&Oc.enqueueReplaceState(s,s.state,null)}function lr(i,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(i=i.defaultProps){a===s&&(a=_({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function Cm(i){Ra(i)}function bm(i){console.error(i)}function Am(i){Ra(i)}function Wa(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function xm(i,s,a){try{var c=i.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function qc(i,s,a){return a=hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Wa(i,s)},a}function Rm(i){return i=hi(i),i.tag=3,i}function Nm(i,s,a,c){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){xm(s,a,c)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){xm(s,a,c),typeof g!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function kS(i,s,a,c,g){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Kr(s,a,g,!0),a=Vt.current,a!==null){switch(a.tag){case 31:case 13:return an===null?ul():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=g,c===qa?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),ud(i,c,g)),!1;case 22:return a.flags|=65536,c===qa?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),ud(i,c,g)),!1}throw Error(r(435,a.tag))}return ud(i,c,g),ul(),!1}if(Ce)return s=Vt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==ic&&(i=Error(r(422),{cause:c}),uo(nn(i,a)))):(c!==ic&&(s=Error(r(423),{cause:c}),uo(nn(s,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=nn(c,a),g=qc(i.stateNode,c,g),pc(i,g),Qe!==4&&(Qe=2)),!1;var y=Error(r(520),{cause:c});if(y=nn(y,a),No===null?No=[y]:No.push(y),Qe!==4&&(Qe=2),s===null)return!0;c=nn(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=qc(a.stateNode,c,i),pc(a,i),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Rm(g),Nm(g,i,a,c),pc(a,g),!1}a=a.return}while(a!==null);return!1}var Bc=Error(r(461)),it=!1;function pt(i,s,a,c){s.child=i===null?Dp(s,null,a,c):or(s,i.child,a,c)}function Mm(i,s,a,c,g){a=a.render;var y=s.ref;if("ref"in c){var E={};for(var b in c)b!=="ref"&&(E[b]=c[b])}else E=c;return nr(s),c=wc(i,s,a,E,y,g),b=Ec(),i!==null&&!it?(Sc(i,s,g),Hn(i,s,g)):(Ce&&b&&tc(s),s.flags|=1,pt(i,s,c,g),s.child)}function Im(i,s,a,c,g){if(i===null){var y=a.type;return typeof y=="function"&&!Xu(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,km(i,s,y,c,g)):(i=ka(a.type,null,c,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!jc(i,g)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:oo,a(E,c)&&i.ref===s.ref)return Hn(i,s,g)}return s.flags|=1,i=Un(y,c),i.ref=s.ref,i.return=s,s.child=i}function km(i,s,a,c,g){if(i!==null){var y=i.memoizedProps;if(oo(y,c)&&i.ref===s.ref)if(it=!1,s.pendingProps=c=y,jc(i,g))(i.flags&131072)!==0&&(it=!0);else return s.lanes=i.lanes,Hn(i,s,g)}return Hc(i,s,a,c,g)}function Dm(i,s,a,c){var g=c.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,i!==null){for(c=s.child=i.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~y}else c=0,s.child=null;return Um(i,s,y,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&La(s,y!==null?y.cachePool:null),y!==null?Lp(s,y):gc(),Op(s);else return c=s.lanes=536870912,Um(i,s,y!==null?y.baseLanes|a:a,a,c)}else y!==null?(La(s,y.cachePool),Lp(s,y),gi(),s.memoizedState=null):(i!==null&&La(s,null),gc(),gi());return pt(i,s,g,a),s.child}function So(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Um(i,s,a,c,g){var y=cc();return y=y===null?null:{parent:tt._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},i!==null&&La(s,null),gc(),Op(s),i!==null&&Kr(i,s,c,!0),s.childLanes=g,null}function Xa(i,s){return s=el({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Pm(i,s,a){return or(s,i.child,null,a),i=Xa(s,s.pendingProps),i.flags|=2,zt(s),s.memoizedState=null,i}function DS(i,s,a){var c=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ce){if(c.mode==="hidden")return i=Xa(s,c),s.lanes=536870912,So(null,i);if(vc(s),(i=Ve)?(i=jg(i,on),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:li!==null?{id:Cn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},a=vp(i),a.return=s,s.child=a,ft=s,Ve=null)):i=null,i===null)throw ci(s);return s.lanes=536870912,null}return Xa(s,c)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(vc(s),g)if(s.flags&256)s.flags&=-257,s=Pm(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(it||Kr(i,s,a,!1),g=(a&i.childLanes)!==0,it||g){if(c=He,c!==null&&(E=bh(c,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,Xi(i,E),Dt(c,i,E),Bc;ul(),s=Pm(i,s,a)}else i=y.treeContext,Ve=ln(E.nextSibling),ft=s,Ce=!0,ui=null,on=!1,i!==null&&Ep(s,i),s=Xa(s,c),s.flags|=4096;return s}return i=Un(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Za(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Hc(i,s,a,c,g){return nr(s),a=wc(i,s,a,c,void 0,g),c=Ec(),i!==null&&!it?(Sc(i,s,g),Hn(i,s,g)):(Ce&&c&&tc(s),s.flags|=1,pt(i,s,a,g),s.child)}function Lm(i,s,a,c,g,y){return nr(s),s.updateQueue=null,a=Bp(s,c,a,g),qp(i),c=Ec(),i!==null&&!it?(Sc(i,s,y),Hn(i,s,y)):(Ce&&c&&tc(s),s.flags|=1,pt(i,s,a,y),s.child)}function Om(i,s,a,c,g){if(nr(s),s.stateNode===null){var y=Fr,E=a.contextType;typeof E=="object"&&E!==null&&(y=ht(E)),y=new a(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Oc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},fc(s),E=a.contextType,y.context=typeof E=="object"&&E!==null?ht(E):Fr,y.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Lc(s,a,E,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Oc.enqueueReplaceState(y,y.state,null),yo(s,c,y,g),go(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var b=s.memoizedProps,N=lr(a,b);y.props=N;var B=y.context,z=a.contextType;E=Fr,typeof z=="object"&&z!==null&&(E=ht(z));var $=a.getDerivedStateFromProps;z=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b||B!==E)&&Tm(s,y,c,E),fi=!1;var H=s.memoizedState;y.state=H,yo(s,c,y,g),go(),B=s.memoizedState,b||H!==B||fi?(typeof $=="function"&&(Lc(s,a,$,c),B=s.memoizedState),(N=fi||Sm(s,a,N,c,H,B,E))?(z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),y.props=c,y.state=B,y.context=E,c=N):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,hc(i,s),E=s.memoizedProps,z=lr(a,E),y.props=z,$=s.pendingProps,H=y.context,B=a.contextType,N=Fr,typeof B=="object"&&B!==null&&(N=ht(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==$||H!==N)&&Tm(s,y,c,N),fi=!1,H=s.memoizedState,y.state=H,yo(s,c,y,g),go();var G=s.memoizedState;E!==$||H!==G||fi||i!==null&&i.dependencies!==null&&Ua(i.dependencies)?(typeof b=="function"&&(Lc(s,a,b,c),G=s.memoizedState),(z=fi||Sm(s,a,z,c,H,G,N)||i!==null&&i.dependencies!==null&&Ua(i.dependencies))?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,G,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,G,N)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=G),y.props=c,y.state=G,y.context=N,c=z):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,Za(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=or(s,i.child,null,g),s.child=or(s,null,a,g)):pt(i,s,a,g),s.memoizedState=y.state,i=s.child):i=Hn(i,s,g),i}function qm(i,s,a,c){return er(),s.flags|=256,pt(i,s,a,c),s.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(i){return{baseLanes:i,cachePool:xp()}}function zc(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=$t),i}function Bm(i,s,a){var c=s.pendingProps,g=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Ze.current&2)!==0),E&&(g=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ce){if(g?mi(s):gi(),(i=Ve)?(i=jg(i,on),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:li!==null?{id:Cn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},a=vp(i),a.return=s,s.child=a,ft=s,Ve=null)):i=null,i===null)throw ci(s);return bd(i)?s.lanes=32:s.lanes=536870912,null}var b=c.children;return c=c.fallback,g?(gi(),g=s.mode,b=el({mode:"hidden",children:b},g),c=Zi(c,g,a,null),b.return=s,c.return=s,b.sibling=c,s.child=b,c=s.child,c.memoizedState=Vc(a),c.childLanes=zc(i,E,a),s.memoizedState=Gc,So(null,c)):(mi(s),Fc(s,b))}var N=i.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(y)s.flags&256?(mi(s),s.flags&=-257,s=$c(i,s,a)):s.memoizedState!==null?(gi(),s.child=i.child,s.flags|=128,s=null):(gi(),b=c.fallback,g=s.mode,c=el({mode:"visible",children:c.children},g),b=Zi(b,g,a,null),b.flags|=2,c.return=s,b.return=s,c.sibling=b,s.child=c,or(s,i.child,null,a),c=s.child,c.memoizedState=Vc(a),c.childLanes=zc(i,E,a),s.memoizedState=Gc,s=So(null,c));else if(mi(s),bd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var B=E.dgst;E=B,c=Error(r(419)),c.stack="",c.digest=E,uo({value:c,source:null,stack:null}),s=$c(i,s,a)}else if(it||Kr(i,s,a,!1),E=(a&i.childLanes)!==0,it||E){if(E=He,E!==null&&(c=bh(E,a),c!==0&&c!==N.retryLane))throw N.retryLane=c,Xi(i,c),Dt(E,i,c),Bc;Cd(b)||ul(),s=$c(i,s,a)}else Cd(b)?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,Ve=ln(b.nextSibling),ft=s,Ce=!0,ui=null,on=!1,i!==null&&Ep(s,i),s=Fc(s,c.children),s.flags|=4096);return s}return g?(gi(),b=c.fallback,g=s.mode,N=i.child,B=N.sibling,c=Un(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,B!==null?b=Un(B,b):(b=Zi(b,g,a,null),b.flags|=2),b.return=s,c.return=s,c.sibling=b,s.child=c,So(null,c),c=s.child,b=i.child.memoizedState,b===null?b=Vc(a):(g=b.cachePool,g!==null?(N=tt._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=xp(),b={baseLanes:b.baseLanes|a,cachePool:g}),c.memoizedState=b,c.childLanes=zc(i,E,a),s.memoizedState=Gc,So(i.child,c)):(mi(s),a=i.child,i=a.sibling,a=Un(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=a,s.memoizedState=null,a)}function Fc(i,s){return s=el({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function el(i,s){return i=Gt(22,i,null,s),i.lanes=0,i}function $c(i,s,a){return or(s,i.child,null,a),i=Fc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Hm(i,s,a){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),oc(i.return,s,a)}function Jc(i,s,a,c,g,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:g,treeForkCount:y}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=a,E.tailMode=g,E.treeForkCount=y)}function Gm(i,s,a){var c=s.pendingProps,g=c.revealOrder,y=c.tail;c=c.children;var E=Ze.current,b=(E&2)!==0;if(b?(E=E&1|2,s.flags|=128):E&=1,Z(Ze,E),pt(i,s,c,a),c=Ce?lo:0,!b&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hm(i,a,s);else if(i.tag===19)Hm(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=s.child,g=null;a!==null;)i=a.alternate,i!==null&&Va(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=s.child,s.child=null):(g=a.sibling,a.sibling=null),Jc(s,!1,g,a,y,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Va(i)===null){s.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}Jc(s,!0,a,null,y,c);break;case"together":Jc(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Hn(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),_i|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Kr(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Un(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Un(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function jc(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ua(i)))}function US(i,s,a){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),di(s,tt,i.memoizedState.cache),er();break;case 27:case 5:js(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:di(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,vc(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(mi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Bm(i,s,a):(mi(s),i=Hn(i,s,a),i!==null?i.sibling:null);mi(s);break;case 19:var g=(i.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Kr(i,s,a,!1),c=(a&s.childLanes)!==0),g){if(c)return Gm(i,s,a);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Z(Ze,Ze.current),c)break;return null;case 22:return s.lanes=0,Dm(i,s,a,s.pendingProps);case 24:di(s,tt,i.memoizedState.cache)}return Hn(i,s,a)}function Vm(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)it=!0;else{if(!jc(i,a)&&(s.flags&128)===0)return it=!1,US(i,s,a);it=(i.flags&131072)!==0}else it=!1,Ce&&(s.flags&1048576)!==0&&wp(s,lo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=rr(s.elementType),s.type=i,typeof i=="function")Xu(i)?(c=lr(i,c),s.tag=1,s=Om(null,s,i,c,a)):(s.tag=0,s=Hc(null,s,i,c,a));else{if(i!=null){var g=i.$$typeof;if(g===O){s.tag=11,s=Mm(null,s,i,c,a);break e}else if(g===K){s.tag=14,s=Im(null,s,i,c,a);break e}}throw s=Xt(i)||i,Error(r(306,s,""))}}return s;case 0:return Hc(i,s,s.type,s.pendingProps,a);case 1:return c=s.type,g=lr(c,s.pendingProps),Om(i,s,c,g,a);case 3:e:{if(St(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var y=s.memoizedState;g=y.element,hc(i,s),yo(s,c,null,a);var E=s.memoizedState;if(c=E.cache,di(s,tt,c),c!==y.cache&&ac(s,[tt],a,!0),go(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=qm(i,s,c,a);break e}else if(c!==g){g=nn(Error(r(424)),s),uo(g),s=qm(i,s,c,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ve=ln(i.firstChild),ft=s,Ce=!0,ui=null,on=!0,a=Dp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(er(),c===g){s=Hn(i,s,a);break e}pt(i,s,c,a)}s=s.child}return s;case 26:return Za(i,s),i===null?(a=Zg(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ce||(a=s.type,i=s.pendingProps,c=gl(_e.current).createElement(a),c[dt]=s,c[xt]=i,mt(c,a,i),lt(c),s.stateNode=c):s.memoizedState=Zg(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return js(s),i===null&&Ce&&(c=s.stateNode=Qg(s.type,s.pendingProps,_e.current),ft=s,on=!0,g=Ve,Ci(s.type)?(Ad=g,Ve=ln(c.firstChild)):Ve=g),pt(i,s,s.pendingProps.children,a),Za(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ce&&((g=c=Ve)&&(c=cT(c,s.type,s.pendingProps,on),c!==null?(s.stateNode=c,ft=s,Ve=ln(c.firstChild),on=!1,g=!0):g=!1),g||ci(s)),js(s),g=s.type,y=s.pendingProps,E=i!==null?i.memoizedProps:null,c=y.children,Ed(g,y)?c=null:E!==null&&Ed(g,E)&&(s.flags|=32),s.memoizedState!==null&&(g=wc(i,s,bS,null,null,a),Oo._currentValue=g),Za(i,s),pt(i,s,c,a),s.child;case 6:return i===null&&Ce&&((i=a=Ve)&&(a=dT(a,s.pendingProps,on),a!==null?(s.stateNode=a,ft=s,Ve=null,i=!0):i=!1),i||ci(s)),null;case 13:return Bm(i,s,a);case 4:return St(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=or(s,null,c,a):pt(i,s,c,a),s.child;case 11:return Mm(i,s,s.type,s.pendingProps,a);case 7:return pt(i,s,s.pendingProps,a),s.child;case 8:return pt(i,s,s.pendingProps.children,a),s.child;case 12:return pt(i,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,di(s,s.type,c.value),pt(i,s,c.children,a),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,nr(s),g=ht(g),c=c(g),s.flags|=1,pt(i,s,c,a),s.child;case 14:return Im(i,s,s.type,s.pendingProps,a);case 15:return km(i,s,s.type,s.pendingProps,a);case 19:return Gm(i,s,a);case 31:return DS(i,s,a);case 22:return Dm(i,s,a,s.pendingProps);case 24:return nr(s),c=ht(tt),i===null?(g=cc(),g===null&&(g=He,y=lc(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=a),g=y),s.memoizedState={parent:c,cache:g},fc(s),di(s,tt,g)):((i.lanes&a)!==0&&(hc(i,s),yo(s,null,null,a),go()),g=i.memoizedState,y=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),di(s,tt,c)):(c=y.cache,di(s,tt,c),c!==g.cache&&ac(s,[tt],a,!0))),pt(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Gn(i){i.flags|=4}function Kc(i,s,a,c,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(mg())i.flags|=8192;else throw sr=qa,dc}else i.flags&=-16777217}function zm(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ry(s))if(mg())i.flags|=8192;else throw sr=qa,dc}function tl(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Sh():536870912,i.lanes|=s,os|=s)}function To(i,s){if(!Ce)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ze(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,c=0;if(s)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=a,s}function PS(i,s,a){var c=s.pendingProps;switch(nc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),On(tt),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(jr(s)?Gn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rc())),ze(s),null;case 26:var g=s.type,y=s.memoizedState;return i===null?(Gn(s),y!==null?(ze(s),zm(s,y)):(ze(s),Kc(s,g,null,c,a))):y?y!==i.memoizedState?(Gn(s),ze(s),zm(s,y)):(ze(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Gn(s),ze(s),Kc(s,g,i,c,a)),null;case 27:if(fa(s),a=_e.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Gn(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ze(s),null}i=re.current,jr(s)?Sp(s):(i=Qg(g,c,a),s.stateNode=i,Gn(s))}return ze(s),null;case 5:if(fa(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Gn(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ze(s),null}if(y=re.current,jr(s))Sp(s);else{var E=gl(_e.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?E.createElement(g,{is:c.is}):E.createElement(g)}}y[dt]=s,y[xt]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=y;e:switch(mt(y,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Gn(s)}}return ze(s),Kc(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Gn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=_e.current,jr(s)){if(i=s.stateNode,a=s.memoizedProps,c=null,g=ft,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[dt]=s,i=!!(i.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Bg(i.nodeValue,a)),i||ci(s,!0)}else i=gl(i).createTextNode(c),i[dt]=s,s.stateNode=i}return ze(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(c=jr(s),a!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[dt]=s}else er(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),i=!1}else a=rc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(zt(s),s):(zt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ze(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=jr(s),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[dt]=s}else er(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),g=!1}else g=rc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(zt(s),s):(zt(s),null)}return zt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,i=i!==null&&i.memoizedState!==null,a&&(c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),tl(s,s.updateQueue),ze(s),null);case 4:return Xe(),i===null&&gd(s.stateNode.containerInfo),ze(s),null;case 10:return On(s.type),ze(s),null;case 19:if(J(Ze),c=s.memoizedState,c===null)return ze(s),null;if(g=(s.flags&128)!==0,y=c.rendering,y===null)if(g)To(c,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Va(i),y!==null){for(s.flags|=128,To(c,!1),i=y.updateQueue,s.updateQueue=i,tl(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)yp(a,i),a=a.sibling;return Z(Ze,Ze.current&1|2),Ce&&Pn(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&Ot()>ol&&(s.flags|=128,g=!0,To(c,!1),s.lanes=4194304)}else{if(!g)if(i=Va(y),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,tl(s,i),To(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Ce)return ze(s),null}else 2*Ot()-c.renderingStartTime>ol&&a!==536870912&&(s.flags|=128,g=!0,To(c,!1),s.lanes=4194304);c.isBackwards?(y.sibling=s.child,s.child=y):(i=c.last,i!==null?i.sibling=y:s.child=y,c.last=y)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ot(),i.sibling=null,a=Ze.current,Z(Ze,g?a&1|2:a&1),Ce&&Pn(s,c.treeForkCount),i):(ze(s),null);case 22:case 23:return zt(s),yc(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&tl(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),i!==null&&J(ir),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),On(tt),ze(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function LS(i,s){switch(nc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return On(tt),Xe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return fa(s),null;case 31:if(s.memoizedState!==null){if(zt(s),s.alternate===null)throw Error(r(340));er()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(zt(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));er()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return J(Ze),null;case 4:return Xe(),null;case 10:return On(s.type),null;case 22:case 23:return zt(s),yc(),i!==null&&J(ir),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return On(tt),null;case 25:return null;default:return null}}function Fm(i,s){switch(nc(s),s.tag){case 3:On(tt),Xe();break;case 26:case 27:case 5:fa(s);break;case 4:Xe();break;case 31:s.memoizedState!==null&&zt(s);break;case 13:zt(s);break;case 19:J(Ze);break;case 10:On(s.type);break;case 22:case 23:zt(s),yc(),i!==null&&J(ir);break;case 24:On(tt)}}function Co(i,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var g=c.next;a=g;do{if((a.tag&i)===i){c=void 0;var y=a.create,E=a.inst;c=y(),E.destroy=c}a=a.next}while(a!==g)}}catch(b){Ue(s,s.return,b)}}function yi(i,s,a){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var E=c.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,g=s;var N=a,B=b;try{B()}catch(z){Ue(g,N,z)}}}c=c.next}while(c!==y)}}catch(z){Ue(s,s.return,z)}}function $m(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Pp(s,a)}catch(c){Ue(i,i.return,c)}}}function Jm(i,s,a){a.props=lr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(c){Ue(i,s,c)}}function bo(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof a=="function"?i.refCleanup=a(c):a.current=c}}catch(g){Ue(i,s,g)}}function An(i,s){var a=i.ref,c=i.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(g){Ue(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Ue(i,s,g)}else a.current=null}function jm(i){var s=i.type,a=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(g){Ue(i,i.return,g)}}function Yc(i,s,a){try{var c=i.stateNode;rT(c,i.type,a,s),c[xt]=s}catch(g){Ue(i,i.return,g)}}function Km(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ci(i.type)||i.tag===4}function Qc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Km(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ci(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wc(i,s,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=kn));else if(c!==4&&(c===27&&Ci(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Wc(i,s,a),i=i.sibling;i!==null;)Wc(i,s,a),i=i.sibling}function nl(i,s,a){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(c!==4&&(c===27&&Ci(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(nl(i,s,a),i=i.sibling;i!==null;)nl(i,s,a),i=i.sibling}function Ym(i){var s=i.stateNode,a=i.memoizedProps;try{for(var c=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);mt(s,c,a),s[dt]=i,s[xt]=a}catch(y){Ue(i,i.return,y)}}var Vn=!1,rt=!1,Xc=!1,Qm=typeof WeakSet=="function"?WeakSet:Set,ut=null;function OS(i,s){if(i=i.containerInfo,_d=Tl,i=lp(i),$u(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,B=0,z=0,$=i,H=null;t:for(;;){for(var G;$!==a||g!==0&&$.nodeType!==3||(b=E+g),$!==y||c!==0&&$.nodeType!==3||(N=E+c),$.nodeType===3&&(E+=$.nodeValue.length),(G=$.firstChild)!==null;)H=$,$=G;for(;;){if($===i)break t;if(H===a&&++B===g&&(b=E),H===y&&++z===c&&(N=E),(G=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=G}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:i,selectionRange:a},Tl=!1,ut=s;ut!==null;)if(s=ut,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ut=i;else for(;ut!==null;){switch(s=ut,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,a=s,g=y.memoizedProps,y=y.memoizedState,c=a.stateNode;try{var ne=lr(a.type,g);i=c.getSnapshotBeforeUpdate(ne,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(ue){Ue(a,a.return,ue)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Td(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Td(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,ut=i;break}ut=s.return}}function Wm(i,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(i,a),c&4&&Co(5,a);break;case 1:if(Fn(i,a),c&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(E){Ue(a,a.return,E)}else{var g=lr(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Ue(a,a.return,E)}}c&64&&$m(a),c&512&&bo(a,a.return);break;case 3:if(Fn(i,a),c&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Pp(i,s)}catch(E){Ue(a,a.return,E)}}break;case 27:s===null&&c&4&&Ym(a);case 26:case 5:Fn(i,a),s===null&&c&4&&jm(a),c&512&&bo(a,a.return);break;case 12:Fn(i,a);break;case 31:Fn(i,a),c&4&&eg(i,a);break;case 13:Fn(i,a),c&4&&tg(i,a),c&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=JS.bind(null,a),fT(i,a))));break;case 22:if(c=a.memoizedState!==null||Vn,!c){s=s!==null&&s.memoizedState!==null||rt,g=Vn;var y=rt;Vn=c,(rt=s)&&!y?$n(i,a,(a.subtreeFlags&8772)!==0):Fn(i,a),Vn=g,rt=y}break;case 30:break;default:Fn(i,a)}}function Xm(i){var s=i.alternate;s!==null&&(i.alternate=null,Xm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ru(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Nt=!1;function zn(i,s,a){for(a=a.child;a!==null;)Zm(i,s,a),a=a.sibling}function Zm(i,s,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ks,a)}catch{}switch(a.tag){case 26:rt||An(a,s),zn(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||An(a,s);var c=$e,g=Nt;Ci(a.type)&&($e=a.stateNode,Nt=!1),zn(i,s,a),Uo(a.stateNode),$e=c,Nt=g;break;case 5:rt||An(a,s);case 6:if(c=$e,g=Nt,$e=null,zn(i,s,a),$e=c,Nt=g,$e!==null)if(Nt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(y){Ue(a,s,y)}else try{$e.removeChild(a.stateNode)}catch(y){Ue(a,s,y)}break;case 18:$e!==null&&(Nt?(i=$e,$g(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),ps(i)):$g($e,a.stateNode));break;case 4:c=$e,g=Nt,$e=a.stateNode.containerInfo,Nt=!0,zn(i,s,a),$e=c,Nt=g;break;case 0:case 11:case 14:case 15:yi(2,a,s),rt||yi(4,a,s),zn(i,s,a);break;case 1:rt||(An(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&Jm(a,s,c)),zn(i,s,a);break;case 21:zn(i,s,a);break;case 22:rt=(c=rt)||a.memoizedState!==null,zn(i,s,a),rt=c;break;default:zn(i,s,a)}}function eg(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ps(i)}catch(a){Ue(s,s.return,a)}}}function tg(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ps(i)}catch(a){Ue(s,s.return,a)}}function qS(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Qm),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Qm),s;default:throw Error(r(435,i.tag))}}function il(i,s){var a=qS(i);s.forEach(function(c){if(!a.has(c)){a.add(c);var g=jS.bind(null,i,c);c.then(g,g)}})}function Mt(i,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var g=a[c],y=i,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Ci(b.type)){$e=b.stateNode,Nt=!1;break e}break;case 5:$e=b.stateNode,Nt=!1;break e;case 3:case 4:$e=b.stateNode.containerInfo,Nt=!0;break e}b=b.return}if($e===null)throw Error(r(160));Zm(y,E,g),$e=null,Nt=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ng(s,i),s=s.sibling}var mn=null;function ng(i,s){var a=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mt(s,i),It(i),c&4&&(yi(3,i,i.return),Co(3,i),yi(5,i,i.return));break;case 1:Mt(s,i),It(i),c&512&&(rt||a===null||An(a,a.return)),c&64&&Vn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var g=mn;if(Mt(s,i),It(i),c&512&&(rt||a===null||An(a,a.return)),c&4){var y=a!==null?a.memoizedState:null;if(c=i.memoizedState,a===null)if(c===null)if(i.stateNode===null){e:{c=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ws]||y[dt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),mt(y,c,a),y[dt]=i,lt(y),c=y;break e;case"link":var E=ny("link","href",g).get(c+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(y=E[b],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}y=g.createElement(c),mt(y,c,a),g.head.appendChild(y);break;case"meta":if(E=ny("meta","content",g).get(c+(a.content||""))){for(b=0;b<E.length;b++)if(y=E[b],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}y=g.createElement(c),mt(y,c,a),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[dt]=i,lt(y),c=y}i.stateNode=c}else iy(g,i.type,i.stateNode);else i.stateNode=ty(g,c,i.memoizedProps);else y!==c?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,c===null?iy(g,i.type,i.stateNode):ty(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Yc(i,i.memoizedProps,a.memoizedProps)}break;case 27:Mt(s,i),It(i),c&512&&(rt||a===null||An(a,a.return)),a!==null&&c&4&&Yc(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Mt(s,i),It(i),c&512&&(rt||a===null||An(a,a.return)),i.flags&32){g=i.stateNode;try{Or(g,"")}catch(ne){Ue(i,i.return,ne)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Yc(i,g,a!==null?a.memoizedProps:g)),c&1024&&(Xc=!0);break;case 6:if(Mt(s,i),It(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,a=i.stateNode;try{a.nodeValue=c}catch(ne){Ue(i,i.return,ne)}}break;case 3:if(_l=null,g=mn,mn=yl(s.containerInfo),Mt(s,i),mn=g,It(i),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ps(s.containerInfo)}catch(ne){Ue(i,i.return,ne)}Xc&&(Xc=!1,ig(i));break;case 4:c=mn,mn=yl(i.stateNode.containerInfo),Mt(s,i),It(i),mn=c;break;case 12:Mt(s,i),It(i);break;case 31:Mt(s,i),It(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,il(i,c)));break;case 13:Mt(s,i),It(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sl=Ot()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,il(i,c)));break;case 22:g=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Vn,z=rt;if(Vn=B||g,rt=z||N,Mt(s,i),rt=z,Vn=B,It(i),c&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(a===null||N||Vn||rt||ur(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(y=N.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var $=N.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ne){Ue(N,N.return,ne)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(ne){Ue(N,N.return,ne)}}}else if(s.tag===18){if(a===null){N=s;try{var G=N.stateNode;g?Jg(G,!0):Jg(N.stateNode,!1)}catch(ne){Ue(N,N.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,il(i,a))));break;case 19:Mt(s,i),It(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,il(i,c)));break;case 30:break;case 21:break;default:Mt(s,i),It(i)}}function It(i){var s=i.flags;if(s&2){try{for(var a,c=i.return;c!==null;){if(Km(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var g=a.stateNode,y=Qc(i);nl(i,y,g);break;case 5:var E=a.stateNode;a.flags&32&&(Or(E,""),a.flags&=-33);var b=Qc(i);nl(i,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Qc(i);Wc(i,B,N);break;default:throw Error(r(161))}}catch(z){Ue(i,i.return,z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ig(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ig(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Fn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Wm(i,s.alternate,s),s=s.sibling}function ur(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),ur(s);break;case 1:An(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Jm(s,s.return,a),ur(s);break;case 27:Uo(s.stateNode);case 26:case 5:An(s,s.return),ur(s);break;case 22:s.memoizedState===null&&ur(s);break;case 30:ur(s);break;default:ur(s)}i=i.sibling}}function $n(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=i,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:$n(g,y,a),Co(4,y);break;case 1:if($n(g,y,a),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(B){Ue(c,c.return,B)}if(c=y,g=c.updateQueue,g!==null){var b=c.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)Up(N[g],b)}catch(B){Ue(c,c.return,B)}}a&&E&64&&$m(y),bo(y,y.return);break;case 27:Ym(y);case 26:case 5:$n(g,y,a),a&&c===null&&E&4&&jm(y),bo(y,y.return);break;case 12:$n(g,y,a);break;case 31:$n(g,y,a),a&&E&4&&eg(g,y);break;case 13:$n(g,y,a),a&&E&4&&tg(g,y);break;case 22:y.memoizedState===null&&$n(g,y,a),bo(y,y.return);break;case 30:break;default:$n(g,y,a)}s=s.sibling}}function Zc(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&co(a))}function ed(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&co(i))}function gn(i,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rg(i,s,a,c),s=s.sibling}function rg(i,s,a,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:gn(i,s,a,c),g&2048&&Co(9,s);break;case 1:gn(i,s,a,c);break;case 3:gn(i,s,a,c),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&co(i)));break;case 12:if(g&2048){gn(i,s,a,c),i=s.stateNode;try{var y=s.memoizedProps,E=y.id,b=y.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Ue(s,s.return,N)}}else gn(i,s,a,c);break;case 31:gn(i,s,a,c);break;case 13:gn(i,s,a,c);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?gn(i,s,a,c):Ao(i,s):y._visibility&2?gn(i,s,a,c):(y._visibility|=2,is(i,s,a,c,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Zc(E,s);break;case 24:gn(i,s,a,c),g&2048&&ed(s.alternate,s);break;default:gn(i,s,a,c)}}function is(i,s,a,c,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,E=s,b=a,N=c,B=E.flags;switch(E.tag){case 0:case 11:case 15:is(y,E,b,N,g),Co(8,E);break;case 23:break;case 22:var z=E.stateNode;E.memoizedState!==null?z._visibility&2?is(y,E,b,N,g):Ao(y,E):(z._visibility|=2,is(y,E,b,N,g)),g&&B&2048&&Zc(E.alternate,E);break;case 24:is(y,E,b,N,g),g&&B&2048&&ed(E.alternate,E);break;default:is(y,E,b,N,g)}s=s.sibling}}function Ao(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,c=s,g=c.flags;switch(c.tag){case 22:Ao(a,c),g&2048&&Zc(c.alternate,c);break;case 24:Ao(a,c),g&2048&&ed(c.alternate,c);break;default:Ao(a,c)}s=s.sibling}}var xo=8192;function rs(i,s,a){if(i.subtreeFlags&xo)for(i=i.child;i!==null;)sg(i,s,a),i=i.sibling}function sg(i,s,a){switch(i.tag){case 26:rs(i,s,a),i.flags&xo&&i.memoizedState!==null&&CT(a,mn,i.memoizedState,i.memoizedProps);break;case 5:rs(i,s,a);break;case 3:case 4:var c=mn;mn=yl(i.stateNode.containerInfo),rs(i,s,a),mn=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=xo,xo=16777216,rs(i,s,a),xo=c):rs(i,s,a));break;default:rs(i,s,a)}}function og(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ro(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];ut=c,lg(c,i)}og(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ag(i),i=i.sibling}function ag(i){switch(i.tag){case 0:case 11:case 15:Ro(i),i.flags&2048&&yi(9,i,i.return);break;case 3:Ro(i);break;case 12:Ro(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rl(i)):Ro(i);break;default:Ro(i)}}function rl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];ut=c,lg(c,i)}og(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:yi(8,s,s.return),rl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,rl(s));break;default:rl(s)}i=i.sibling}}function lg(i,s){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:yi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:co(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,ut=c;else e:for(a=i;ut!==null;){c=ut;var g=c.sibling,y=c.return;if(Xm(c),c===a){ut=null;break e}if(g!==null){g.return=y,ut=g;break e}ut=y}}}var BS={getCacheForType:function(i){var s=ht(tt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return ht(tt).controller.signal}},HS=typeof WeakMap=="function"?WeakMap:Map,Me=0,He=null,we=null,Se=0,De=0,Ft=null,vi=!1,ss=!1,td=!1,Jn=0,Qe=0,_i=0,cr=0,nd=0,$t=0,os=0,No=null,kt=null,id=!1,sl=0,ug=0,ol=1/0,al=null,wi=null,ot=0,Ei=null,as=null,jn=0,rd=0,sd=null,cg=null,Mo=0,od=null;function Jt(){return(Me&2)!==0&&Se!==0?Se&-Se:V.T!==null?fd():Ah()}function dg(){if($t===0)if((Se&536870912)===0||Ce){var i=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),$t=i}else $t=536870912;return i=Vt.current,i!==null&&(i.flags|=32),$t}function Dt(i,s,a){(i===He&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(ls(i,0),Si(i,Se,$t,!1)),Qs(i,a),((Me&2)===0||i!==He)&&(i===He&&((Me&2)===0&&(cr|=a),Qe===4&&Si(i,Se,$t,!1)),xn(i))}function fg(i,s,a){if((Me&6)!==0)throw Error(r(327));var c=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Ys(i,s),g=c?zS(i,s):ld(i,s,!0),y=c;do{if(g===0){ss&&!c&&Si(i,s,0,!1);break}else{if(a=i.current.alternate,y&&!GS(a)){g=ld(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=i;g=No;var N=b.current.memoizedState.isDehydrated;if(N&&(ls(b,E).flags|=256),E=ld(b,E,!1),E!==2){if(td&&!N){b.errorRecoveryDisabledLanes|=y,cr|=y,g=4;break e}y=kt,kt=g,y!==null&&(kt===null?kt=y:kt.push.apply(kt,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){ls(i,0),Si(i,s,0,!0);break}e:{switch(c=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Si(c,s,$t,!vi);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=sl+300-Ot(),10<g)){if(Si(c,s,$t,!vi),ya(c,0,!0)!==0)break e;jn=s,c.timeoutHandle=zg(hg.bind(null,c,a,kt,al,id,s,$t,cr,os,vi,y,"Throttled",-0,0),g);break e}hg(c,a,kt,al,id,s,$t,cr,os,vi,y,null,-0,0)}}break}while(!0);xn(i)}function hg(i,s,a,c,g,y,E,b,N,B,z,$,H,G){if(i.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},sg(s,y,$);var ne=(y&62914560)===y?sl-Ot():(y&4194048)===y?ug-Ot():0;if(ne=bT($,ne),ne!==null){jn=y,i.cancelPendingCommit=ne(Eg.bind(null,i,s,y,a,c,g,E,b,N,z,$,null,H,G)),Si(i,y,E,!B);return}}Eg(i,s,y,a,c,g,E,b,N)}function GS(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var g=a[c],y=g.getSnapshot;g=g.value;try{if(!Ht(y(),g))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(i,s,a,c){s&=~nd,s&=~cr,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var g=s;0<g;){var y=31-Bt(g),E=1<<y;c[y]=-1,g&=~E}a!==0&&Th(i,a,s)}function ll(){return(Me&6)===0?(Io(0),!1):!0}function ad(){if(we!==null){if(De===0)var i=we.return;else i=we,Ln=tr=null,Tc(i),Xr=null,ho=0,i=we;for(;i!==null;)Fm(i.alternate,i),i=i.return;we=null}}function ls(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,aT(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),jn=0,ad(),He=i,we=a=Un(i.current,null),Se=s,De=0,Ft=null,vi=!1,ss=Ys(i,s),td=!1,os=$t=nd=cr=_i=Qe=0,kt=No=null,id=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var g=31-Bt(c),y=1<<g;s|=i[g],c&=~y}return Jn=s,Na(),a}function pg(i,s){ye=null,V.H=Eo,s===Wr||s===Oa?(s=Mp(),De=3):s===dc?(s=Mp(),De=4):De=s===Bc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ft=s,we===null&&(Qe=1,Wa(i,nn(s,i.current)))}function mg(){var i=Vt.current;return i===null?!0:(Se&4194048)===Se?an===null:(Se&62914560)===Se||(Se&536870912)!==0?i===an:!1}function gg(){var i=V.H;return V.H=Eo,i===null?Eo:i}function yg(){var i=V.A;return V.A=BS,i}function ul(){Qe=4,vi||(Se&4194048)!==Se&&Vt.current!==null||(ss=!0),(_i&134217727)===0&&(cr&134217727)===0||He===null||Si(He,Se,$t,!1)}function ld(i,s,a){var c=Me;Me|=2;var g=gg(),y=yg();(He!==i||Se!==s)&&(al=null,ls(i,s)),s=!1;var E=Qe;e:do try{if(De!==0&&we!==null){var b=we,N=Ft;switch(De){case 8:ad(),E=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(s=!0);var B=De;if(De=0,Ft=null,us(i,b,N,B),a&&ss){E=0;break e}break;default:B=De,De=0,Ft=null,us(i,b,N,B)}}VS(),E=Qe;break}catch(z){pg(i,z)}while(!0);return s&&i.shellSuspendCounter++,Ln=tr=null,Me=c,V.H=g,V.A=y,we===null&&(He=null,Se=0,Na()),E}function VS(){for(;we!==null;)vg(we)}function zS(i,s){var a=Me;Me|=2;var c=gg(),g=yg();He!==i||Se!==s?(al=null,ol=Ot()+500,ls(i,s)):ss=Ys(i,s);e:do try{if(De!==0&&we!==null){s=we;var y=Ft;t:switch(De){case 1:De=0,Ft=null,us(i,s,y,1);break;case 2:case 9:if(Rp(y)){De=0,Ft=null,_g(s);break}s=function(){De!==2&&De!==9||He!==i||(De=7),xn(i)},y.then(s,s);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Rp(y)?(De=0,Ft=null,_g(s)):(De=0,Ft=null,us(i,s,y,7));break;case 5:var E=null;switch(we.tag){case 26:E=we.memoizedState;case 5:case 27:var b=we;if(E?ry(E):b.stateNode.complete){De=0,Ft=null;var N=b.sibling;if(N!==null)we=N;else{var B=b.return;B!==null?(we=B,cl(B)):we=null}break t}}De=0,Ft=null,us(i,s,y,5);break;case 6:De=0,Ft=null,us(i,s,y,6);break;case 8:ad(),Qe=6;break e;default:throw Error(r(462))}}FS();break}catch(z){pg(i,z)}while(!0);return Ln=tr=null,V.H=c,V.A=g,Me=a,we!==null?0:(He=null,Se=0,Na(),Qe)}function FS(){for(;we!==null&&!hE();)vg(we)}function vg(i){var s=Vm(i.alternate,i,Jn);i.memoizedProps=i.pendingProps,s===null?cl(i):we=s}function _g(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Lm(a,s,s.pendingProps,s.type,void 0,Se);break;case 11:s=Lm(a,s,s.pendingProps,s.type.render,s.ref,Se);break;case 5:Tc(s);default:Fm(a,s),s=we=yp(s,Jn),s=Vm(a,s,Jn)}i.memoizedProps=i.pendingProps,s===null?cl(i):we=s}function us(i,s,a,c){Ln=tr=null,Tc(s),Xr=null,ho=0;var g=s.return;try{if(kS(i,g,s,a,Se)){Qe=1,Wa(i,nn(a,i.current)),we=null;return}}catch(y){if(g!==null)throw we=g,y;Qe=1,Wa(i,nn(a,i.current)),we=null;return}s.flags&32768?(Ce||c===1?i=!0:ss||(Se&536870912)!==0?i=!1:(vi=i=!0,(c===2||c===9||c===3||c===6)&&(c=Vt.current,c!==null&&c.tag===13&&(c.flags|=16384))),wg(s,i)):cl(s)}function cl(i){var s=i;do{if((s.flags&32768)!==0){wg(s,vi);return}i=s.return;var a=PS(s.alternate,s,Jn);if(a!==null){we=a;return}if(s=s.sibling,s!==null){we=s;return}we=s=i}while(s!==null);Qe===0&&(Qe=5)}function wg(i,s){do{var a=LS(i.alternate,i);if(a!==null){a.flags&=32767,we=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){we=i;return}we=i=a}while(i!==null);Qe=6,we=null}function Eg(i,s,a,c,g,y,E,b,N){i.cancelPendingCommit=null;do dl();while(ot!==0);if((Me&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Qu,TE(i,a,y,E,b,N),i===He&&(we=He=null,Se=0),as=s,Ei=i,jn=a,rd=y,sd=g,cg=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KS(ha,function(){return Ag(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,g=W.p,W.p=2,E=Me,Me|=4;try{OS(i,s,a)}finally{Me=E,W.p=g,V.T=c}}ot=1,Sg(),Tg(),Cg()}}function Sg(){if(ot===1){ot=0;var i=Ei,s=as,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var c=W.p;W.p=2;var g=Me;Me|=4;try{ng(s,i);var y=wd,E=lp(i.containerInfo),b=y.focusedElem,N=y.selectionRange;if(E!==b&&b&&b.ownerDocument&&ap(b.ownerDocument.documentElement,b)){if(N!==null&&$u(b)){var B=N.start,z=N.end;if(z===void 0&&(z=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(z,b.value.length);else{var $=b.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var G=H.getSelection(),ne=b.textContent.length,ue=Math.min(N.start,ne),qe=N.end===void 0?ue:Math.min(N.end,ne);!G.extend&&ue>qe&&(E=qe,qe=ue,ue=E);var L=op(b,ue),I=op(b,qe);if(L&&I&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var q=$.createRange();q.setStart(L.node,L.offset),G.removeAllRanges(),ue>qe?(G.addRange(q),G.extend(I.node,I.offset)):(q.setEnd(I.node,I.offset),G.addRange(q))}}}}for($=[],G=b;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var F=$[b];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Tl=!!_d,wd=_d=null}finally{Me=g,W.p=c,V.T=a}}i.current=s,ot=2}}function Tg(){if(ot===2){ot=0;var i=Ei,s=as,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var c=W.p;W.p=2;var g=Me;Me|=4;try{Wm(i,s.alternate,s)}finally{Me=g,W.p=c,V.T=a}}ot=3}}function Cg(){if(ot===4||ot===3){ot=0,pE();var i=Ei,s=as,a=jn,c=cg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ot=5:(ot=0,as=Ei=null,bg(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(wi=null),Au(a),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=V.T,g=W.p,W.p=2,V.T=null;try{for(var y=i.onRecoverableError,E=0;E<c.length;E++){var b=c[E];y(b.value,{componentStack:b.stack})}}finally{V.T=s,W.p=g}}(jn&3)!==0&&dl(),xn(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===od?Mo++:(Mo=0,od=i):Mo=0,Io(0)}}function bg(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,co(s)))}function dl(){return Sg(),Tg(),Cg(),Ag()}function Ag(){if(ot!==5)return!1;var i=Ei,s=rd;rd=0;var a=Au(jn),c=V.T,g=W.p;try{W.p=32>a?32:a,V.T=null,a=sd,sd=null;var y=Ei,E=jn;if(ot=0,as=Ei=null,jn=0,(Me&6)!==0)throw Error(r(331));var b=Me;if(Me|=4,ag(y.current),rg(y,y.current,E,a),Me=b,Io(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ks,y)}catch{}return!0}finally{W.p=g,V.T=c,bg(i,s)}}function xg(i,s,a){s=nn(a,s),s=qc(i.stateNode,s,2),i=pi(i,s,2),i!==null&&(Qs(i,2),xn(i))}function Ue(i,s,a){if(i.tag===3)xg(i,i,a);else for(;s!==null;){if(s.tag===3){xg(s,i,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))){i=nn(a,i),a=Rm(2),c=pi(s,a,2),c!==null&&(Nm(a,c,s,i),Qs(c,2),xn(c));break}}s=s.return}}function ud(i,s,a){var c=i.pingCache;if(c===null){c=i.pingCache=new HS;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(a)||(td=!0,g.add(a),i=$S.bind(null,i,s,a),s.then(i,i))}function $S(i,s,a){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,He===i&&(Se&a)===a&&(Qe===4||Qe===3&&(Se&62914560)===Se&&300>Ot()-sl?(Me&2)===0&&ls(i,0):nd|=a,os===Se&&(os=0)),xn(i)}function Rg(i,s){s===0&&(s=Sh()),i=Xi(i,s),i!==null&&(Qs(i,s),xn(i))}function JS(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Rg(i,a)}function jS(i,s){var a=0;switch(i.tag){case 31:case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Rg(i,a)}function KS(i,s){return Su(i,s)}var fl=null,cs=null,cd=!1,hl=!1,dd=!1,Ti=0;function xn(i){i!==cs&&i.next===null&&(cs===null?fl=cs=i:cs=cs.next=i),hl=!0,cd||(cd=!0,QS())}function Io(i,s){if(!dd&&hl){dd=!0;do for(var a=!1,c=fl;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var E=c.suspendedLanes,b=c.pingedLanes;y=(1<<31-Bt(42|i)+1)-1,y&=g&~(E&~b),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,kg(c,y))}else y=Se,y=ya(c,c===He?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ys(c,y)||(a=!0,kg(c,y));c=c.next}while(a);dd=!1}}function YS(){Ng()}function Ng(){hl=cd=!1;var i=0;Ti!==0&&oT()&&(i=Ti);for(var s=Ot(),a=null,c=fl;c!==null;){var g=c.next,y=Mg(c,s);y===0?(c.next=null,a===null?fl=g:a.next=g,g===null&&(cs=a)):(a=c,(i!==0||(y&3)!==0)&&(hl=!0)),c=g}ot!==0&&ot!==5||Io(i),Ti!==0&&(Ti=0)}function Mg(i,s){for(var a=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-Bt(y),b=1<<E,N=g[E];N===-1?((b&a)===0||(b&c)!==0)&&(g[E]=SE(b,s)):N<=s&&(i.expiredLanes|=b),y&=~b}if(s=He,a=Se,a=ya(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,a===0||i===s&&(De===2||De===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Tu(c),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Ys(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(c!==null&&Tu(c),Au(a)){case 2:case 8:a=wh;break;case 32:a=ha;break;case 268435456:a=Eh;break;default:a=ha}return c=Ig.bind(null,i),a=Su(a,c),i.callbackPriority=s,i.callbackNode=a,s}return c!==null&&c!==null&&Tu(c),i.callbackPriority=2,i.callbackNode=null,2}function Ig(i,s){if(ot!==0&&ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(dl()&&i.callbackNode!==a)return null;var c=Se;return c=ya(i,i===He?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(fg(i,c,s),Mg(i,Ot()),i.callbackNode!=null&&i.callbackNode===a?Ig.bind(null,i):null)}function kg(i,s){if(dl())return null;fg(i,s,!0)}function QS(){lT(function(){(Me&6)!==0?Su(_h,YS):Ng()})}function fd(){if(Ti===0){var i=Yr;i===0&&(i=pa,pa<<=1,(pa&261888)===0&&(pa=256)),Ti=i}return Ti}function Dg(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ea(""+i)}function Ug(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function WS(i,s,a,c,g){if(s==="submit"&&a&&a.stateNode===g){var y=Dg((g[xt]||null).action),E=c.submitter;E&&(s=(s=E[xt]||null)?Dg(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var b=new ba("action","action",null,c,g);i.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ti!==0){var N=E?Ug(g,E):new FormData(g);kc(a,{pending:!0,data:N,method:g.method,action:y},null,N)}}else typeof y=="function"&&(b.preventDefault(),N=E?Ug(g,E):new FormData(g),kc(a,{pending:!0,data:N,method:g.method,action:y},y,N))},currentTarget:g}]})}}for(var hd=0;hd<Yu.length;hd++){var pd=Yu[hd],XS=pd.toLowerCase(),ZS=pd[0].toUpperCase()+pd.slice(1);pn(XS,"on"+ZS)}pn(dp,"onAnimationEnd"),pn(fp,"onAnimationIteration"),pn(hp,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(mS,"onTransitionRun"),pn(gS,"onTransitionStart"),pn(yS,"onTransitionCancel"),pn(pp,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Pg(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var c=i[a],g=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var E=c.length-1;0<=E;E--){var b=c[E],N=b.instance,B=b.currentTarget;if(b=b.listener,N!==y&&g.isPropagationStopped())break e;y=b,g.currentTarget=B;try{y(g)}catch(z){Ra(z)}g.currentTarget=null,y=N}else for(E=0;E<c.length;E++){if(b=c[E],N=b.instance,B=b.currentTarget,b=b.listener,N!==y&&g.isPropagationStopped())break e;y=b,g.currentTarget=B;try{y(g)}catch(z){Ra(z)}g.currentTarget=null,y=N}}}}function Ee(i,s){var a=s[xu];a===void 0&&(a=s[xu]=new Set);var c=i+"__bubble";a.has(c)||(Lg(s,i,2,!1),a.add(c))}function md(i,s,a){var c=0;s&&(c|=4),Lg(a,i,c,s)}var pl="_reactListening"+Math.random().toString(36).slice(2);function gd(i){if(!i[pl]){i[pl]=!0,Nh.forEach(function(a){a!=="selectionchange"&&(eT.has(a)||md(a,!1,i),md(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[pl]||(s[pl]=!0,md("selectionchange",!1,s))}}function Lg(i,s,a,c){switch(dy(s)){case 2:var g=RT;break;case 8:g=NT;break;default:g=Id}a=g.bind(null,s,a,i),g=void 0,!Lu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(s,a,{capture:!0,passive:g}):i.addEventListener(s,a,!0):g!==void 0?i.addEventListener(s,a,{passive:g}):i.addEventListener(s,a,!1)}function yd(i,s,a,c,g){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var b=c.stateNode.containerInfo;if(b===g)break;if(E===4)for(E=c.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;b!==null;){if(E=kr(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){c=y=E;continue e}b=b.parentNode}}c=c.return}Gh(function(){var B=y,z=Uu(a),$=[];e:{var H=mp.get(i);if(H!==void 0){var G=ba,ne=i;switch(i){case"keypress":if(Ta(a)===0)break e;case"keydown":case"keyup":G=jE;break;case"focusin":ne="focus",G=Hu;break;case"focusout":ne="blur",G=Hu;break;case"beforeblur":case"afterblur":G=Hu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=PE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=QE;break;case dp:case fp:case hp:G=qE;break;case pp:G=XE;break;case"scroll":case"scrollend":G=DE;break;case"wheel":G=eS;break;case"copy":case"cut":case"paste":G=HE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Jh;break;case"toggle":case"beforetoggle":G=nS}var ue=(s&4)!==0,qe=!ue&&(i==="scroll"||i==="scrollend"),L=ue?H!==null?H+"Capture":null:H;ue=[];for(var I=B,q;I!==null;){var F=I;if(q=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||q===null||L===null||(F=Zs(I,L),F!=null&&ue.push(Do(I,F,q))),qe)break;I=I.return}0<ue.length&&(H=new G(H,ne,null,a,z),$.push({event:H,listeners:ue}))}}if((s&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",H&&a!==Du&&(ne=a.relatedTarget||a.fromElement)&&(kr(ne)||ne[Ir]))break e;if((G||H)&&(H=z.window===z?z:(H=z.ownerDocument)?H.defaultView||H.parentWindow:window,G?(ne=a.relatedTarget||a.toElement,G=B,ne=ne?kr(ne):null,ne!==null&&(qe=l(ne),ue=ne.tag,ne!==qe||ue!==5&&ue!==27&&ue!==6)&&(ne=null)):(G=null,ne=B),G!==ne)){if(ue=Fh,F="onMouseLeave",L="onMouseEnter",I="mouse",(i==="pointerout"||i==="pointerover")&&(ue=Jh,F="onPointerLeave",L="onPointerEnter",I="pointer"),qe=G==null?H:Xs(G),q=ne==null?H:Xs(ne),H=new ue(F,I+"leave",G,a,z),H.target=qe,H.relatedTarget=q,F=null,kr(z)===B&&(ue=new ue(L,I+"enter",ne,a,z),ue.target=q,ue.relatedTarget=qe,F=ue),qe=F,G&&ne)t:{for(ue=tT,L=G,I=ne,q=0,F=L;F;F=ue(F))q++;F=0;for(var le=I;le;le=ue(le))F++;for(;0<q-F;)L=ue(L),q--;for(;0<F-q;)I=ue(I),F--;for(;q--;){if(L===I||I!==null&&L===I.alternate){ue=L;break t}L=ue(L),I=ue(I)}ue=null}else ue=null;G!==null&&Og($,H,G,ue,!1),ne!==null&&qe!==null&&Og($,qe,ne,ue,!0)}}e:{if(H=B?Xs(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var xe=ep;else if(Xh(H))if(tp)xe=fS;else{xe=cS;var se=uS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ku(B.elementType)&&(xe=ep):xe=dS;if(xe&&(xe=xe(i,B))){Zh($,xe,a,z);break e}se&&se(i,H,B),i==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Iu(H,"number",H.value)}switch(se=B?Xs(B):window,i){case"focusin":(Xh(se)||se.contentEditable==="true")&&(Gr=se,Ju=B,ao=null);break;case"focusout":ao=Ju=Gr=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,up($,a,z);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":up($,a,z)}var ve;if(Vu)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Hr?Qh(i,a)&&(Te="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(jh&&a.locale!=="ko"&&(Hr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Hr&&(ve=Vh()):(ai=z,Ou="value"in ai?ai.value:ai.textContent,Hr=!0)),se=ml(B,Te),0<se.length&&(Te=new $h(Te,i,null,a,z),$.push({event:Te,listeners:se}),ve?Te.data=ve:(ve=Wh(a),ve!==null&&(Te.data=ve)))),(ve=rS?sS(i,a):oS(i,a))&&(Te=ml(B,"onBeforeInput"),0<Te.length&&(se=new $h("onBeforeInput","beforeinput",null,a,z),$.push({event:se,listeners:Te}),se.data=ve)),WS($,i,B,a,z)}Pg($,s)})}function Do(i,s,a){return{instance:i,listener:s,currentTarget:a}}function ml(i,s){for(var a=s+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Zs(i,a),g!=null&&c.unshift(Do(i,g,y)),g=Zs(i,s),g!=null&&c.push(Do(i,g,y))),i.tag===3)return c;i=i.return}return[]}function tT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Og(i,s,a,c,g){for(var y=s._reactName,E=[];a!==null&&a!==c;){var b=a,N=b.alternate,B=b.stateNode;if(b=b.tag,N!==null&&N===c)break;b!==5&&b!==26&&b!==27||B===null||(N=B,g?(B=Zs(a,y),B!=null&&E.unshift(Do(a,B,N))):g||(B=Zs(a,y),B!=null&&E.push(Do(a,B,N)))),a=a.return}E.length!==0&&i.push({event:s,listeners:E})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function qg(i){return(typeof i=="string"?i:""+i).replace(nT,`
`).replace(iT,"")}function Bg(i,s){return s=qg(s),qg(i)===s}function Oe(i,s,a,c,g,y){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Or(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Or(i,""+c);break;case"className":_a(i,"class",c);break;case"tabIndex":_a(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(i,a,c);break;case"style":Bh(i,c,y);break;case"data":if(s!=="object"){_a(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=Ea(""+c),i.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&Oe(i,s,"name",g.name,g,null),Oe(i,s,"formEncType",g.formEncType,g,null),Oe(i,s,"formMethod",g.formMethod,g,null),Oe(i,s,"formTarget",g.formTarget,g,null)):(Oe(i,s,"encType",g.encType,g,null),Oe(i,s,"method",g.method,g,null),Oe(i,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(a);break}c=Ea(""+c),i.setAttribute(a,c);break;case"onClick":c!=null&&(i.onclick=kn);break;case"onScroll":c!=null&&Ee("scroll",i);break;case"onScrollEnd":c!=null&&Ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}a=Ea(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""+c):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":c===!0?i.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(a,c):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(a,c):i.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(a):i.setAttribute(a,c);break;case"popover":Ee("beforetoggle",i),Ee("toggle",i),va(i,"popover",c);break;case"xlinkActuate":In(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":In(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":In(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":In(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":In(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":In(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":In(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":In(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":In(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":va(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=IE.get(a)||a,va(i,a,c))}}function vd(i,s,a,c,g,y){switch(a){case"style":Bh(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof c=="string"?Or(i,c):(typeof c=="number"||typeof c=="bigint")&&Or(i,""+c);break;case"onScroll":c!=null&&Ee("scroll",i);break;case"onScrollEnd":c!=null&&Ee("scrollend",i);break;case"onClick":c!=null&&(i.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),s=a.slice(2,g?a.length-7:void 0),y=i[xt]||null,y=y!=null?y[a]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,c,g);break e}a in i?i[a]=c:c===!0?i.setAttribute(a,""):va(i,a,c)}}}function mt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",i),Ee("load",i);var c=!1,g=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(i,s,y,E,a,null)}}g&&Oe(i,s,"srcSet",a.srcSet,a,null),c&&Oe(i,s,"src",a.src,a,null);return;case"input":Ee("invalid",i);var b=y=E=g=null,N=null,B=null;for(c in a)if(a.hasOwnProperty(c)){var z=a[c];if(z!=null)switch(c){case"name":g=z;break;case"type":E=z;break;case"checked":N=z;break;case"defaultChecked":B=z;break;case"value":y=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:Oe(i,s,c,z,a,null)}}Ph(i,y,b,N,B,E,g,!1);return;case"select":Ee("invalid",i),c=E=y=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":y=b;break;case"defaultValue":E=b;break;case"multiple":c=b;default:Oe(i,s,g,b,a,null)}s=y,a=E,i.multiple=!!c,s!=null?Lr(i,!!c,s,!1):a!=null&&Lr(i,!!c,a,!0);return;case"textarea":Ee("invalid",i),y=g=c=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":c=b;break;case"defaultValue":g=b;break;case"children":y=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Oe(i,s,E,b,a,null)}Oh(i,c,g,y);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(c=a[N],c!=null))switch(N){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Oe(i,s,N,c,a,null)}return;case"dialog":Ee("beforetoggle",i),Ee("toggle",i),Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":Ee("load",i);break;case"video":case"audio":for(c=0;c<ko.length;c++)Ee(ko[c],i);break;case"image":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"embed":case"source":case"link":Ee("error",i),Ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(c=a[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Oe(i,s,B,c,a,null)}return;default:if(ku(s)){for(z in a)a.hasOwnProperty(z)&&(c=a[z],c!==void 0&&vd(i,s,z,c,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(c=a[b],c!=null&&Oe(i,s,b,c,a,null))}function rT(i,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,b=null,N=null,B=null,z=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=$;default:c.hasOwnProperty(G)||Oe(i,s,G,null,c,$)}}for(var H in c){var G=c[H];if($=a[H],c.hasOwnProperty(H)&&(G!=null||$!=null))switch(H){case"type":y=G;break;case"name":g=G;break;case"checked":B=G;break;case"defaultChecked":z=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==$&&Oe(i,s,H,G,c,$)}}Mu(i,E,b,N,B,z,y,g);return;case"select":G=E=b=H=null;for(y in a)if(N=a[y],a.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":G=N;default:c.hasOwnProperty(y)||Oe(i,s,y,null,c,N)}for(g in c)if(y=c[g],N=a[g],c.hasOwnProperty(g)&&(y!=null||N!=null))switch(g){case"value":H=y;break;case"defaultValue":b=y;break;case"multiple":E=y;default:y!==N&&Oe(i,s,g,y,c,N)}s=b,a=E,c=G,H!=null?Lr(i,!!a,H,!1):!!c!=!!a&&(s!=null?Lr(i,!!a,s,!0):Lr(i,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(g=a[b],a.hasOwnProperty(b)&&g!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Oe(i,s,b,null,c,g)}for(E in c)if(g=c[E],y=a[E],c.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":H=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Oe(i,s,E,g,c,y)}Lh(i,H,G);return;case"option":for(var ne in a)if(H=a[ne],a.hasOwnProperty(ne)&&H!=null&&!c.hasOwnProperty(ne))switch(ne){case"selected":i.selected=!1;break;default:Oe(i,s,ne,null,c,H)}for(N in c)if(H=c[N],G=a[N],c.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null))switch(N){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Oe(i,s,N,H,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in a)H=a[ue],a.hasOwnProperty(ue)&&H!=null&&!c.hasOwnProperty(ue)&&Oe(i,s,ue,null,c,H);for(B in c)if(H=c[B],G=a[B],c.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Oe(i,s,B,H,c,G)}return;default:if(ku(s)){for(var qe in a)H=a[qe],a.hasOwnProperty(qe)&&H!==void 0&&!c.hasOwnProperty(qe)&&vd(i,s,qe,void 0,c,H);for(z in c)H=c[z],G=a[z],!c.hasOwnProperty(z)||H===G||H===void 0&&G===void 0||vd(i,s,z,H,c,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!c.hasOwnProperty(L)&&Oe(i,s,L,null,c,H);for($ in c)H=c[$],G=a[$],!c.hasOwnProperty($)||H===G||H==null&&G==null||Oe(i,s,$,H,c,G)}function Hg(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var g=a[c],y=g.transferSize,E=g.initiatorType,b=g.duration;if(y&&b&&Hg(E)){for(E=0,b=g.responseEnd,c+=1;c<a.length;c++){var N=a[c],B=N.startTime;if(B>b)break;var z=N.transferSize,$=N.initiatorType;z&&Hg($)&&(N=N.responseEnd,E+=z*(N<b?1:(b-B)/(N-B)))}if(--c,s+=8*(y+E)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var _d=null,wd=null;function gl(i){return i.nodeType===9?i:i.ownerDocument}function Gg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vg(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ed(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sd=null;function oT(){var i=window.event;return i&&i.type==="popstate"?i===Sd?!1:(Sd=i,!0):(Sd=null,!1)}var zg=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(i){return Fg.resolve(null).then(i).catch(uT)}:zg;function uT(i){setTimeout(function(){throw i})}function Ci(i){return i==="head"}function $g(i,s){var a=s,c=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(c===0){i.removeChild(g),ps(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Uo(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Uo(a);for(var y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ws]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&Uo(i.ownerDocument.body);a=g}while(a);ps(s)}function Jg(i,s){var a=i;i=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=c}while(a)}function Td(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),Ru(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function cT(i,s,a,c){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ws])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ln(i.nextSibling),i===null)break}return null}function dT(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ln(i.nextSibling),i===null))return null;return i}function jg(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ln(i.nextSibling),i===null))return null;return i}function Cd(i){return i.data==="$?"||i.data==="$~"}function bd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fT(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ln(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Ad=null;function Kg(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return ln(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function Yg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function Qg(i,s,a){switch(s=gl(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Uo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ru(i)}var un=new Map,Wg=new Set;function yl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kn=W.d;W.d={f:hT,r:pT,D:mT,C:gT,L:yT,m:vT,X:wT,S:_T,M:ET};function hT(){var i=Kn.f(),s=ll();return i||s}function pT(i){var s=Dr(i);s!==null&&s.tag===5&&s.type==="form"?pm(s):Kn.r(i)}var ds=typeof document>"u"?null:document;function Xg(i,s,a){var c=ds;if(c&&typeof s=="string"&&s){var g=en(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Wg.has(g)||(Wg.add(g),i={rel:i,crossOrigin:a,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),mt(s,"link",i),lt(s),c.head.appendChild(s)))}}function mT(i){Kn.D(i),Xg("dns-prefetch",i,null)}function gT(i,s){Kn.C(i,s),Xg("preconnect",i,s)}function yT(i,s,a){Kn.L(i,s,a);var c=ds;if(c&&i&&s){var g='link[rel="preload"][as="'+en(s)+'"]';s==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+en(a.imageSizes)+'"]')):g+='[href="'+en(i)+'"]';var y=g;switch(s){case"style":y=fs(i);break;case"script":y=hs(i)}un.has(y)||(i=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),un.set(y,i),c.querySelector(g)!==null||s==="style"&&c.querySelector(Po(y))||s==="script"&&c.querySelector(Lo(y))||(s=c.createElement("link"),mt(s,"link",i),lt(s),c.head.appendChild(s)))}}function vT(i,s){Kn.m(i,s);var a=ds;if(a&&i){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hs(i)}if(!un.has(y)&&(i=_({rel:"modulepreload",href:i},s),un.set(y,i),a.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Lo(y)))return}c=a.createElement("link"),mt(c,"link",i),lt(c),a.head.appendChild(c)}}}function _T(i,s,a){Kn.S(i,s,a);var c=ds;if(c&&i){var g=Ur(c).hoistableStyles,y=fs(i);s=s||"default";var E=g.get(y);if(!E){var b={loading:0,preload:null};if(E=c.querySelector(Po(y)))b.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},a),(a=un.get(y))&&xd(i,a);var N=E=c.createElement("link");lt(N),mt(N,"link",i),N._p=new Promise(function(B,z){N.onload=B,N.onerror=z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vl(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:b},g.set(y,E)}}}function wT(i,s){Kn.X(i,s);var a=ds;if(a&&i){var c=Ur(a).hoistableScripts,g=hs(i),y=c.get(g);y||(y=a.querySelector(Lo(g)),y||(i=_({src:i,async:!0},s),(s=un.get(g))&&Rd(i,s),y=a.createElement("script"),lt(y),mt(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function ET(i,s){Kn.M(i,s);var a=ds;if(a&&i){var c=Ur(a).hoistableScripts,g=hs(i),y=c.get(g);y||(y=a.querySelector(Lo(g)),y||(i=_({src:i,async:!0,type:"module"},s),(s=un.get(g))&&Rd(i,s),y=a.createElement("script"),lt(y),mt(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function Zg(i,s,a,c){var g=(g=_e.current)?yl(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=fs(a.href),a=Ur(g).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=fs(a.href);var y=Ur(g).hoistableStyles,E=y.get(i);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=g.querySelector(Po(i)))&&!y._p&&(E.instance=y,E.state.loading=5),un.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},un.set(i,a),y||ST(g,i,a,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hs(a),a=Ur(g).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fs(i){return'href="'+en(i)+'"'}function Po(i){return'link[rel="stylesheet"]['+i+"]"}function ey(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function ST(i,s,a,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),mt(s,"link",a),lt(s),i.head.appendChild(s))}function hs(i){return'[src="'+en(i)+'"]'}function Lo(i){return"script[async]"+i}function ty(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+en(a.href)+'"]');if(c)return s.instance=c,lt(c),c;var g=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),lt(c),mt(c,"style",g),vl(c,a.precedence,i),s.instance=c;case"stylesheet":g=fs(a.href);var y=i.querySelector(Po(g));if(y)return s.state.loading|=4,s.instance=y,lt(y),y;c=ey(a),(g=un.get(g))&&xd(c,g),y=(i.ownerDocument||i).createElement("link"),lt(y);var E=y;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),mt(y,"link",c),s.state.loading|=4,vl(y,a.precedence,i),s.instance=y;case"script":return y=hs(a.src),(g=i.querySelector(Lo(y)))?(s.instance=g,lt(g),g):(c=a,(g=un.get(y))&&(c=_({},a),Rd(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),lt(g),mt(g,"link",c),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vl(c,a.precedence,i));return s.instance}function vl(i,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,E=0;E<c.length;E++){var b=c[E];if(b.dataset.precedence===s)y=b;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function xd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Rd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var _l=null;function ny(i,s,a){if(_l===null){var c=new Map,g=_l=new Map;g.set(a,c)}else g=_l,c=g.get(a),c||(c=new Map,g.set(a,c));if(c.has(i))return c;for(c.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var y=a[g];if(!(y[Ws]||y[dt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=i+E;var b=c.get(E);b?b.push(y):c.set(E,[y])}}return c}function iy(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function TT(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ry(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CT(i,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=fs(c.href),y=s.querySelector(Po(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=wl.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=y,lt(y);return}y=s.ownerDocument||s,c=ey(c),(g=un.get(g))&&xd(c,g),y=y.createElement("link"),lt(y);var E=y;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),mt(y,"link",c),a.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=wl.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Nd=0;function bT(i,s){return i.stylesheets&&i.count===0&&Sl(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var c=setTimeout(function(){if(i.stylesheets&&Sl(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&Nd===0&&(Nd=62500*sT());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Sl(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>Nd?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sl(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var El=null;function Sl(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,El=new Map,s.forEach(AT,i),El=null,wl.call(i))}function AT(i,s){if(!(s.state.loading&4)){var a=El.get(i);if(a)var c=a.get(null);else{a=new Map,El.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),c=E)}c&&a.set(null,c)}g=s.instance,E=g.getAttribute("data-precedence"),y=a.get(E)||c,y===c&&a.set(null,g),a.set(E,g),this.count++,c=wl.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Oo={$$typeof:R,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function xT(i,s,a,c,g,y,E,b,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.hiddenUpdates=Cu(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function sy(i,s,a,c,g,y,E,b,N,B,z,$){return i=new xT(i,s,a,E,N,B,z,$,b),s=1,y===!0&&(s|=24),y=Gt(3,null,null,s),i.current=y,y.stateNode=i,s=lc(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:a,cache:s},fc(y),i}function oy(i){return i?(i=Fr,i):Fr}function ay(i,s,a,c,g,y){g=oy(g),c.context===null?c.context=g:c.pendingContext=g,c=hi(s),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=pi(i,c,s),a!==null&&(Dt(a,i,s),mo(a,i,s))}function ly(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Md(i,s){ly(i,s),(i=i.alternate)&&ly(i,s)}function uy(i){if(i.tag===13||i.tag===31){var s=Xi(i,67108864);s!==null&&Dt(s,i,67108864),Md(i,67108864)}}function cy(i){if(i.tag===13||i.tag===31){var s=Jt();s=bu(s);var a=Xi(i,s);a!==null&&Dt(a,i,s),Md(i,s)}}var Tl=!0;function RT(i,s,a,c){var g=V.T;V.T=null;var y=W.p;try{W.p=2,Id(i,s,a,c)}finally{W.p=y,V.T=g}}function NT(i,s,a,c){var g=V.T;V.T=null;var y=W.p;try{W.p=8,Id(i,s,a,c)}finally{W.p=y,V.T=g}}function Id(i,s,a,c){if(Tl){var g=kd(c);if(g===null)yd(i,s,c,Cl,a),fy(i,c);else if(IT(g,i,s,a,c))c.stopPropagation();else if(fy(i,c),s&4&&-1<MT.indexOf(i)){for(;g!==null;){var y=Dr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=ji(y.pendingLanes);if(E!==0){var b=y;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-Bt(E);b.entanglements[1]|=N,E&=~N}xn(y),(Me&6)===0&&(ol=Ot()+500,Io(0))}}break;case 31:case 13:b=Xi(y,2),b!==null&&Dt(b,y,2),ll(),Md(y,2)}if(y=kd(c),y===null&&yd(i,s,c,Cl,a),y===g)break;g=y}g!==null&&c.stopPropagation()}else yd(i,s,c,null,a)}}function kd(i){return i=Uu(i),Dd(i)}var Cl=null;function Dd(i){if(Cl=null,i=kr(i),i!==null){var s=l(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=u(s),i!==null)return i;i=null}else if(a===31){if(i=f(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Cl=i,null}function dy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mE()){case _h:return 2;case wh:return 8;case ha:case gE:return 32;case Eh:return 268435456;default:return 32}default:return 32}}var Ud=!1,bi=null,Ai=null,xi=null,qo=new Map,Bo=new Map,Ri=[],MT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(i,s){switch(i){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(s.pointerId)}}function Ho(i,s,a,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Dr(s),s!==null&&uy(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function IT(i,s,a,c,g){switch(s){case"focusin":return bi=Ho(bi,i,s,a,c,g),!0;case"dragenter":return Ai=Ho(Ai,i,s,a,c,g),!0;case"mouseover":return xi=Ho(xi,i,s,a,c,g),!0;case"pointerover":var y=g.pointerId;return qo.set(y,Ho(qo.get(y)||null,i,s,a,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Bo.set(y,Ho(Bo.get(y)||null,i,s,a,c,g)),!0}return!1}function hy(i){var s=kr(i.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){i.blockedOn=s,xh(i.priority,function(){cy(a)});return}}else if(s===31){if(s=f(a),s!==null){i.blockedOn=s,xh(i.priority,function(){cy(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=kd(i.nativeEvent);if(a===null){a=i.nativeEvent;var c=new a.constructor(a.type,a);Du=c,a.target.dispatchEvent(c),Du=null}else return s=Dr(a),s!==null&&uy(s),i.blockedOn=a,!1;s.shift()}return!0}function py(i,s,a){bl(i)&&a.delete(s)}function kT(){Ud=!1,bi!==null&&bl(bi)&&(bi=null),Ai!==null&&bl(Ai)&&(Ai=null),xi!==null&&bl(xi)&&(xi=null),qo.forEach(py),Bo.forEach(py)}function Al(i,s){i.blockedOn===s&&(i.blockedOn=null,Ud||(Ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kT)))}var xl=null;function my(i){xl!==i&&(xl=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xl===i&&(xl=null);for(var s=0;s<i.length;s+=3){var a=i[s],c=i[s+1],g=i[s+2];if(typeof c!="function"){if(Dd(c||a)===null)continue;break}var y=Dr(a);y!==null&&(i.splice(s,3),s-=3,kc(y,{pending:!0,data:g,method:a.method,action:c},c,g))}}))}function ps(i){function s(N){return Al(N,i)}bi!==null&&Al(bi,i),Ai!==null&&Al(Ai,i),xi!==null&&Al(xi,i),qo.forEach(s),Bo.forEach(s);for(var a=0;a<Ri.length;a++){var c=Ri[a];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ri.length&&(a=Ri[0],a.blockedOn===null);)hy(a),a.blockedOn===null&&Ri.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var g=a[c],y=a[c+1],E=g[xt]||null;if(typeof y=="function")E||my(a);else if(E){var b=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[xt]||null)b=E.formAction;else if(Dd(g)!==null)continue}else b=E.action;typeof b=="function"?a[c+1]=b:(a.splice(c,3),c-=3),my(a)}}}function gy(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Pd(i){this._internalRoot=i}Rl.prototype.render=Pd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=Jt();ay(a,c,i,s,null,null)},Rl.prototype.unmount=Pd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ay(i.current,2,null,i,null,null),ll(),s[Ir]=null}};function Rl(i){this._internalRoot=i}Rl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ah();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Ri.length&&s!==0&&s<Ri[a].priority;a++);Ri.splice(a,0,i),a===0&&hy(i)}};var yy=e.version;if(yy!=="19.2.0")throw Error(r(527,yy,"19.2.0"));W.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var DT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Ks=Nl.inject(DT),qt=Nl}catch{}}return Vo.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,c="",g=Cm,y=bm,E=Am;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=sy(i,1,!1,null,null,a,c,null,g,y,E,gy),i[Ir]=s.current,gd(i),new Pd(s)},Vo.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var c=!1,g="",y=Cm,E=bm,b=Am,N=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),s=sy(i,1,!0,s,a??null,c,g,N,y,E,b,gy),s.context=oy(null),a=s.current,c=Jt(),c=bu(c),g=hi(c),g.callback=null,pi(a,g,c),a=c,s.current.lanes=a,Qs(s,a),xn(s),i[Ir]=s.current,gd(i),new Rl(s)},Vo.version="19.2.0",Vo}var Ny;function JT(){if(Ny)return Bd.exports;Ny=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bd.exports=$T(),Bd.exports}var jT=JT();const KT=su(jT),YT="modulepreload",QT=function(t){return"/"+t},My={},Wt=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(n.map(p=>{if(p=QT(p),p in My)return;My[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":YT,v||(w.as="script"),w.crossOrigin="",w.href=p,m&&w.setAttribute("nonce",m),document.head.appendChild(w),v)return new Promise((T,C)=>{w.addEventListener("load",T),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iy="popstate";function WT(t={}){function e(o,l){let{pathname:u="/",search:f="",hash:m=""}=Nr(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ef("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let u=o.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Qo(l))}function r(o,l){Qt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ZT(e,n,r,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XT(){return Math.random().toString(36).substring(2,10)}function ky(t,e){return{usr:t.state,key:t.key,idx:e}}function ef(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nr(e):e,state:n,key:e&&e.key||r||XT()}}function Qo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZT(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,u=o.history,f="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let A=v(),M=A==null?null:A-p;p=A,m&&m({action:f,location:x.location,delta:M})}function w(A,M){f="PUSH";let P=ef(x.location,A,M);n&&n(P,A),p=v()+1;let R=ky(P,p),O=x.createHref(P);try{u.pushState(R,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(O)}l&&m&&m({action:f,location:x.location,delta:1})}function T(A,M){f="REPLACE";let P=ef(x.location,A,M);n&&n(P,A),p=v();let R=ky(P,p),O=x.createHref(P);u.replaceState(R,"",O),l&&m&&m({action:f,location:x.location,delta:0})}function C(A){return eC(A)}let x={get action(){return f},get location(){return t(o,u)},listen(A){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Iy,_),m=A,()=>{o.removeEventListener(Iy,_),m=null}},createHref(A){return e(o,A)},createURL:C,encodeLocation(A){let M=C(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:T,go(A){return u.go(A)}};return x}function eC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function s_(t,e,n="/"){return tC(t,e,n,!1)}function tC(t,e,n,r){let o=typeof e=="string"?Nr(e):e,l=ei(o.pathname||"/",n);if(l==null)return null;let u=o_(t);nC(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=hC(l);f=dC(u[m],p,r)}return f}function o_(t,e=[],n=[],r="",o=!1){let l=(u,f,m=o,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;Je(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Zn([r,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),o_(u.children,e,w,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:uC(_,u.index),routesMeta:w})};return t.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let p of a_(u.path))l(u,f,!0,p)}),e}function a_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let u=a_(r.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function nC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iC=/^:[\w-]+$/,rC=3,sC=2,oC=1,aC=10,lC=-2,Dy=t=>t==="*";function uC(t,e){let n=t.split("/"),r=n.length;return n.some(Dy)&&(r+=lC),e&&(r+=sC),n.filter(o=>!Dy(o)).reduce((o,l)=>o+(iC.test(l)?rC:l===""?oC:aC),r)}function cC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function dC(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",u=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=jl({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=jl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:Zn([l,_.pathname]),pathnameBase:vC(Zn([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Zn([l,_.pathnameBase]))}return u}function jl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let C=f[w]||"";u=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const T=f[w];return _&&!T?p[v]=void 0:p[v]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function fC(t,e=!1,n=!0){Qt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function hC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var pC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mC=t=>pC.test(t);function gC(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Nr(t):t,l;if(n)if(mC(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Uy(n.substring(1),"/"):l=Uy(n,e)}else l=e;return{pathname:l,search:_C(r),hash:wC(o)}}function Uy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vf(t){let e=yC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function zf(t,e,n,r=!1){let o;typeof t=="string"?o=Nr(t):(o={...t},Je(!o.pathname||!o.pathname.includes("?"),zd("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),zd("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),zd("#","search","hash",o)));let l=t===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}f=_>=0?e[_]:"/"}let m=gC(o,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Zn=t=>t.join("/").replace(/\/\/+/g,"/"),vC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_C=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var l_=["POST","PUT","PATCH","DELETE"];new Set(l_);var SC=["GET",...l_];new Set(SC);var Hs=k.createContext(null);Hs.displayName="DataRouter";var au=k.createContext(null);au.displayName="DataRouterState";k.createContext(!1);var u_=k.createContext({isTransitioning:!1});u_.displayName="ViewTransition";var TC=k.createContext(new Map);TC.displayName="Fetchers";var CC=k.createContext(null);CC.displayName="Await";var Sn=k.createContext(null);Sn.displayName="Navigation";var aa=k.createContext(null);aa.displayName="Location";var hn=k.createContext({outlet:null,matches:[],isDataRoute:!1});hn.displayName="Route";var Ff=k.createContext(null);Ff.displayName="RouteError";function bC(t,{relative:e}={}){Je(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Sn),{hash:o,pathname:l,search:u}=la(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Zn([n,l])),r.createHref({pathname:f,search:u,hash:o})}function Gs(){return k.useContext(aa)!=null}function zi(){return Je(Gs(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(aa).location}var c_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d_(t){k.useContext(Sn).static||k.useLayoutEffect(t)}function lu(){let{isDataRoute:t}=k.useContext(hn);return t?HC():AC()}function AC(){Je(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Hs),{basename:e,navigator:n}=k.useContext(Sn),{matches:r}=k.useContext(hn),{pathname:o}=zi(),l=JSON.stringify(Vf(r)),u=k.useRef(!1);return d_(()=>{u.current=!0}),k.useCallback((m,p={})=>{if(Qt(u.current,c_),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=zf(m,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Zn([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,o,t])}var xC=k.createContext(null);function RC(t){let e=k.useContext(hn).outlet;return k.useMemo(()=>e&&k.createElement(xC.Provider,{value:t},e),[e,t])}function aU(){let{matches:t}=k.useContext(hn),e=t[t.length-1];return e?e.params:{}}function la(t,{relative:e}={}){let{matches:n}=k.useContext(hn),{pathname:r}=zi(),o=JSON.stringify(Vf(n));return k.useMemo(()=>zf(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function NC(t,e){return f_(t,e)}function f_(t,e,n,r,o){var P;Je(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Sn),{matches:u}=k.useContext(hn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let R=_&&_.path||"";h_(p,!_||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=zi(),T;if(e){let R=typeof e=="string"?Nr(e):e;Je(v==="/"||((P=R.pathname)==null?void 0:P.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),T=R}else T=w;let C=T.pathname||"/",x=C;if(v!=="/"){let R=v.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=s_(t,{pathname:x});Qt(_||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Qt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=UC(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Zn([v,l.encodeLocation?l.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:Zn([v,l.encodeLocation?l.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),u,n,r,o);return e&&M?k.createElement(aa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},M):M}function MC(){let t=BC(),e=EC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,u)}var IC=k.createElement(MC,null),kC=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(hn.Provider,{value:this.props.routeContext},k.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DC({routeContext:t,match:e,children:n}){let r=k.useContext(Hs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(hn.Provider,{value:t},n)}function UC(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n==null?void 0:n.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);Je(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:T}=n,C=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&r?(v,_)=>{var w,T;r(v,{location:n.location,params:((T=(w=n.matches)==null?void 0:w[0])==null?void 0:T.params)??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,w)=>{let T,C=!1,x=null,A=null;n&&(T=u&&_.route.id?u[_.route.id]:void 0,x=_.route.errorElement||IC,f&&(m<0&&w===0?(h_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,A=null):m===w&&(C=!0,A=_.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,w+1)),P=()=>{let R;return T?R=x:C?R=A:_.route.Component?R=k.createElement(_.route.Component,null):_.route.element?R=_.route.element:R=v,k.createElement(DC,{match:_,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:R})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?k.createElement(kC,{location:n.location,revalidation:n.revalidation,component:x,error:T,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):P()},null)}function $f(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(t){let e=k.useContext(Hs);return Je(e,$f(t)),e}function LC(t){let e=k.useContext(au);return Je(e,$f(t)),e}function OC(t){let e=k.useContext(hn);return Je(e,$f(t)),e}function Jf(t){let e=OC(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qC(){return Jf("useRouteId")}function BC(){var r;let t=k.useContext(Ff),e=LC("useRouteError"),n=Jf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HC(){let{router:t}=PC("useNavigate"),e=Jf("useNavigate"),n=k.useRef(!1);return d_(()=>{n.current=!0}),k.useCallback(async(o,l={})=>{Qt(n.current,c_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Py={};function h_(t,e,n){!e&&!Py[t]&&(Py[t]=!0,Qt(!1,n))}k.memo(GC);function GC({routes:t,future:e,state:n,unstable_onError:r}){return f_(t,void 0,n,r,e)}function p_({to:t,replace:e,state:n,relative:r}){Je(Gs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(Sn);Qt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(hn),{pathname:u}=zi(),f=lu(),m=zf(t,Vf(l),u,r==="path"),p=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:r})},[f,p,r,e,n]),null}function VC(t){return RC(t.context)}function wt(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){Je(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof n=="string"&&(n=Nr(n));let{pathname:m="/",search:p="",hash:v="",state:_=null,key:w="default"}=n,T=k.useMemo(()=>{let C=ei(m,u);return C==null?null:{location:{pathname:C,search:p,hash:v,state:_,key:w},navigationType:r}},[u,m,p,v,_,w,r]);return Qt(T!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:k.createElement(Sn.Provider,{value:f},k.createElement(aa.Provider,{children:e,value:T}))}function FC({children:t,location:e}){return NC(tf(t),e)}function tf(t,e=[]){let n=[];return k.Children.forEach(t,(r,o)=>{if(!k.isValidElement(r))return;let l=[...e,o];if(r.type===k.Fragment){n.push.apply(n,tf(r.props.children,l));return}Je(r.type===wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=tf(r.props.children,l)),n.push(u)}),n}var Vl="get",zl="application/x-www-form-urlencoded";function uu(t){return t!=null&&typeof t.tagName=="string"}function $C(t){return uu(t)&&t.tagName.toLowerCase()==="button"}function JC(t){return uu(t)&&t.tagName.toLowerCase()==="form"}function jC(t){return uu(t)&&t.tagName.toLowerCase()==="input"}function KC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YC(t,e){return t.button===0&&(!e||e==="_self")&&!KC(t)}var Il=null;function QC(){if(Il===null)try{new FormData(document.createElement("form"),0),Il=!1}catch{Il=!0}return Il}var WC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(t){return t!=null&&!WC.has(t)?(Qt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zl}"`),null):t}function XC(t,e){let n,r,o,l,u;if(JC(t)){let f=t.getAttribute("action");r=f?ei(f,e):null,n=t.getAttribute("method")||Vl,o=Fd(t.getAttribute("enctype"))||zl,l=new FormData(t)}else if($C(t)||jC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(r=m?ei(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Vl,o=Fd(t.getAttribute("formenctype"))||Fd(f.getAttribute("enctype"))||zl,l=new FormData(f,t),!QC()){let{name:p,type:v,value:_}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(uu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vl,r=null,o=zl,u=t}return l&&o==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ei(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function eb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nb(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await eb(l,n);return u.links?u.links():[]}return[]}));return ob(r.flat(1).filter(tb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ly(t,e,n,r,o,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>u(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ib(t,e,{includeHydrateFallback:n}={}){return rb(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function rb(t){return[...new Set(t)]}function sb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ob(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(sb(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function m_(){let t=k.useContext(Hs);return jf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ab(){let t=k.useContext(au);return jf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kf=k.createContext(void 0);Kf.displayName="FrameworkContext";function g_(){let t=k.useContext(Kf);return jf(t,"You must render this element inside a <HydratedRouter> element"),t}function lb(t,e){let n=k.useContext(Kf),[r,o]=k.useState(!1),[l,u]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let x=M=>{M.forEach(P=>{u(P.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[t]),k.useEffect(()=>{if(r){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[r]);let T=()=>{o(!0)},C=()=>{o(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:zo(f,T),onBlur:zo(m,C),onMouseEnter:zo(p,T),onMouseLeave:zo(v,C),onTouchStart:zo(_,T)}]:[!1,w,{}]}function zo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ub({page:t,...e}){let{router:n}=m_(),r=k.useMemo(()=>s_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(db,{page:t,matches:r,...e}):null}function cb(t){let{manifest:e,routeModules:n}=g_(),[r,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return nb(t,e,n).then(u=>{l||o(u)}),()=>{l=!0}},[t,e,n]),r}function db({page:t,matches:e,...n}){let r=zi(),{manifest:o,routeModules:l}=g_(),{basename:u}=m_(),{loaderData:f,matches:m}=ab(),p=k.useMemo(()=>Ly(t,e,m,o,r,"data"),[t,e,m,o,r]),v=k.useMemo(()=>Ly(t,e,m,o,r,"assets"),[t,e,m,o,r]),_=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,x=!1;if(e.forEach(M=>{var R;let P=o.routes[M.route.id];!P||!P.hasLoader||(!p.some(O=>O.route.id===M.route.id)&&M.route.id in f&&((R=l[M.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?x=!0:C.add(M.route.id))}),C.size===0)return[];let A=ZC(t,u,"data");return x&&C.size>0&&A.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[u,f,r,o,p,e,t,l]),w=k.useMemo(()=>ib(v,o),[v,o]),T=cb(v);return k.createElement(k.Fragment,null,_.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),T.map(({key:C,link:x})=>k.createElement("link",{key:C,nonce:n.nonce,...x})))}function fb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y_&&(window.__reactRouterVersion="7.9.6")}catch{}function hb({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=WT({window:n,v5Compat:!0}));let o=r.current,[l,u]=k.useState({action:o.action,location:o.location}),f=k.useCallback(m=>{k.startTransition(()=>u(m))},[u]);return k.useLayoutEffect(()=>o.listen(f),[o,f]),k.createElement(zC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cu=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,...w},T){let{basename:C}=k.useContext(Sn),x=typeof p=="string"&&v_.test(p),A,M=!1;if(typeof p=="string"&&x&&(A=p,y_))try{let Q=new URL(window.location.href),X=p.startsWith("//")?new URL(Q.protocol+p):new URL(p),he=ei(X.pathname,C);X.origin===Q.origin&&he!=null?p=he+X.search+X.hash:M=!0}catch{Qt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=bC(p,{relative:o}),[R,O,j]=lb(r,w),Y=gb(p,{replace:u,state:f,target:m,preventScrollReset:v,relative:o,viewTransition:_});function K(Q){e&&e(Q),Q.defaultPrevented||Y(Q)}let ie=k.createElement("a",{...w,...j,href:A||P,onClick:M||l?e:K,ref:fb(T,O),target:m,"data-discover":!x&&n==="render"?"true":void 0});return R&&!x?k.createElement(k.Fragment,null,ie,k.createElement(ub,{page:P})):ie});cu.displayName="Link";var Yf=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:u,viewTransition:f,children:m,...p},v){let _=la(u,{relative:p.relative}),w=zi(),T=k.useContext(au),{navigator:C,basename:x}=k.useContext(Sn),A=T!=null&&Eb(_)&&f===!0,M=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,P=w.pathname,R=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(P=P.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&x&&(R=ei(R,x)||R);const O=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let j=P===M||!o&&P.startsWith(M)&&P.charAt(O)==="/",Y=R!=null&&(R===M||!o&&R.startsWith(M)&&R.charAt(M.length)==="/"),K={isActive:j,isPending:Y,isTransitioning:A},ie=j?e:void 0,Q;typeof r=="function"?Q=r(K):Q=[r,j?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(K):l;return k.createElement(cu,{...p,"aria-current":ie,className:Q,ref:v,style:X,to:u,viewTransition:f},typeof m=="function"?m(K):m)});Yf.displayName="NavLink";var pb=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:u=Vl,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,...w},T)=>{let C=_b(),x=wb(f,{relative:p}),A=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&v_.test(f),P=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,j=(O==null?void 0:O.getAttribute("formmethod"))||u;C(O||R.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return k.createElement("form",{ref:T,method:A,action:x,onSubmit:r?m:P,...w,"data-discover":!M&&t==="render"?"true":void 0})});pb.displayName="Form";function mb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function __(t){let e=k.useContext(Hs);return Je(e,mb(t)),e}function gb(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=lu(),m=zi(),p=la(t,{relative:l});return k.useCallback(v=>{if(YC(v,e)){v.preventDefault();let _=n!==void 0?n:Qo(m)===Qo(p);f(t,{replace:_,state:r,preventScrollReset:o,relative:l,viewTransition:u})}},[m,f,p,n,r,e,t,o,l,u])}var yb=0,vb=()=>`__${String(++yb)}__`;function _b(){let{router:t}=__("useSubmit"),{basename:e}=k.useContext(Sn),n=qC();return k.useCallback(async(r,o={})=>{let{action:l,method:u,encType:f,formData:m,body:p}=XC(r,e);if(o.navigate===!1){let v=o.fetcherKey||vb();await t.fetch(v,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function wb(t,{relative:e}={}){let{basename:n}=k.useContext(Sn),r=k.useContext(hn);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...la(t||".",{relative:e})},u=zi();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Zn([n,l.pathname])),Qo(l)}function Eb(t,{relative:e}={}){let n=k.useContext(u_);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=__("useViewTransitionState"),o=la(t,{relative:e});if(!n.isTransitioning)return!1;let l=ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jl(o.pathname,u)!=null||jl(o.pathname,l)!=null}var Sb=r_();const Tb=su(Sb);var nf=function(t,e){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},nf(t,e)};function w_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nf(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kl=function(){return Kl=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Kl.apply(this,arguments)};function Vs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function E_(t,e,n,r){var o=arguments.length,l=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,r);else for(var f=t.length-1;f>=0;f--)(u=t[f])&&(l=(o<3?u(l):o>3?u(e,n,l):u(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function S_(t,e){return function(n,r){e(n,r,t)}}function T_(t,e,n,r,o,l){function u(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var f=r.kind,m=f==="getter"?"get":f==="setter"?"set":"value",p=!e&&t?r.static?t:t.prototype:null,v=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),_,w=!1,T=n.length-1;T>=0;T--){var C={};for(var x in r)C[x]=x==="access"?{}:r[x];for(var x in r.access)C.access[x]=r.access[x];C.addInitializer=function(M){if(w)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(M||null))};var A=(0,n[T])(f==="accessor"?{get:v.get,set:v.set}:v[m],C);if(f==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(_=u(A.get))&&(v.get=_),(_=u(A.set))&&(v.set=_),(_=u(A.init))&&o.unshift(_)}else(_=u(A))&&(f==="field"?o.unshift(_):v[m]=_)}p&&Object.defineProperty(p,r.name,v),w=!0}function C_(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function b_(t){return typeof t=="symbol"?t:"".concat(t)}function A_(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function x_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oe(t,e,n,r){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(v){try{p(r.next(v))}catch(_){u(_)}}function m(v){try{p(r.throw(v))}catch(_){u(_)}}function p(v){v.done?l(v.value):o(v.value).then(f,m)}p((r=r.apply(t,e||[])).next())})}function R_(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=f(0),u.throw=f(1),u.return=f(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(v){return m([p,v])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(v){p=[6,v],o=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var du=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function N_(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&du(e,t,n)}function Yl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)l.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return l}function M_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qf(arguments[e]));return t}function I_(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var l=arguments[e],u=0,f=l.length;u<f;u++,o++)r[o]=l[u];return r}function k_(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}function Bs(t){return this instanceof Bs?(this.v=t,this):new Bs(t)}function D_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(T){return function(C){return Promise.resolve(C).then(T,_)}}function f(T,C){r[T]&&(o[T]=function(x){return new Promise(function(A,M){l.push([T,x,A,M])>1||m(T,x)})},C&&(o[T]=C(o[T])))}function m(T,C){try{p(r[T](C))}catch(x){w(l[0][3],x)}}function p(T){T.value instanceof Bs?Promise.resolve(T.value.v).then(v,_):w(l[0][2],T)}function v(T){m("next",T)}function _(T){m("throw",T)}function w(T,C){T(C),l.shift(),l.length&&m(l[0][0],l[0][1])}}function U_(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,l){e[o]=t[o]?function(u){return(n=!n)?{value:Bs(t[o](u)),done:!1}:l?l(u):u}:l}}function P_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Yl=="function"?Yl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=t[l]&&function(u){return new Promise(function(f,m){u=t[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(p){l({value:p,done:f})},u)}}function L_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Cb=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},rf=function(t){return rf=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},rf(t)};function O_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=rf(t),r=0;r<n.length;r++)n[r]!=="default"&&du(e,t,n[r]);return Cb(e,t),e}function q_(t){return t&&t.__esModule?t:{default:t}}function B_(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function H_(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function G_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function V_(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var bb=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function z_(t){function e(l){t.error=t.hasError?new bb(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else r|=1}catch(u){e(u)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function F_(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,l,u){return r?e?".jsx":".js":o&&(!l||!u)?n:o+l+"."+u.toLowerCase()+"js"}):t}const Ab={__extends:w_,__assign:Kl,__rest:Vs,__decorate:E_,__param:S_,__esDecorate:T_,__runInitializers:C_,__propKey:b_,__setFunctionName:A_,__metadata:x_,__awaiter:oe,__generator:R_,__createBinding:du,__exportStar:N_,__values:Yl,__read:Qf,__spread:M_,__spreadArrays:I_,__spreadArray:k_,__await:Bs,__asyncGenerator:D_,__asyncDelegator:U_,__asyncValues:P_,__makeTemplateObject:L_,__importStar:O_,__importDefault:q_,__classPrivateFieldGet:B_,__classPrivateFieldSet:H_,__classPrivateFieldIn:G_,__addDisposableResource:V_,__disposeResources:z_,__rewriteRelativeImportExtension:F_},xb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:V_,get __assign(){return Kl},__asyncDelegator:U_,__asyncGenerator:D_,__asyncValues:P_,__await:Bs,__awaiter:oe,__classPrivateFieldGet:B_,__classPrivateFieldIn:G_,__classPrivateFieldSet:H_,__createBinding:du,__decorate:E_,__disposeResources:z_,__esDecorate:T_,__exportStar:N_,__extends:w_,__generator:R_,__importDefault:q_,__importStar:O_,__makeTemplateObject:L_,__metadata:x_,__param:S_,__propKey:b_,__read:Qf,__rest:Vs,__rewriteRelativeImportExtension:F_,__runInitializers:C_,__setFunctionName:A_,__spread:M_,__spreadArray:k_,__spreadArrays:I_,__values:Yl,default:Ab},Symbol.toStringTag,{value:"Module"})),Rb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Wf extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Nb extends Wf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Oy extends Wf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qy extends Wf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sf||(sf={}));class Mb{constructor(e,{headers:n={},customFetch:r,region:o=sf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=Rb(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return oe(this,arguments,void 0,function*(n,r={}){var o;let l,u;try{const{headers:f,method:m,body:p,signal:v,timeout:_}=r;let w={},{region:T}=r;T||(T=this.region);const C=new URL(`${this.url}/${n}`);T&&T!=="any"&&(w["x-region"]=T,C.searchParams.set("forceFunctionRegion",T));let x;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",x=p):typeof p=="string"?(w["Content-Type"]="text/plain",x=p):typeof FormData<"u"&&p instanceof FormData?x=p:(w["Content-Type"]="application/json",x=JSON.stringify(p)):x=p;let A=v;_&&(u=new AbortController,l=setTimeout(()=>u.abort(),_),v?(A=u.signal,v.addEventListener("abort",()=>u.abort())):A=u.signal);const M=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),f),body:x,signal:A}).catch(j=>{throw new Nb(j)}),P=M.headers.get("x-relay-error");if(P&&P==="true")throw new Oy(M);if(!M.ok)throw new qy(M);let R=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield M.json():R==="application/octet-stream"||R==="application/pdf"?O=yield M.blob():R==="text/event-stream"?O=M:R==="multipart/form-data"?O=yield M.formData():O=yield M.text(),{data:O,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof qy||f instanceof Oy?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var _t={};const zs=qT(xb);var kl={},Dl={},Ul={},Pl={},Ll={},Ol={},By;function $_(){if(By)return Ol;By=1,Object.defineProperty(Ol,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ol.default=t,Ol}var Hy;function J_(){if(Hy)return Ll;Hy=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=zs.__importDefault($_());class n{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,v,_,w;let T=null,C=null,x=null,A=m.status,M=m.statusText;if(m.ok){if(this.method!=="HEAD"){const j=await m.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=j:C=JSON.parse(j))}const R=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(T={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,x=null,A=406,M="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const R=await m.text();try{T=JSON.parse(R),Array.isArray(T)&&m.status===404&&(C=[],T=null,A=200,M="OK")}catch{m.status===404&&R===""?(A=204,M="No Content"):T={message:R}}if(T&&this.isMaybeSingle&&(!((w=T==null?void 0:T.details)===null||w===void 0)&&w.includes("0 rows"))&&(T=null,A=200,M="OK"),T&&this.shouldThrowOnError)throw new e.default(T)}return{error:T,data:C,count:x,status:A,statusText:M}});return this.shouldThrowOnError||(f=f.catch(m=>{var p,v,_,w,T,C;let x="";const A=m==null?void 0:m.cause;if(A){const M=(p=A==null?void 0:A.message)!==null&&p!==void 0?p:"",P=(v=A==null?void 0:A.code)!==null&&v!==void 0?v:"";x=`${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"FetchError"}: ${m==null?void 0:m.message}`,x+=`

Caused by: ${(w=A==null?void 0:A.name)!==null&&w!==void 0?w:"Error"}: ${M}`,P&&(x+=` (${P})`),A!=null&&A.stack&&(x+=`
${A.stack}`)}else x=(T=m==null?void 0:m.stack)!==null&&T!==void 0?T:"";return{error:{message:`${(C=m==null?void 0:m.name)!==null&&C!==void 0?C:"FetchError"}: ${m==null?void 0:m.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ll.default=n,Ll}var Gy;function j_(){if(Gy)return Pl;Gy=1,Object.defineProperty(Pl,"__esModule",{value:!0});const e=zs.__importDefault(J_());class n extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:f=u}={}){const m=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:m=!1,format:p="text"}={}){var v;const _=[o?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Pl.default=n,Pl}var Vy;function Xf(){if(Vy)return Ul;Vy=1,Object.defineProperty(Ul,"__esModule",{value:!0});const e=zs.__importDefault(j_()),n=new RegExp("[,()]");class r extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${p}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return Ul.default=r,Ul}var zy;function K_(){if(zy)return Dl;zy=1,Object.defineProperty(Dl,"__esModule",{value:!0});const e=zs.__importDefault(Xf());class n{constructor(o,{headers:l={},schema:u,fetch:f}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(o,l){const{head:u=!1,count:f}=l??{},m=u?"HEAD":"GET";let p=!1;const v=(o??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var f;const m="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:m=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((w,T)=>w.concat(Object.keys(T)),[]);if(_.length>0){const w=[...new Set(_)].map(T=>`"${T}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Dl.default=n,Dl}var Fy;function Ib(){if(Fy)return kl;Fy=1,Object.defineProperty(kl,"__esModule",{value:!0});const t=zs,e=t.__importDefault(K_()),n=t.__importDefault(Xf());class r{constructor(l,{headers:u={},schema:f,fetch:m}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=m}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:m=!1,count:p}={}){var v;let _;const w=new URL(`${this.url}/rpc/${l}`);let T;f||m?(_=f?"HEAD":"GET",Object.entries(u).filter(([x,A])=>A!==void 0).map(([x,A])=>[x,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([x,A])=>{w.searchParams.append(x,A)})):(_="POST",T=u);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new n.default({method:_,url:w,headers:C,schema:this.schemaName,body:T,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return kl.default=r,kl}var $y;function kb(){if($y)return _t;$y=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const t=zs,e=t.__importDefault(Ib());_t.PostgrestClient=e.default;const n=t.__importDefault(K_());_t.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Xf());_t.PostgrestFilterBuilder=r.default;const o=t.__importDefault(j_());_t.PostgrestTransformBuilder=o.default;const l=t.__importDefault(J_());_t.PostgrestBuilder=l.default;const u=t.__importDefault($_());return _t.PostgrestError=u.default,_t.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},_t}var Y_=kb();const Q_=su(Y_),Db=OT({__proto__:null,default:Q_},[Y_]),{PostgrestClient:Ub,PostgrestQueryBuilder:lU,PostgrestFilterBuilder:uU,PostgrestTransformBuilder:cU,PostgrestBuilder:dU,PostgrestError:fU}=Q_||Db;class Pb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lb="2.84.0",Ob=`realtime-js/${Lb}`,W_="1.0.0",qb="2.0.0",Jy=W_,of=1e4,Bb=1e3,Hb=100;var pr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pr||(pr={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var af;(function(t){t.websocket="websocket"})(af||(af={}));var mr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mr||(mr={}));class Gb{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,o,l;const u=e.topic,f=(n=e.ref)!==null&&n!==void 0?n:"",m=(r=e.join_ref)!==null&&r!==void 0?r:"",p=e.payload.event,v=(l=(o=e.payload)===null||o===void 0?void 0:o.payload)!==null&&l!==void 0?l:new ArrayBuffer(0),_=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+u.length+p.length,w=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(w),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,m.length),T.setUint8(C++,f.length),T.setUint8(C++,u.length),T.setUint8(C++,p.length),T.setUint8(C++,this.BINARY_ENCODING),Array.from(m,A=>T.setUint8(C++,A.charCodeAt(0))),Array.from(f,A=>T.setUint8(C++,A.charCodeAt(0))),Array.from(u,A=>T.setUint8(C++,A.charCodeAt(0))),Array.from(p,A=>T.setUint8(C++,A.charCodeAt(0)));var x=new Uint8Array(w.byteLength+v.byteLength);return x.set(new Uint8Array(w),0),x.set(new Uint8Array(v),w.byteLength),x.buffer}_encodeJsonUserBroadcastPush(e){var n,r,o,l;const u=e.topic,f=(n=e.ref)!==null&&n!==void 0?n:"",m=(r=e.join_ref)!==null&&r!==void 0?r:"",p=e.payload.event,v=(l=(o=e.payload)===null||o===void 0?void 0:o.payload)!==null&&l!==void 0?l:{},w=new TextEncoder().encode(JSON.stringify(v)).buffer,T=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+u.length+p.length,C=new ArrayBuffer(this.HEADER_LENGTH+T);let x=new DataView(C),A=0;x.setUint8(A++,this.KINDS.userBroadcastPush),x.setUint8(A++,m.length),x.setUint8(A++,f.length),x.setUint8(A++,u.length),x.setUint8(A++,p.length),x.setUint8(A++,this.JSON_ENCODING),Array.from(m,P=>x.setUint8(A++,P.charCodeAt(0))),Array.from(f,P=>x.setUint8(A++,P.charCodeAt(0))),Array.from(u,P=>x.setUint8(A++,P.charCodeAt(0))),Array.from(p,P=>x.setUint8(A++,P.charCodeAt(0)));var M=new Uint8Array(C.byteLength+w.byteLength);return M.set(new Uint8Array(C),0),M.set(new Uint8Array(w),C.byteLength),M.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,l,u,f,m]=r;return n({join_ref:o,ref:l,topic:u,event:f,payload:m})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const p=r.decode(e.slice(m,m+o));m=m+o;const v=r.decode(e.slice(m,m+l));m=m+l;const _=r.decode(e.slice(m,m+u));m=m+u;const w=e.slice(m,e.byteLength),T=f===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,C={type:this.BROADCAST_EVENT,event:v,payload:T};return u>0&&(C.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class X_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ge||(Ge={}));const jy=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Vb(u,t,e,o),l),{}):{}},Vb=(t,e,n,r)=>{const o=e.find(f=>f.name===t),l=o==null?void 0:o.type,u=n[t];return l&&!r.includes(l)?Z_(l,u):lf(u)},Z_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Jb(e,n)}switch(t){case Ge.bool:return zb(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return Fb(e);case Ge.json:case Ge.jsonb:return $b(e);case Ge.timestamp:return jb(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return lf(e);default:return lf(e)}},lf=t=>t,zb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$b=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jb=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>Z_(e,f))}return t},jb=t=>typeof t=="string"?t.replace(" ","T"):t,ew=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $d{constructor(e,n,r={},o=of){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ky;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ky||(Ky={}));class jo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jo.syncState(this.state,o,l,u),this.pendingDiffs.forEach(m=>{this.state=jo.syncDiff(this.state,m,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=jo.syncDiff(this.state,o,l,u),f())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const l=this.cloneDeep(e),u=this.transformState(n),f={},m={};return this.map(l,(p,v)=>{u[p]||(m[p]=v)}),this.map(u,(p,v)=>{const _=l[p];if(_){const w=v.map(A=>A.presence_ref),T=_.map(A=>A.presence_ref),C=v.filter(A=>T.indexOf(A.presence_ref)<0),x=_.filter(A=>w.indexOf(A.presence_ref)<0);C.length>0&&(f[p]=C),x.length>0&&(m[p]=x)}else f[p]=v}),this.syncDiff(l,{joins:f,leaves:m},r,o)}static syncDiff(e,n,r,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(l,(f,m)=>{var p;const v=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(m),v.length>0){const _=e[f].map(T=>T.presence_ref),w=v.filter(T=>_.indexOf(T.presence_ref)<0);e[f].unshift(...w)}r(f,v,m)}),this.map(u,(f,m)=>{let p=e[f];if(!p)return;const v=m.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),e[f]=p,o(f,p,m),p.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yy||(Yy={}));var Ko;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ko||(Ko={}));var Qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class Zf{constructor(e,n={config:{}},r){var o,l;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $d(this,En.join,this.params,this.timeout),this.rejoinTimer=new X_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new jo(this),this.broadcastEndpointURL=ew(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:u,presence:f,private:m}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Ko.PRESENCE]&&this.bindings[Ko.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},w={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(T=>e==null?void 0:e(Qn.CHANNEL_ERROR,T)),this._onClose(()=>e==null?void 0:e(Qn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:T})=>{var C;if(this.socket.setAuth(),T===void 0){e==null||e(Qn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,A=(C=x==null?void 0:x.length)!==null&&C!==void 0?C:0,M=[];for(let P=0;P<A;P++){const R=x[P],{filter:{event:O,schema:j,table:Y,filter:K}}=R,ie=T&&T[P];if(ie&&ie.event===O&&ie.schema===j&&ie.table===Y&&ie.filter===K)M.push(Object.assign(Object.assign({},R),{id:ie.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Qn.SUBSCRIBED);return}}).receive("error",T=>{this.state=at.errored,e==null||e(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===at.joined&&e===Ko.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const p=await f.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,m;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new $d(this,En.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,l=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new $d(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hb){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,l;const u=e.toLocaleLowerCase(),{close:f,error:m,leave:p,join:v}=En;if(r&&[f,m,p,v].indexOf(u)>=0&&r!==this._joinRef())return;let w=this._onMessage(u,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(T=>{var C,x,A;return((C=T.filter)===null||C===void 0?void 0:C.event)==="*"||((A=(x=T.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===u}).map(T=>T.callback(w,r)):(l=this.bindings[u])===null||l===void 0||l.filter(T=>{var C,x,A,M,P,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in T){const O=T.id,j=(C=T.filter)===null||C===void 0?void 0:C.event;return O&&((x=n.ids)===null||x===void 0?void 0:x.includes(O))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const O=(P=(M=T==null?void 0:T.filter)===null||M===void 0?void 0:M.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return O==="*"||O===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===u}).map(T=>{if(typeof w=="object"&&"ids"in w){const C=w.data,{schema:x,table:A,commit_timestamp:M,type:P,errors:R}=C;w=Object.assign(Object.assign({},{schema:x,table:A,commit_timestamp:M,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(C))}T.callback(w,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&Zf.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=jy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=jy(e.columns,e.old_record)),n}}const Jd=()=>{},ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kb=[1e3,2e3,5e3,1e4],Yb=1e4,Qb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wb{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=of,this.transport=null,this.heartbeatIntervalMs=ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jd,this.ref=0,this.reconnectTimer=null,this.vsn=Jy,this.logger=Jd,this.conn=null,this.sendBuffer=[],this.serializer=new Gb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${af.websocket}`,this.httpEndpoint=ew(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pr.connecting:return mr.Connecting;case pr.open:return mr.Open;case pr.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===r);if(o)return o;{const l=new Zf(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:r,payload:o,ref:l}=e,u=()=>{this.encode(e,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${r} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Bb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:l,ref:u}=n,f=u?`(${u})`:"",m=l.status||"";this.log("receive",`${m} ${r} ${o} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pr.open||this.conn.readyState===pr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Qb],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:Ob};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(En.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new X_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,l,u,f,m,p,v,_,w,T;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:of,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:ql.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:Jd,this.vsn=(m=e==null?void 0:e.vsn)!==null&&m!==void 0?m:Jy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(C=>Kb[C-1]||Yb),this.vsn){case W_:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((C,x)=>x(JSON.stringify(C))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((C,x)=>x(JSON.parse(C)));break;case qb:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(T=e==null?void 0:e.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class eh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Xb extends eh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uf extends eh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const th=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Zb=()=>Response,cf=t=>{if(Array.isArray(t))return t.map(n=>cf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=cf(r)}),e},eA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tA=(t,e,n)=>oe(void 0,void 0,void 0,function*(){const r=yield Zb();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const l=t.status||500,u=(o==null?void 0:o.statusCode)||l+"";e(new Xb(jd(o),l,u))}).catch(o=>{e(new uf(jd(o),o))}):e(new uf(jd(t),t))}),nA=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(eA(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function ua(t,e,n,r,o,l){return oe(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,nA(e,r,o,l)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>tA(m,f,r))})})}function Wo(t,e,n,r){return oe(this,void 0,void 0,function*(){return ua(t,"GET",e,n,r)})}function vn(t,e,n,r,o){return oe(this,void 0,void 0,function*(){return ua(t,"POST",e,r,o,n)})}function df(t,e,n,r,o){return oe(this,void 0,void 0,function*(){return ua(t,"PUT",e,r,o,n)})}function iA(t,e,n,r){return oe(this,void 0,void 0,function*(){return ua(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nh(t,e,n,r,o){return oe(this,void 0,void 0,function*(){return ua(t,"DELETE",e,r,o,n)})}class rA{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var tw;class sA{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[tw]="BlobDownloadBuilder",this.promise=null}asStream(){return new rA(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}tw=Symbol.toStringTag;const oA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aA{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=th(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return oe(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Qy),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),m&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(m))):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(f=Object.assign(Object.assign({},f),o.headers));const p=this._removeEmptyFolders(n),v=this._getFinalPath(p),_=yield(e=="PUT"?df:vn)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}upload(e,n,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return oe(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:Qy.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const _=yield df(this.fetch,f.toString(),m,{headers:v});return{data:{path:l,fullPath:_.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ke(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,n){return oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const l=yield vn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new eh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}update(e,n,r){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return oe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}copy(e,n,r){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield vn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return oe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield vn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return oe(this,void 0,void 0,function*(){try{const o=yield vn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),m=()=>Wo(this.fetch,`${this.url}/${o}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new sA(m,this.shouldThrowOnError)}info(e){return oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Wo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}exists(e){return oe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield iA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof uf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${p}`)}}}remove(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}list(e,n,r){return oe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},oA),n),{prefix:e||""});return{data:yield vn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}listV2(e,n){return oe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield vn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const nw="2.84.0",iw={"X-Client-Info":`storage-js/${nw}`};class lA{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const l=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iw),n),this.fetch=th(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Wo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}createBucket(e){return oe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return oe(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class uA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iw),n),this.fetch=th(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listBuckets(e){return oe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Wo(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}const ih={"X-Client-Info":`storage-js/${nw}`,"Content-Type":"application/json"};class rw extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Kd extends rw{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cA extends rw{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Wy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Wy||(Wy={}));const rh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dA=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fA=(t,e,n)=>oe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const f=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new Kd(Xy(u),o,f))}).catch(()=>{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new Kd(f,o,u))});else{const u=o+"",f=l.statusText||`HTTP ${o} error`;e(new Kd(f,o,u))}}else e(new cA(Xy(t),t))}),hA=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(dA(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function pA(t,e,n,r,o,l){return oe(this,void 0,void 0,function*(){return new Promise((u,f)=>{t(n,hA(e,r,o,l)).then(m=>{if(!m.ok)throw m;if(r!=null&&r.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>fA(m,f,r))})})}function Yt(t,e,n,r,o){return oe(this,void 0,void 0,function*(){return pA(t,"POST",e,r,o,n)})}class mA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ih),n),this.fetch=rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return oe(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}listIndexes(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return oe(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}})}}class gA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ih),n),this.fetch=rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Yt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}queryVectors(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return oe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class yA{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ih),n),this.fetch=rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}getBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}listBuckets(){return oe(this,arguments,void 0,function*(e={}){try{return{data:yield Yt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return oe(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}})}}class vA extends yA{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new _A(this.url,this.headers,e,this.fetch)}}class _A extends mA{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new wA(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class wA extends gA{constructor(e,n,r,o,l){super(e,n,l),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class EA extends lA{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new aA(this.url,this.headers,e,this.fetch)}get vectors(){return new vA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uA(this.url+"/iceberg",this.headers,this.fetch)}}const SA="2.84.0";let $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";const TA={"X-Client-Info":`supabase-js-${$o}/${SA}`},CA={headers:TA},bA={schema:"public"},AA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xA={},RA=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NA=()=>Headers,MA=(t,e,n)=>{const r=RA(n),o=NA();return async(l,u)=>{var f;const m=(f=await e())!==null&&f!==void 0?f:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(l,Object.assign(Object.assign({},u),{headers:p}))}};function IA(t){return t.endsWith("/")?t:t+"/"}function kA(t,e){var n,r;const{db:o,auth:l,realtime:u,global:f}=t,{db:m,auth:p,realtime:v,global:_}=e,w={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),f),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function DA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sw="2.84.0",ws=30*1e3,ff=3,Yd=ff*ws,UA="http://localhost:9999",PA="supabase.auth.token",LA={"X-Client-Info":`gotrue-js/${sw}`},hf="X-Supabase-Api-Version",ow={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qA=600*1e3;class Xo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class BA extends Xo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function HA(t){return ae(t)&&t.name==="AuthApiError"}class gr extends Xo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fi extends Xo{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class jt extends Fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GA(t){return ae(t)&&t.name==="AuthSessionMissingError"}class ms extends Fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bl extends Fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hl extends Fi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VA(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class Zy extends Fi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pf extends Fi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Qd(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class ev extends Fi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class mf extends Fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tv=` 	
\r=`.split(""),zA=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<tv.length;e+=1)t[tv[e].charCodeAt(0)]=-2;for(let e=0;e<Ql.length;e+=1)t[Ql[e].charCodeAt(0)]=e;return t})();function nv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ql[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ql[r]),e.queuedBits-=6}}function aw(t,e,n){const r=zA[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{JA(u,r,n)};for(let u=0;u<t.length;u+=1)aw(t.charCodeAt(u),o,l);return e.join("")}function FA(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $A(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}FA(r,e)}}function JA(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ts(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)aw(t.charCodeAt(o),n,r);return new Uint8Array(e)}function jA(t){const e=[];return $A(t,n=>e.push(n)),new Uint8Array(e)}function yr(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>nv(o,n,r)),nv(null,n,r),e.join("")}function KA(t){return Math.round(Date.now()/1e3)+t}function YA(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",dr={tested:!1,writable:!1},lw=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function QA(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const uw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Es=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},fr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mi=async(t,e)=>{await t.removeItem(e)};class fu{constructor(){this.promise=new fu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fu.promiseConstructor=Promise;function Wd(t){const e=t.split(".");if(e.length!==3)throw new mf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!OA.test(e[r]))throw new mf("JWT not in base64url format");return{header:JSON.parse(iv(e[0])),payload:JSON.parse(iv(e[1])),signature:Ts(e[2]),raw:{header:e[0],payload:e[1]}}}async function XA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZA(t,e){return new Promise((r,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){r(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function ex(t){return("0"+t.toString(16)).substr(-2)}function tx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,ex).join("")}async function nx(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function ix(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nx(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(t,e,n=!1){const r=tx();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Es(t,`${e}-code-verifier`,o);const l=await ix(r);return[l,r===l?"plain":"s256"]}const rx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sx(t){const e=t.headers.get(hf);if(!e||!e.match(rx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ox(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ax(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(t){if(!lx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ux(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function rv(t){return JSON.parse(JSON.stringify(t))}const hr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cx=[502,503,504];async function sv(t){var e;if(!WA(t))throw new pf(hr(t),0);if(cx.includes(t.status))throw new pf(hr(t),t.status);let n;try{n=await t.json()}catch(l){throw new gr(hr(l),l)}let r;const o=sx(t);if(o&&o.getTime()>=ow["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ev(hr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new ev(hr(n),t.status,n.weak_password.reasons);throw new BA(hr(n),t.status||500,r)}const dx=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function de(t,e,n,r){var o;const l=Object.assign({},r==null?void 0:r.headers);l[hf]||(l[hf]=ow["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await fx(t,e,n+f,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function fx(t,e,n,r,o,l){const u=dx(e,r,o,l);let f;try{f=await t(n,Object.assign({},u))}catch(m){throw console.error(m),new pf(hr(m),0)}if(f.ok||await sv(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(m){await sv(m)}}function yn(t){var e;let n=null;mx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=KA(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ov(t){const e=yn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ki(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hx(t){return{data:t,error:null}}function px(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l}=t,u=Vs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:l},m=Object.assign({},u);return{data:{properties:f,user:m},error:null}}function av(t){return t}function mx(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zd=["global","local","others"];class gx{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=uw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Zd[0]){if(Zd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zd.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ki})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Vs(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:px,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ki})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,l,u,f,m;try{const p={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:av});if(v.error)throw v.error;const _=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,T=(m=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(C=>{const x=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);p[`${A}Page`]=x}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ys(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ki})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ys(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ki})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ys(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ki})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ys(e.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ys(e.userId),ys(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,l,u,f,m;try{const p={nextPage:null,lastPage:0,total:0},v=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:av});if(v.error)throw v.error;const _=await v.json(),w=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,T=(m=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(C=>{const x=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);p[`${A}Page`]=x}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function lv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const vs={debug:!!(globalThis&&lw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yx extends cw{}async function vx(t,e,n){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function _x(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wx(t){return parseInt(t,16)}function Ex(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Sx(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:m,resources:p,scheme:v,uri:_,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const T=dw(t.address),C=v?`${v}://${r}`:r,x=t.statement?`${t.statement}
`:"",A=`${C} wants you to sign in with your Ethereum account:
${T}

${x}`;let M=`URI: ${_}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),m&&(M+=`
Request ID: ${m}`),p){let P=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);P+=`
- ${R}`}M+=P}return`${A}
${M}`}class st extends Error{constructor({message:e,code:n,cause:r,name:o}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=o??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Wl extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Tx({error:t,options:e}){var n,r,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(fw(u)){if(l.rp.id!==u)return new st({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Cx({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(fw(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class bx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ax=new bx;function xx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=Vs(t,["challenge","user","excludeCredentials"]),l=Ts(e).buffer,u=Object.assign(Object.assign({},n),{id:Ts(n.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:l,user:u});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];f.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Ts(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function Rx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Vs(t,["challenge","allowCredentials"]),o=Ts(e).buffer,l=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const f=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Ts(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Nx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:yr(new Uint8Array(t.response.attestationObject)),clientDataJSON:yr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:yr(new Uint8Array(o.authenticatorData)),clientDataJSON:yr(new Uint8Array(o.clientDataJSON)),signature:yr(new Uint8Array(o.signature)),userHandle:o.userHandle?yr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uv(){var t,e;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ix(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",e)}:{data:null,error:new Wl("Empty credential response",e)}}catch(e){return{data:null,error:Tx({error:e,options:t})}}}async function kx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",e)}:{data:null,error:new Wl("Empty credential response",e)}}catch(e){return{data:null,error:Cx({error:e,options:t})}}}const Dx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ux={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))r[l]=u;else if(n(u))r[l]=u;else if(e(u)){const f=r[l];e(f)?r[l]=Xl(f,u):r[l]=Xl(u)}else r[l]=u}return r}function Px(t,e){return Xl(Dx,t,e||{})}function Lx(t,e){return Xl(Ux,t,e||{})}class Ox{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:f};const m=o??Ax.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=Px(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:_}=await Ix({publicKey:p,signal:m});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const p=Lx(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:_}=await kx(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:m}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new gr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Xo("rpId is required for WebAuthn authentication")};try{if(!uv())return{data:null,error:new gr("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:l});if(!u)return{data:null,error:f};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:r,credential_response:m.credential_response}})}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new gr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new Xo("rpId is required for WebAuthn registration")};try{if(!uv())return{data:null,error:new gr("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:f};const{data:m,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:l});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ae(u)?{data:null,error:u}:{data:null,error:new gr("Unexpected error in register",u)}}}}_x();const qx={url:UA,storageKey:PA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cv(t,e,n){return await n()}const _s={};class Zo{get jwks(){var e,n;return(n=(e=_s[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=_s[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},qx),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Zo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&gt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new gx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=uw(l.fetch),this.lock=l.lock||cv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:gt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vx:this.lock=cv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ox(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:lw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lv(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=lv(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(gt()&&(n=QA(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),gt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),VA(l)){const m=(e=l.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new gr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const l=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:yn}),{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,r,o;try{let l;if("email"in e){const{email:v,password:_,options:w}=e;let T=null,C=null;this.flowType==="pkce"&&([T,C]=await gs(this.storage,this.storageKey)),l=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:v,password:_,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:T,code_challenge_method:C},xform:yn})}else if("phone"in e){const{phone:v,password:_,options:w}=e;l=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:yn})}else throw new Bl("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:f}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ov})}else if("phone"in e){const{phone:l,password:u,options:f}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ov})}else throw new Bl("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const l=new ms;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,l,u,f,m,p,v,_,w;let T,C;if("message"in e)T=e.message,C=e.signature;else{const{chain:x,wallet:A,statement:M,options:P}=e;let R;if(gt())if(typeof A=="object")R=A;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")R=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const O=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),j=await R.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=dw(j[0]);let K=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!K){const Q=await R.request({method:"eth_chainId"});K=wx(Q)}const ie={domain:O.host,address:Y,statement:M,uri:O.href,version:"1",chainId:K,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=P==null?void 0:P.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=P==null?void 0:P.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=P==null?void 0:P.signInWithEthereum)===null||v===void 0?void 0:v.resources};T=Sx(ie),C=await R.request({method:"personal_sign",params:[Ex(T),Y]})}try{const{data:x,error:A}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:C},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:yn});if(A)throw A;if(!x||!x.session||!x.user){const M=new ms;return this._returnResult({data:{user:null,session:null},error:M})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:A})}catch(x){if(ae(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,r,o,l,u,f,m,p,v,_,w,T;let C,x;if("message"in e)C=e.message,x=e.signature;else{const{chain:A,wallet:M,statement:P,options:R}=e;let O;if(gt())if(typeof M=="object")O=M;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))O=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=M}const j=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const Y=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),P?{statement:P}:null));let K;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")K=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)K=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)C=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),x=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${j.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(o=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((_=(v=R==null?void 0:R.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...R.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Y=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=Y}}try{const{data:A,error:M}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:yr(x)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:yn});if(M)throw M;if(!A||!A.session||!A.user){const P=new ms;return this._returnResult({data:{user:null,session:null},error:P})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:M})}catch(A){if(ae(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const n=await fr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:yn});if(await Mi(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const f=new ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:l,nonce:u}=e,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yn}),{data:m,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const v=new ms;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,l,u;try{if("email"in e){const{email:f,options:m}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await gs(this.storage,this.storageKey));const{error:_}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:f,options:m}=e,{data:p,error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new Bl("You must provide either an email or phone number.")}catch(f){if(ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var n,r;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:f}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:yn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,l,u;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await gs(this.storage,this.storageKey));const p=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:hx});return!((l=p.data)===null||l===void 0)&&l.url&&gt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(ae(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jt;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:l}=e,{error:u}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:o,options:l}=e,{data:u,error:f}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new Bl("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Yd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await fr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Xd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=ux(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ki}):await this._useSession(async n=>{var r,o,l;const{data:u,error:f}=n;if(f)throw f;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:ki})})}catch(n){if(ae(n))return GA(n)&&(await this._removeSession(),await Mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:l}=r;if(l)throw l;if(!o.session)throw new jt;const u=o.session;let f=null,m=null;this.flowType==="pkce"&&e.email!=null&&([f,m]=await gs(this.storage,this.storageKey));const{data:p,error:v}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:m}),jwt:u.access_token,xform:ki});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,o=!0,l=null;const{payload:u}=Wd(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{data:f,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:m}=await this._getUser(e.access_token);if(m)throw m;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:f}=n;if(f)throw f;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!gt())throw new Hl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zy("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:f,expires_at:m,token_type:p}=e;if(!l||!f||!u||!p)throw new Hl("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(f);let w=v+_;m&&(w=parseInt(m));const T=w-v;T*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${_}s`);const C=w-_;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,w,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,w,v);const{data:x,error:A}=await this._getUser(l);if(A)throw A;const M={provider_token:r,provider_refresh_token:o,access_token:l,expires_in:_,expires_at:w,refresh_token:u,token_type:p,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await fr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(HA(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await Mi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=YA(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await gs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async l=>{var u,f,m,p,v;const{data:_,error:w}=l;if(w)throw w;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",T,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return gt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:f,token:m,access_token:p,nonce:v}=e,_=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:m,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:yn}),{data:w,error:T}=_;return T?this._returnResult({data:{user:null,session:null},error:T}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ms}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:T}))}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:l,error:u}=n;if(u)throw u;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ZA(async o=>(o>0&&await XA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Qd(l)&&Date.now()+u-r<ws})}catch(r){if(this._debug(n,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),gt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await fr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Es(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Xd()}else if(o&&!o.user&&!o.user){const u=await fr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Mi(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,o)):o.user=Xd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yd;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Yd}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Qd(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(o.access_token);!f&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fu;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new jt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),ae(l)){const u={data:null,error:l};return Qd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(m){l.push(m)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Es(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=rv(o);await Es(this.storage,this.storageKey,l)}else{const o=rv(n);await Es(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Mi(this.storage,this.storageKey),await Mi(this.storage,this.storageKey+"-code-verifier"),await Mi(this.storage,this.storageKey+"-user"),this.userStorage&&await Mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ws}ms, refresh threshold is ${ff} ticks`),o<=ff&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,u]=await gs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);o.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:p}=await de(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&m.type==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Nx(e.webauthn.credential_response):Mx(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:xx(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Rx(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Wd(r.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new jt});const u=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new jt});const u=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jt})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(f=>f.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+qA>o)return r;const{data:l,error:u}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,r=l.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:T,error:C}=await this.getSession();if(C||!T.session)return this._returnResult({data:null,error:C});r=T.session.access_token}const{header:o,payload:l,signature:u,raw:{header:f,payload:m}}=Wd(r);n!=null&&n.allowExpired||ox(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:l,header:o,signature:u},error:null}}const v=ax(o.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,u,jA(`${f}.${m}`)))throw new mf("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}Zo.nextInstanceID={};const Bx=Zo;class Hx extends Bx{constructor(e){super(e)}}class Gx{constructor(e,n,r){var o,l,u;this.supabaseUrl=e,this.supabaseKey=n;const f=DA(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:bA,realtime:xA,auth:Object.assign(Object.assign({},AA),{storageKey:m}),global:CA},v=kA(r??{},p);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=MA(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Ub(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new EA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Mb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:l,storageKey:u,flowType:f,lock:m,debug:p,throwOnError:v},_,w){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hx({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),_),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:l,flowType:f,lock:m,debug:p,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vx=(t,e,n)=>new Gx(t,e,n);function zx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fx,$x;function Jx(){return{geminiUrl:Fx,vertexUrl:$x}}function jx(t,e,n,r){var o,l;if(!(t!=null&&t.baseUrl)){const u=Jx();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(l=u.geminiUrl)!==null&&l!==void 0?l:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function ee(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function h(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const m=t[f];if(Array.isArray(n))for(let p=0;p<m.length;p++){const v=m[p];h(v,e.slice(l+1),n[p])}else for(const p of m)h(p,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const m=t[f];h(m[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(f=>d(f,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Kx(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),l=r.split("."),u=new Set;let f=-1;for(let m=0;m<o.length;m++)if(o[m]==="*"){f=m;break}if(f!==-1&&l.length>f)for(let m=f;m<l.length;m++){const p=l[m];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&u.add(p)}gf(t,o,l,0,u)}}function gf(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const m of f[u])gf(m,e,n,r+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(p=>!p.startsWith("_")&&!o.has(p)),m={};for(const p of f)m[p]=u[p];for(const[p,v]of Object.entries(m)){const _=[];for(const w of n.slice(r))w==="*"?_.push(p):_.push(w);h(u,_,v)}for(const p of f)delete u[p]}}else{const u=t;l in u&&gf(u[l],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sh(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yx(t){const e={},n=d(t,["operationName"]);n!=null&&h(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&h(e,["_url","resourceName"],r),e}function Qx(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response","generateVideoResponse"]);return u!=null&&h(e,["response"],Xx(u)),e}function Wx(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response"]);return u!=null&&h(e,["response"],Zx(u)),e}function Xx(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>eR(u))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function Zx(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>tR(u))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function eR(t){const e={},n=d(t,["video"]);return n!=null&&h(e,["video"],aR(n)),e}function tR(t){const e={},n=d(t,["_self"]);return n!=null&&h(e,["video"],lR(n)),e}function nR(t){const e={},n=d(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function iR(t){const e={},n=d(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function rR(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response"]);return u!=null&&h(e,["response"],sR(u)),e}function sR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function hw(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response"]);return u!=null&&h(e,["response"],oR(u)),e}function oR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function aR(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&h(e,["videoBytes"],sh(r));const o=d(t,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function lR(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],sh(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dv||(dv={}));var fv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fv||(fv={}));var hv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(hv||(hv={}));var Gi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Gi||(Gi={}));var pv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(pv||(pv={}));var mv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mv||(mv={}));var gv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(gv||(gv={}));var yv;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yv||(yv={}));var vv;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vv||(vv={}));var _v;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(_v||(_v={}));var wv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(wv||(wv={}));var Ev;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ev||(Ev={}));var Sv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Sv||(Sv={}));var Tv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Tv||(Tv={}));var Cv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Cv||(Cv={}));var bv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bv||(bv={}));var Av;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Av||(Av={}));var xv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(xv||(xv={}));var Rv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Rv||(Rv={}));var Zl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Zl||(Zl={}));var Nv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nv||(Nv={}));var Mv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Mv||(Mv={}));var Iv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Iv||(Iv={}));var yf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yf||(yf={}));var kv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kv||(kv={}));var Dv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dv||(Dv={}));var Uv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Uv||(Uv={}));var Pv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Pv||(Pv={}));var Lv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Lv||(Lv={}));var Ov;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ov||(Ov={}));var qv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(qv||(qv={}));var Bv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Bv||(Bv={}));var Hv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Hv||(Hv={}));var Gv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Gv||(Gv={}));var Vv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vv||(Vv={}));var zv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zv||(zv={}));var Fv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fv||(Fv={}));var $v;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($v||($v={}));var Jv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Jv||(Jv={}));var jv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jv||(jv={}));var Kv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Kv||(Kv={}));var Yv;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Yv||(Yv={}));var Qv;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Qv||(Qv={}));var Wv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Wv||(Wv={}));var Xv;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Xv||(Xv={}));var Zv;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Zv||(Zv={}));var e0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(e0||(e0={}));var t0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(t0||(t0={}));var n0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(n0||(n0={}));var i0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(i0||(i0={}));var r0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(r0||(r0={}));var s0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(s0||(s0={}));var o0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(o0||(o0={}));var a0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(a0||(a0={}));var Ss;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ss||(Ss={}));class vf{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fo{get text(){var e,n,r,o,l,u,f,m;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const _=[];for(const w of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[T,C]of Object.entries(w))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(C!==null||C!==void 0)&&_.push(T);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;v=!0,p+=w.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,n,r,o,l,u,f,m;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const _ of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[w,T]of Object.entries(_))w!=="inlineData"&&(T!==null||T!==void 0)&&v.push(w);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,r,o,l,u,f,m;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,r,o,l,u,f,m,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,r,o,l,u,f,m,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class l0{}class u0{}class uR{}class cR{}class dR{}class fR{}class c0{}class d0{}class f0{}class hR{}class eu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new eu;let o;const l=e;return n?o=Wx(l):o=Qx(l),Object.assign(r,o),r}}class h0{}class p0{}class m0{}class pR{}class mR{}class gR{}class oh{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new oh,l=rR(e);return Object.assign(r,l),r}}class yR{}class vR{}class _R{}class g0{}class wR{get text(){var e,n,r;let o="",l=!1;const u=[];for(const f of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[m,p]of Object.entries(f))m!=="text"&&m!=="thought"&&p!==null&&u.push(m);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,r;let o="";const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,m]of Object.entries(u))f!=="inlineData"&&m!==null&&l.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class ER{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ah{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ah,l=hw(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function pw(t,e){const n=Ne(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function mw(t){return Array.isArray(t)?t.map(e=>tu(e)):[tu(t)]}function tu(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function gw(t){const e=tu(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yw(t){const e=tu(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function y0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>y0(e)):[y0(t)]}function _f(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function v0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function _0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Et(t){if(t==null)throw new Error("ContentUnion is required");return _f(t)?t:{role:"user",parts:vw(t)}}function lh(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Et(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Et(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Et(n)):[Et(e)]}function fn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(v0(t)||_0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(t)]}const e=[],n=[],r=_f(t[0]);for(const o of t){const l=_f(o);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(v0(o)||_0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:vw(n)}),e}function SR(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Gi).includes(n[0].toUpperCase())?n[0].toUpperCase():Gi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Gi).includes(r.toUpperCase())?r.toUpperCase():Gi.TYPE_UNSPECIFIED})}}function Cs(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&SR(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Gi).includes(f.toUpperCase())?f.toUpperCase():Gi.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Cs(f);else if(r.includes(u)){const m=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}m.push(Cs(p))}e[u]=m}else if(o.includes(u)){const m={};for(const[p,v]of Object.entries(f))m[p]=Cs(v);e[u]=m}else{if(u==="additionalProperties")continue;e[u]=f}return e}function uh(t){return Cs(t)}function ch(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dh(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Cs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Cs(e.response));return t}function $s(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function TR(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ri(t,e){if(typeof e!="string")throw new Error("name must be a string");return TR(t,e,"cachedContents")}function _w(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function $i(t){return sh(t)}function CR(t){return t!=null&&typeof t=="object"&&"name"in t}function bR(t){return t!=null&&typeof t=="object"&&"video"in t}function AR(t){return t!=null&&typeof t=="object"&&"uri"in t}function ww(t){var e;let n;if(CR(t)&&(n=t.name),!(AR(t)&&(n=t.uri,n===void 0))&&!(bR(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ew(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Sw(t){for(const e of["models","tunedModels","publisherModels"])if(xR(t,e))return t[e];return[]}function xR(t,e){return t!==null&&typeof t=="object"&&e in t}function RR(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function NR(t,e={}){const n=[],r=new Set;for(const o of t){const l=o.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const u=RR(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Tw(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function MR(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Cw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const m=u.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Js(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function bw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IR(t){const e={},n=d(t,["responsesFile"]);n!=null&&h(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>d1(u))),h(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["inlinedEmbedContentResponses"],l)}return e}function kR(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&h(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&h(e,["gcsUri"],r);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function DR(t){const e={},n=d(t,["format"]);n!=null&&h(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&h(e,["gcsDestination","outputUriPrefix"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&h(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fl(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["metadata","state"]);o!=null&&h(e,["state"],bw(o));const l=d(t,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const u=d(t,["metadata","endTime"]);u!=null&&h(e,["endTime"],u);const f=d(t,["metadata","updateTime"]);f!=null&&h(e,["updateTime"],f);const m=d(t,["metadata","model"]);m!=null&&h(e,["model"],m);const p=d(t,["metadata","output"]);return p!=null&&h(e,["dest"],IR(Cw(p))),e}function wf(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["state"]);o!=null&&h(e,["state"],bw(o));const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["createTime"]);u!=null&&h(e,["createTime"],u);const f=d(t,["startTime"]);f!=null&&h(e,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(e,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const v=d(t,["model"]);v!=null&&h(e,["model"],v);const _=d(t,["inputConfig"]);_!=null&&h(e,["src"],UR(_));const w=d(t,["outputConfig"]);w!=null&&h(e,["dest"],kR(Cw(w)));const T=d(t,["completionStats"]);return T!=null&&h(e,["completionStats"],T),e}function UR(t){const e={},n=d(t,["instancesFormat"]);n!=null&&h(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&h(e,["gcsUri"],r);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&h(e,["bigqueryUri"],o),e}function PR(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&h(n,["fileName"],r);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>c1(t,u))),h(n,["requests","requests"],l)}return n}function LR(t){const e={},n=d(t,["format"]);n!=null&&h(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&h(e,["gcsSource","uris"],r);const o=d(t,["bigqueryUri"]);if(o!=null&&h(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function OR(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function qR(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],Js(t,r)),n}function BR(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],Js(t,r)),n}function HR(t){const e={},n=d(t,["content"]);n!=null&&h(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],GR(r));const o=d(t,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const u=d(t,["avgLogprobs"]);u!=null&&h(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const v=d(t,["safetyRatings"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(T=>T)),h(e,["safetyRatings"],w)}const _=d(t,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function GR(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),h(e,["citations"],r)}return e}function Aw(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>v1(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function VR(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&h(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function zR(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const o=d(t,["dest"]);return e!==void 0&&o!=null&&h(e,["outputConfig"],DR(MR(o))),n}function w0(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["src"]);o!=null&&h(n,["batch","inputConfig"],PR(t,Tw(t,o)));const l=d(e,["config"]);return l!=null&&VR(l,n),n}function FR(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["model"],Ne(t,r));const o=d(e,["src"]);o!=null&&h(n,["inputConfig"],LR(Tw(t,o)));const l=d(e,["config"]);return l!=null&&zR(l,n),n}function $R(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&h(e,["batch","displayName"],r),n}function JR(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["src"]);o!=null&&h(n,["batch","inputConfig"],ZR(t,o));const l=d(e,["config"]);return l!=null&&$R(l,n),n}function jR(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],Js(t,r)),n}function KR(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],Js(t,r)),n}function YR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function QR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);return l!=null&&h(e,["error"],l),e}function WR(t,e){const n={},r=d(e,["contents"]);if(r!=null){let l=lh(t,r);Array.isArray(l)&&(l=l.map(u=>u)),h(n,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(h(n,["_self"],XR(o,n)),Kx(n,{"requests[].*":"requests[].request.*"})),n}function XR(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ZR(t,e){const n={},r=d(e,["fileName"]);r!=null&&h(n,["file_name"],r);const o=d(e,["inlinedRequests"]);return o!=null&&h(n,["requests"],WR(t,o)),n}function e1(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function t1(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n1(t){const e={},n=d(t,["mode"]);n!=null&&h(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function i1(t,e,n){const r={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&h(n,["systemInstruction"],Aw(Et(o)));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const u=d(e,["topP"]);u!=null&&h(r,["topP"],u);const f=d(e,["topK"]);f!=null&&h(r,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(r,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&h(r,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const w=d(e,["logprobs"]);w!=null&&h(r,["logprobs"],w);const T=d(e,["presencePenalty"]);T!=null&&h(r,["presencePenalty"],T);const C=d(e,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const x=d(e,["seed"]);x!=null&&h(r,["seed"],x);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const M=d(e,["responseSchema"]);M!=null&&h(r,["responseSchema"],uh(M));const P=d(e,["responseJsonSchema"]);if(P!=null&&h(r,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=d(e,["safetySettings"]);if(n!==void 0&&R!=null){let pe=R;Array.isArray(pe)&&(pe=pe.map(je=>_1(je))),h(n,["safetySettings"],pe)}const O=d(e,["tools"]);if(n!==void 0&&O!=null){let pe=$s(O);Array.isArray(pe)&&(pe=pe.map(je=>E1(Fs(je)))),h(n,["tools"],pe)}const j=d(e,["toolConfig"]);if(n!==void 0&&j!=null&&h(n,["toolConfig"],w1(j)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);n!==void 0&&Y!=null&&h(n,["cachedContent"],ri(t,Y));const K=d(e,["responseModalities"]);K!=null&&h(r,["responseModalities"],K);const ie=d(e,["mediaResolution"]);ie!=null&&h(r,["mediaResolution"],ie);const Q=d(e,["speechConfig"]);if(Q!=null&&h(r,["speechConfig"],ch(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=d(e,["thinkingConfig"]);X!=null&&h(r,["thinkingConfig"],X);const he=d(e,["imageConfig"]);return he!=null&&h(r,["imageConfig"],u1(he)),r}function r1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>HR(p))),h(e,["candidates"],m)}const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const u=d(t,["responseId"]);u!=null&&h(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function s1(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],Js(t,r)),n}function o1(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],Js(t,r)),n}function a1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function l1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function u1(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function c1(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["request","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let f=fn(o);Array.isArray(f)&&(f=f.map(m=>Aw(m))),h(n,["request","contents"],f)}const l=d(e,["metadata"]);l!=null&&h(n,["metadata"],l);const u=d(e,["config"]);return u!=null&&h(n,["request","generationConfig"],i1(t,u,d(n,["request"],{}))),n}function d1(t){const e={},n=d(t,["response"]);n!=null&&h(e,["response"],r1(n));const r=d(t,["error"]);return r!=null&&h(e,["error"],r),e}function f1(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function h1(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&h(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),n}function p1(t){const e={},n=d(t,["config"]);return n!=null&&f1(n,e),e}function m1(t){const e={},n=d(t,["config"]);return n!=null&&h1(n,e),e}function g1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Fl(u))),h(e,["batchJobs"],l)}return e}function y1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>wf(u))),h(e,["batchJobs"],l)}return e}function v1(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],e1(l));const u=d(t,["functionCall"]);u!=null&&h(e,["functionCall"],t1(u));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],OR(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function _1(t){const e={},n=d(t,["category"]);if(n!=null&&h(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function w1(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],n1(n));const r=d(t,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function E1(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),h(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&h(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],a1(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],l1(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ti;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ti||(ti={}));class Mr{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!r||Object.keys(r).length===0?u={config:{}}:typeof r=="object"?u=Object.assign({},r):u=r,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S1 extends ii{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Mr(ti.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=w0(this.apiClient,e),r=n._url,o=ee("{model}:batchGenerateContent",r),f=n.batch.inputConfig.requests,m=f.requests,p=[];for(const v of m){const _=Object.assign({},v);if(_.systemInstruction){const w=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=w,_.request=T}p.push(_)}return f.requests=p,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${o}`;else if(u)r.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=FR(this.apiClient,e);return f=ee("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>wf(v))}else{const p=w0(this.apiClient,e);return f=ee("{model}:batchGenerateContent",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>Fl(v))}}async createEmbeddingsInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JR(this.apiClient,e);return l=ee("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Fl(m))}}async get(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=o1(this.apiClient,e);return f=ee("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>wf(v))}else{const p=s1(this.apiClient,e);return f=ee("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>Fl(v))}}async cancel(e){var n,r,o,l;let u="",f={};if(this.apiClient.isVertexAI()){const m=BR(this.apiClient,e);u=ee("batchPredictionJobs/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const m=qR(this.apiClient,e);u=ee("batches/{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=m1(e);return f=ee("batchPredictionJobs",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=y1(v),w=new g0;return Object.assign(w,_),w})}else{const p=p1(e);return f=ee("batches",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=g1(v),w=new g0;return Object.assign(w,_),w})}}async delete(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=KR(this.apiClient,e);return f=ee("batchPredictionJobs/{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>QR(v))}else{const p=jR(this.apiClient,e);return f=ee("batches/{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>YR(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T1(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function E0(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>J1(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function C1(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let v=fn(u);Array.isArray(v)&&(v=v.map(_=>E0(_))),h(e,["contents"],v)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],E0(Et(f)));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>K1(_))),h(e,["tools"],v)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],j1(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function b1(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&h(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const u=d(t,["contents"]);if(e!==void 0&&u!=null){let _=fn(u);Array.isArray(_)&&(_=_.map(w=>w)),h(e,["contents"],_)}const f=d(t,["systemInstruction"]);e!==void 0&&f!=null&&h(e,["systemInstruction"],Et(f));const m=d(t,["tools"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(w=>Y1(w))),h(e,["tools"],_)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&h(e,["encryption_spec","kmsKeyName"],v),n}function A1(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["model"],pw(t,r));const o=d(e,["config"]);return o!=null&&C1(o,n),n}function x1(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["model"],pw(t,r));const o=d(e,["config"]);return o!=null&&b1(o,n),n}function R1(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ri(t,r)),n}function N1(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ri(t,r)),n}function M1(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function I1(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function k1(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function D1(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function U1(t){const e={},n=d(t,["mode"]);n!=null&&h(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function P1(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&h(e,["description"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const u=d(t,["response"]);u!=null&&h(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function L1(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ri(t,r)),n}function O1(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ri(t,r)),n}function q1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function B1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function H1(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),n}function G1(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),n}function V1(t){const e={},n=d(t,["config"]);return n!=null&&H1(n,e),e}function z1(t){const e={},n=d(t,["config"]);return n!=null&&G1(n,e),e}function F1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["cachedContents"],l)}return e}function $1(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["cachedContents"],l)}return e}function J1(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],k1(l));const u=d(t,["functionCall"]);u!=null&&h(e,["functionCall"],D1(u));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],T1(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function j1(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],U1(n));const r=d(t,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function K1(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),h(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&h(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],q1(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],B1(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function Y1(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>P1(w))),h(e,["functionDeclarations"],_)}const r=d(t,["retrieval"]);r!=null&&h(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&h(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function Q1(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),n}function W1(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&h(e,["expireTime"],o),n}function X1(t,e){const n={},r=d(e,["name"]);r!=null&&h(n,["_url","name"],ri(t,r));const o=d(e,["config"]);return o!=null&&Q1(o,n),n}function Z1(t,e){const n={},r=d(e,["name"]);r!=null&&h(n,["_url","name"],ri(t,r));const o=d(e,["config"]);return o!=null&&W1(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2 extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(ti.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=x1(this.apiClient,e);return f=ee("cachedContents",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const p=A1(this.apiClient,e);return f=ee("cachedContents",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=O1(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const p=L1(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=N1(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=I1(v),w=new p0;return Object.assign(w,_),w})}else{const p=R1(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=M1(v),w=new p0;return Object.assign(w,_),w})}}async update(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=Z1(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>v)}else{const p=X1(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async listInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=z1(e);return f=ee("cachedContents",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=$1(v),w=new m0;return Object.assign(w,_),w})}else{const p=V1(e);return f=ee("cachedContents",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=F1(v),w=new m0;return Object.assign(w,_),w})}}}function S0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(t){return this instanceof Fe?(this.v=t,this):new Fe(t)}function bs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(T){return function(C){return Promise.resolve(C).then(T,_)}}function f(T,C){r[T]&&(o[T]=function(x){return new Promise(function(A,M){l.push([T,x,A,M])>1||m(T,x)})},C&&(o[T]=C(o[T])))}function m(T,C){try{p(r[T](C))}catch(x){w(l[0][3],x)}}function p(T){T.value instanceof Fe?Promise.resolve(T.value.v).then(v,_):w(l[0][2],T)}function v(T){m("next",T)}function _(T){m("throw",T)}function w(T,C){T(C),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Yo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof S0=="function"?S0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=t[l]&&function(u){return new Promise(function(f,m){u=t[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(p){l({value:p,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t2(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:xw(n)}function xw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function n2(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function T0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let l=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),l&&!xw(t[r])&&(l=!1),r++;l?e.push(...o):e.pop()}return e}class i2{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new r2(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class r2{constructor(e,n,r,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),n2(l)}async sendMessage(e){var n;await this.sendPromise;const r=Et(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,f;const m=await o,p=(u=(l=m.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,v=m.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let w=[];v!=null&&(w=(f=v.slice(_))!==null&&f!==void 0?f:[]);const T=p?[p]:[];this.recordHistory(r,T,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=Et(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(e=!1){const n=e?T0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,o;return bs(this,arguments,function*(){var u,f,m,p;const v=[];try{for(var _=!0,w=Yo(e),T;T=yield Fe(w.next()),u=T.done,!u;_=!0){p=T.value,_=!1;const C=p;if(t2(C)){const x=(o=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;x!==void 0&&v.push(x)}yield yield Fe(C)}}catch(C){f={error:C}}finally{try{!_&&!u&&(m=w.return)&&(yield Fe(m.call(w)))}finally{if(f)throw f.error}}this.recordHistory(n,v)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...T0(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,hu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s2(t){const e={},n=d(t,["file"]);return n!=null&&h(e,["file"],n),e}function o2(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function a2(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","file"],ww(n)),e}function l2(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function u2(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","file"],ww(n)),e}function c2(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),n}function d2(t){const e={},n=d(t,["config"]);return n!=null&&c2(n,e),e}function f2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h2 extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Mr(ti.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=d2(e);return l=ee("files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>{const p=f2(m),v=new yR;return Object.assign(v,p),v})}}async createInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=s2(e);return l=ee("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=o2(m),v=new vR;return Object.assign(v,p),v})}}async get(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=u2(e);return l=ee("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=a2(e);return l=ee("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>{const p=l2(m),v=new _R;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $l(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function p2(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>M2(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function m2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function g2(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function y2(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&h(e,["description"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const u=d(t,["response"]);u!=null&&h(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function v2(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const u=d(t,["enableAffectiveDialog"]);u!=null&&h(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const v=d(t,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const w=d(t,["responseLogprobs"]);w!=null&&h(e,["responseLogprobs"],w);const T=d(t,["responseMimeType"]);T!=null&&h(e,["responseMimeType"],T);const C=d(t,["responseModalities"]);C!=null&&h(e,["responseModalities"],C);const x=d(t,["responseSchema"]);x!=null&&h(e,["responseSchema"],x);const A=d(t,["routingConfig"]);A!=null&&h(e,["routingConfig"],A);const M=d(t,["seed"]);M!=null&&h(e,["seed"],M);const P=d(t,["speechConfig"]);P!=null&&h(e,["speechConfig"],Rw(P));const R=d(t,["stopSequences"]);R!=null&&h(e,["stopSequences"],R);const O=d(t,["temperature"]);O!=null&&h(e,["temperature"],O);const j=d(t,["thinkingConfig"]);j!=null&&h(e,["thinkingConfig"],j);const Y=d(t,["topK"]);Y!=null&&h(e,["topK"],Y);const K=d(t,["topP"]);if(K!=null&&h(e,["topP"],K),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _2(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function w2(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function E2(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const u=d(t,["topP"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],dh(_));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],T);const C=d(t,["systemInstruction"]);e!==void 0&&C!=null&&h(e,["setup","systemInstruction"],p2(Et(C)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let Y=$s(x);Array.isArray(Y)&&(Y=Y.map(K=>k2(Fs(K)))),h(e,["setup","tools"],Y)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],I2(A));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&h(e,["setup","inputAudioTranscription"],M);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","outputAudioTranscription"],P);const R=d(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&h(e,["setup","realtimeInputConfig"],R);const O=d(t,["contextWindowCompression"]);e!==void 0&&O!=null&&h(e,["setup","contextWindowCompression"],O);const j=d(t,["proactivity"]);return e!==void 0&&j!=null&&h(e,["setup","proactivity"],j),n}function S2(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],v2(r));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const u=d(t,["topP"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],Rw(dh(_)));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],T);const C=d(t,["systemInstruction"]);e!==void 0&&C!=null&&h(e,["setup","systemInstruction"],Et(C));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let Y=$s(x);Array.isArray(Y)&&(Y=Y.map(K=>D2(Fs(K)))),h(e,["setup","tools"],Y)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],A);const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&h(e,["setup","inputAudioTranscription"],M);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","outputAudioTranscription"],P);const R=d(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&h(e,["setup","realtimeInputConfig"],R);const O=d(t,["contextWindowCompression"]);e!==void 0&&O!=null&&h(e,["setup","contextWindowCompression"],O);const j=d(t,["proactivity"]);return e!==void 0&&j!=null&&h(e,["setup","proactivity"],j),n}function T2(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["setup","model"],Ne(t,r));const o=d(e,["config"]);return o!=null&&h(n,["config"],E2(o,n)),n}function C2(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["setup","model"],Ne(t,r));const o=d(e,["config"]);return o!=null&&h(n,["config"],S2(o,n)),n}function b2(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&h(e,["musicGenerationConfig"],n),e}function A2(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),h(e,["weightedPrompts"],r)}return e}function x2(t){const e={},n=d(t,["media"]);if(n!=null){let p=mw(n);Array.isArray(p)&&(p=p.map(v=>$l(v))),h(e,["mediaChunks"],p)}const r=d(t,["audio"]);r!=null&&h(e,["audio"],$l(yw(r)));const o=d(t,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&h(e,["video"],$l(gw(l)));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function R2(t){const e={},n=d(t,["media"]);if(n!=null){let p=mw(n);Array.isArray(p)&&(p=p.map(v=>v)),h(e,["mediaChunks"],p)}const r=d(t,["audio"]);r!=null&&h(e,["audio"],yw(r));const o=d(t,["audioStreamEnd"]);o!=null&&h(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&h(e,["video"],gw(l));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const f=d(t,["activityStart"]);f!=null&&h(e,["activityStart"],f);const m=d(t,["activityEnd"]);return m!=null&&h(e,["activityEnd"],m),e}function N2(t){const e={},n=d(t,["setupComplete"]);n!=null&&h(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&h(e,["serverContent"],r);const o=d(t,["toolCall"]);o!=null&&h(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const u=d(t,["usageMetadata"]);u!=null&&h(e,["usageMetadata"],U2(u));const f=d(t,["goAway"]);f!=null&&h(e,["goAway"],f);const m=d(t,["sessionResumptionUpdate"]);return m!=null&&h(e,["sessionResumptionUpdate"],m),e}function M2(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],m2(l));const u=d(t,["functionCall"]);u!=null&&h(e,["functionCall"],g2(u));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],$l(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function I2(t){const e={},n=d(t,["handle"]);if(n!=null&&h(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rw(t){const e={},n=d(t,["languageCode"]);n!=null&&h(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&h(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function k2(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),h(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&h(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],_2(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],w2(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function D2(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>y2(w))),h(e,["functionDeclarations"],_)}const r=d(t,["retrieval"]);r!=null&&h(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&h(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function U2(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&h(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&h(e,["cachedContentTokenCount"],r);const o=d(t,["candidatesTokenCount"]);o!=null&&h(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const u=d(t,["thoughtsTokenCount"]);u!=null&&h(e,["thoughtsTokenCount"],u);const f=d(t,["totalTokenCount"]);f!=null&&h(e,["totalTokenCount"],f);const m=d(t,["promptTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>C)),h(e,["promptTokensDetails"],T)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(C=>C)),h(e,["cacheTokensDetails"],T)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),h(e,["responseTokensDetails"],T)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(C=>C)),h(e,["toolUsePromptTokensDetails"],T)}const w=d(t,["trafficType"]);return w!=null&&h(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P2(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function L2(t){const e={},n=d(t,["content"]);n!=null&&h(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],O2(r));const o=d(t,["tokenCount"]);o!=null&&h(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const u=d(t,["avgLogprobs"]);u!=null&&h(e,["avgLogprobs"],u);const f=d(t,["groundingMetadata"]);f!=null&&h(e,["groundingMetadata"],f);const m=d(t,["index"]);m!=null&&h(e,["index"],m);const p=d(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const v=d(t,["safetyRatings"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(T=>T)),h(e,["safetyRatings"],w)}const _=d(t,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function O2(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),h(e,["citations"],r)}return e}function q2(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let l=fn(o);Array.isArray(l)&&(l=l.map(u=>u)),h(n,["contents"],l)}return n}function B2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["tokensInfo"],o)}return e}function H2(t){const e={},n=d(t,["values"]);n!=null&&h(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&h(e,["statistics"],G2(r)),e}function G2(t){const e={},n=d(t,["truncated"]);n!=null&&h(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&h(e,["tokenCount"],r),e}function pu(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>QN(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function V2(t){const e={},n=d(t,["controlType"]);n!=null&&h(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&h(e,["computeControl"],r),e}function z2(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function F2(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&h(e,["systemInstruction"],Et(r));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Dw(f))),h(e,["tools"],u)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],PN(l)),n}function $2(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let u=fn(o);Array.isArray(u)&&(u=u.map(f=>pu(f))),h(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&z2(l),n}function J2(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let u=fn(o);Array.isArray(u)&&(u=u.map(f=>f)),h(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&F2(l,n),n}function j2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&h(e,["totalTokens"],r);const o=d(t,["cachedContentTokenCount"]);return o!=null&&h(e,["cachedContentTokenCount"],o),e}function K2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&h(e,["totalTokens"],r),e}function Y2(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],Ne(t,r)),n}function Q2(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],Ne(t,r)),n}function W2(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function X2(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Z2(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&h(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&h(e,["parameters","includeRaiReason"],w);const T=d(t,["language"]);e!==void 0&&T!=null&&h(e,["parameters","language"],T);const C=d(t,["outputMimeType"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","mimeType"],C);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","compressionQuality"],x);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&h(e,["parameters","addWatermark"],A);const M=d(t,["labels"]);e!==void 0&&M!=null&&h(e,["labels"],M);const P=d(t,["editMode"]);e!==void 0&&P!=null&&h(e,["parameters","editMode"],P);const R=d(t,["baseSteps"]);return e!==void 0&&R!=null&&h(e,["parameters","editConfig","baseSteps"],R),n}function eN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["prompt"]);o!=null&&h(n,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>nM(m))),h(n,["instances[0]","referenceImages"],f)}const u=d(e,["config"]);return u!=null&&Z2(u,n),n}function tN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mu(l))),h(e,["generatedImages"],o)}return e}function nN(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&h(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function iN(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["instances[]","task_type"],r);const o=d(t,["title"]);e!==void 0&&o!=null&&h(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const u=d(t,["mimeType"]);e!==void 0&&u!=null&&h(e,["instances[]","mimeType"],u);const f=d(t,["autoTruncate"]);return e!==void 0&&f!=null&&h(e,["parameters","autoTruncate"],f),n}function rN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let f=lh(t,o);Array.isArray(f)&&(f=f.map(m=>m)),h(n,["requests[]","content"],f)}const l=d(e,["config"]);l!=null&&nN(l,n);const u=d(e,["model"]);return u!==void 0&&h(n,["requests[]","model"],Ne(t,u)),n}function sN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let u=lh(t,o);Array.isArray(u)&&(u=u.map(f=>f)),h(n,["instances[]","content"],u)}const l=d(e,["config"]);return l!=null&&iN(l,n),n}function oN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function aN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>H2(u))),h(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&h(e,["metadata"],o),e}function lN(t){const e={},n=d(t,["endpoint"]);n!=null&&h(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&h(e,["deployedModelId"],r),e}function uN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function cN(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dN(t){const e={},n=d(t,["mode"]);n!=null&&h(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fN(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&h(e,["description"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const o=d(t,["parameters"]);o!=null&&h(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const u=d(t,["response"]);u!=null&&h(e,["response"],u);const f=d(t,["responseJsonSchema"]);return f!=null&&h(e,["responseJsonSchema"],f),e}function hN(t,e,n){const r={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&h(n,["systemInstruction"],pu(Et(o)));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const u=d(e,["topP"]);u!=null&&h(r,["topP"],u);const f=d(e,["topK"]);f!=null&&h(r,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(r,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&h(r,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const w=d(e,["logprobs"]);w!=null&&h(r,["logprobs"],w);const T=d(e,["presencePenalty"]);T!=null&&h(r,["presencePenalty"],T);const C=d(e,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const x=d(e,["seed"]);x!=null&&h(r,["seed"],x);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const M=d(e,["responseSchema"]);M!=null&&h(r,["responseSchema"],uh(M));const P=d(e,["responseJsonSchema"]);if(P!=null&&h(r,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=d(e,["safetySettings"]);if(n!==void 0&&R!=null){let pe=R;Array.isArray(pe)&&(pe=pe.map(je=>iM(je))),h(n,["safetySettings"],pe)}const O=d(e,["tools"]);if(n!==void 0&&O!=null){let pe=$s(O);Array.isArray(pe)&&(pe=pe.map(je=>cM(Fs(je)))),h(n,["tools"],pe)}const j=d(e,["toolConfig"]);if(n!==void 0&&j!=null&&h(n,["toolConfig"],uM(j)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);n!==void 0&&Y!=null&&h(n,["cachedContent"],ri(t,Y));const K=d(e,["responseModalities"]);K!=null&&h(r,["responseModalities"],K);const ie=d(e,["mediaResolution"]);ie!=null&&h(r,["mediaResolution"],ie);const Q=d(e,["speechConfig"]);if(Q!=null&&h(r,["speechConfig"],ch(Q)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=d(e,["thinkingConfig"]);X!=null&&h(r,["thinkingConfig"],X);const he=d(e,["imageConfig"]);return he!=null&&h(r,["imageConfig"],HN(he)),r}function pN(t,e,n){const r={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&h(n,["systemInstruction"],Et(o));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const u=d(e,["topP"]);u!=null&&h(r,["topP"],u);const f=d(e,["topK"]);f!=null&&h(r,["topK"],f);const m=d(e,["candidateCount"]);m!=null&&h(r,["candidateCount"],m);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&h(r,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const w=d(e,["logprobs"]);w!=null&&h(r,["logprobs"],w);const T=d(e,["presencePenalty"]);T!=null&&h(r,["presencePenalty"],T);const C=d(e,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const x=d(e,["seed"]);x!=null&&h(r,["seed"],x);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const M=d(e,["responseSchema"]);M!=null&&h(r,["responseSchema"],uh(M));const P=d(e,["responseJsonSchema"]);P!=null&&h(r,["responseJsonSchema"],P);const R=d(e,["routingConfig"]);R!=null&&h(r,["routingConfig"],R);const O=d(e,["modelSelectionConfig"]);O!=null&&h(r,["modelConfig"],O);const j=d(e,["safetySettings"]);if(n!==void 0&&j!=null){let V=j;Array.isArray(V)&&(V=V.map(W=>W)),h(n,["safetySettings"],V)}const Y=d(e,["tools"]);if(n!==void 0&&Y!=null){let V=$s(Y);Array.isArray(V)&&(V=V.map(W=>Dw(Fs(W)))),h(n,["tools"],V)}const K=d(e,["toolConfig"]);n!==void 0&&K!=null&&h(n,["toolConfig"],K);const ie=d(e,["labels"]);n!==void 0&&ie!=null&&h(n,["labels"],ie);const Q=d(e,["cachedContent"]);n!==void 0&&Q!=null&&h(n,["cachedContent"],ri(t,Q));const X=d(e,["responseModalities"]);X!=null&&h(r,["responseModalities"],X);const he=d(e,["mediaResolution"]);he!=null&&h(r,["mediaResolution"],he);const pe=d(e,["speechConfig"]);pe!=null&&h(r,["speechConfig"],kw(ch(pe)));const je=d(e,["audioTimestamp"]);je!=null&&h(r,["audioTimestamp"],je);const Xt=d(e,["thinkingConfig"]);Xt!=null&&h(r,["thinkingConfig"],Xt);const At=d(e,["imageConfig"]);return At!=null&&h(r,["imageConfig"],GN(At)),r}function C0(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let u=fn(o);Array.isArray(u)&&(u=u.map(f=>pu(f))),h(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&h(n,["generationConfig"],hN(t,l,n)),n}function b0(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["contents"]);if(o!=null){let u=fn(o);Array.isArray(u)&&(u=u.map(f=>f)),h(n,["contents"],u)}const l=d(e,["config"]);return l!=null&&h(n,["generationConfig"],pN(t,l,n)),n}function A0(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>L2(p))),h(e,["candidates"],m)}const o=d(t,["modelVersion"]);o!=null&&h(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const u=d(t,["responseId"]);u!=null&&h(e,["responseId"],u);const f=d(t,["usageMetadata"]);return f!=null&&h(e,["usageMetadata"],f),e}function x0(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(v=>v)),h(e,["candidates"],p)}const o=d(t,["createTime"]);o!=null&&h(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const u=d(t,["promptFeedback"]);u!=null&&h(e,["promptFeedback"],u);const f=d(t,["responseId"]);f!=null&&h(e,["responseId"],f);const m=d(t,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function mN(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&h(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&h(e,["parameters","safetySetting"],u);const f=d(t,["personGeneration"]);e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f);const m=d(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&h(e,["parameters","includeSafetyAttributes"],m);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const v=d(t,["language"]);e!==void 0&&v!=null&&h(e,["parameters","language"],v);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const w=d(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&h(e,["parameters","outputOptions","compressionQuality"],w),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(t,["imageSize"]);if(e!==void 0&&T!=null&&h(e,["parameters","sampleImageSize"],T),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function gN(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&h(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const u=d(t,["aspectRatio"]);e!==void 0&&u!=null&&h(e,["parameters","aspectRatio"],u);const f=d(t,["guidanceScale"]);e!==void 0&&f!=null&&h(e,["parameters","guidanceScale"],f);const m=d(t,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const p=d(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const _=d(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&h(e,["parameters","includeRaiReason"],w);const T=d(t,["language"]);e!==void 0&&T!=null&&h(e,["parameters","language"],T);const C=d(t,["outputMimeType"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","mimeType"],C);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","compressionQuality"],x);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&h(e,["parameters","addWatermark"],A);const M=d(t,["labels"]);e!==void 0&&M!=null&&h(e,["labels"],M);const P=d(t,["imageSize"]);e!==void 0&&P!=null&&h(e,["parameters","sampleImageSize"],P);const R=d(t,["enhancePrompt"]);return e!==void 0&&R!=null&&h(e,["parameters","enhancePrompt"],R),n}function yN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["prompt"]);o!=null&&h(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&mN(l,n),n}function vN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["prompt"]);o!=null&&h(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&gN(l,n),n}function _N(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>IN(u))),h(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],Mw(o)),e}function wN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>mu(u))),h(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&h(e,["positivePromptSafetyAttributes"],Iw(o)),e}function EN(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&h(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&h(e,["parameters","resolution"],u);const f=d(t,["personGeneration"]);if(e!==void 0&&f!=null&&h(e,["parameters","personGeneration"],f),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=d(t,["negativePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","negativePrompt"],m);const p=d(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&h(e,["instances[0]","lastFrame"],gu(v));const _=d(t,["referenceImages"]);if(e!==void 0&&_!=null){let w=_;Array.isArray(w)&&(w=w.map(T=>TM(T))),h(e,["instances[0]","referenceImages"],w)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function SN(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const u=d(t,["durationSeconds"]);e!==void 0&&u!=null&&h(e,["parameters","durationSeconds"],u);const f=d(t,["seed"]);e!==void 0&&f!=null&&h(e,["parameters","seed"],f);const m=d(t,["aspectRatio"]);e!==void 0&&m!=null&&h(e,["parameters","aspectRatio"],m);const p=d(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const _=d(t,["pubsubTopic"]);e!==void 0&&_!=null&&h(e,["parameters","pubsubTopic"],_);const w=d(t,["negativePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","negativePrompt"],w);const T=d(t,["enhancePrompt"]);e!==void 0&&T!=null&&h(e,["parameters","enhancePrompt"],T);const C=d(t,["generateAudio"]);e!==void 0&&C!=null&&h(e,["parameters","generateAudio"],C);const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&h(e,["instances[0]","lastFrame"],Tn(x));const A=d(t,["referenceImages"]);if(e!==void 0&&A!=null){let R=A;Array.isArray(R)&&(R=R.map(O=>CM(O))),h(e,["instances[0]","referenceImages"],R)}const M=d(t,["mask"]);e!==void 0&&M!=null&&h(e,["instances[0]","mask"],SM(M));const P=d(t,["compressionQuality"]);return e!==void 0&&P!=null&&h(e,["parameters","compressionQuality"],P),n}function TN(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response","generateVideoResponse"]);return u!=null&&h(e,["response"],xN(u)),e}function CN(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response"]);return u!=null&&h(e,["response"],RN(u)),e}function bN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["prompt"]);o!=null&&h(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&h(n,["instances[0]","image"],gu(l));const u=d(e,["video"]);u!=null&&h(n,["instances[0]","video"],Uw(u));const f=d(e,["source"]);f!=null&&NN(f,n);const m=d(e,["config"]);return m!=null&&EN(m,n),n}function AN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["prompt"]);o!=null&&h(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&h(n,["instances[0]","image"],Tn(l));const u=d(e,["video"]);u!=null&&h(n,["instances[0]","video"],Pw(u));const f=d(e,["source"]);f!=null&&MN(f,n);const m=d(e,["config"]);return m!=null&&SN(m,n),n}function xN(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>DN(u))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function RN(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>UN(u))),h(e,["generatedVideos"],l)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&h(e,["raiMediaFilteredReasons"],o),e}function NN(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],gu(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],Uw(l)),n}function MN(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],Tn(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],Pw(l)),n}function IN(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["image"],VN(n));const r=d(t,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const o=d(t,["_self"]);return o!=null&&h(e,["safetyAttributes"],Mw(o)),e}function mu(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["image"],Nw(n));const r=d(t,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const o=d(t,["_self"]);o!=null&&h(e,["safetyAttributes"],Iw(o));const l=d(t,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function kN(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["mask"],Nw(n));const r=d(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["labels"],o)}return e}function DN(t){const e={},n=d(t,["video"]);return n!=null&&h(e,["video"],wM(n)),e}function UN(t){const e={},n=d(t,["_self"]);return n!=null&&h(e,["video"],EM(n)),e}function PN(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const o=d(t,["audioTimestamp"]);o!=null&&h(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const u=d(t,["enableAffectiveDialog"]);u!=null&&h(e,["enableAffectiveDialog"],u);const f=d(t,["frequencyPenalty"]);f!=null&&h(e,["frequencyPenalty"],f);const m=d(t,["logprobs"]);m!=null&&h(e,["logprobs"],m);const p=d(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const v=d(t,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const w=d(t,["responseLogprobs"]);w!=null&&h(e,["responseLogprobs"],w);const T=d(t,["responseMimeType"]);T!=null&&h(e,["responseMimeType"],T);const C=d(t,["responseModalities"]);C!=null&&h(e,["responseModalities"],C);const x=d(t,["responseSchema"]);x!=null&&h(e,["responseSchema"],x);const A=d(t,["routingConfig"]);A!=null&&h(e,["routingConfig"],A);const M=d(t,["seed"]);M!=null&&h(e,["seed"],M);const P=d(t,["speechConfig"]);P!=null&&h(e,["speechConfig"],kw(P));const R=d(t,["stopSequences"]);R!=null&&h(e,["stopSequences"],R);const O=d(t,["temperature"]);O!=null&&h(e,["temperature"],O);const j=d(t,["thinkingConfig"]);j!=null&&h(e,["thinkingConfig"],j);const Y=d(t,["topK"]);Y!=null&&h(e,["topK"],Y);const K=d(t,["topP"]);if(K!=null&&h(e,["topP"],K),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function LN(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],Ne(t,r)),n}function ON(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],Ne(t,r)),n}function qN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function BN(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function HN(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function GN(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&h(e,["imageSize"],r);const o=d(t,["outputMimeType"]);o!=null&&h(e,["imageOutputOptions","mimeType"],o);const l=d(t,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function VN(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&h(e,["imageBytes"],$i(n));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Nw(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["imageBytes"],$i(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function gu(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&h(e,["bytesBase64Encoded"],$i(n));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Tn(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&h(e,["bytesBase64Encoded"],$i(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function zN(t,e,n){const r={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&h(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const u=d(e,["filter"]);n!==void 0&&u!=null&&h(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&h(n,["_url","models_url"],Ew(t,f)),r}function FN(t,e,n){const r={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&h(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const u=d(e,["filter"]);n!==void 0&&u!=null&&h(n,["_query","filter"],u);const f=d(e,["queryBase"]);return n!==void 0&&f!=null&&h(n,["_url","models_url"],Ew(t,f)),r}function $N(t,e){const n={},r=d(e,["config"]);return r!=null&&zN(t,r,n),n}function JN(t,e){const n={},r=d(e,["config"]);return r!=null&&FN(t,r,n),n}function jN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=Sw(o);Array.isArray(l)&&(l=l.map(u=>Ef(u))),h(e,["models"],l)}return e}function KN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["_self"]);if(o!=null){let l=Sw(o);Array.isArray(l)&&(l=l.map(u=>Sf(u))),h(e,["models"],l)}return e}function YN(t){const e={},n=d(t,["maskMode"]);n!=null&&h(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&h(e,["maskClasses"],r);const o=d(t,["maskDilation"]);return o!=null&&h(e,["dilation"],o),e}function Ef(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);o!=null&&h(e,["description"],o);const l=d(t,["version"]);l!=null&&h(e,["version"],l);const u=d(t,["_self"]);u!=null&&h(e,["tunedModelInfo"],dM(u));const f=d(t,["inputTokenLimit"]);f!=null&&h(e,["inputTokenLimit"],f);const m=d(t,["outputTokenLimit"]);m!=null&&h(e,["outputTokenLimit"],m);const p=d(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const v=d(t,["temperature"]);v!=null&&h(e,["temperature"],v);const _=d(t,["maxTemperature"]);_!=null&&h(e,["maxTemperature"],_);const w=d(t,["topP"]);w!=null&&h(e,["topP"],w);const T=d(t,["topK"]);T!=null&&h(e,["topK"],T);const C=d(t,["thinking"]);return C!=null&&h(e,["thinking"],C),e}function Sf(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);o!=null&&h(e,["description"],o);const l=d(t,["versionId"]);l!=null&&h(e,["version"],l);const u=d(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(w=>lN(w))),h(e,["endpoints"],_)}const f=d(t,["labels"]);f!=null&&h(e,["labels"],f);const m=d(t,["_self"]);m!=null&&h(e,["tunedModelInfo"],fM(m));const p=d(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const v=d(t,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(w=>w)),h(e,["checkpoints"],_)}return e}function QN(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],uN(l));const u=d(t,["functionCall"]);u!=null&&h(e,["functionCall"],cN(u));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],P2(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function WN(t){const e={},n=d(t,["productImage"]);return n!=null&&h(e,["image"],Tn(n)),e}function XN(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&h(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const u=d(t,["seed"]);e!==void 0&&u!=null&&h(e,["parameters","seed"],u);const f=d(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&h(e,["parameters","safetySetting"],f);const m=d(t,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const p=d(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","mimeType"],v);const _=d(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_);const w=d(t,["enhancePrompt"]);e!==void 0&&w!=null&&h(e,["parameters","enhancePrompt"],w);const T=d(t,["labels"]);return e!==void 0&&T!=null&&h(e,["labels"],T),n}function ZN(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["source"]);o!=null&&tM(o,n);const l=d(e,["config"]);return l!=null&&XN(l,n),n}function eM(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>mu(o))),h(e,["generatedImages"],r)}return e}function tM(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["personImage"]);e!==void 0&&o!=null&&h(e,["instances[0]","personImage","image"],Tn(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>WN(f))),h(e,["instances[0]","productImages"],u)}return n}function nM(t){const e={},n=d(t,["referenceImage"]);n!=null&&h(e,["referenceImage"],Tn(n));const r=d(t,["referenceId"]);r!=null&&h(e,["referenceId"],r);const o=d(t,["referenceType"]);o!=null&&h(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],YN(l));const u=d(t,["controlImageConfig"]);u!=null&&h(e,["controlImageConfig"],V2(u));const f=d(t,["styleImageConfig"]);f!=null&&h(e,["styleImageConfig"],f);const m=d(t,["subjectImageConfig"]);return m!=null&&h(e,["subjectImageConfig"],m),e}function Mw(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function Iw(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const o=d(t,["contentType"]);return o!=null&&h(e,["contentType"],o),e}function iM(t){const e={},n=d(t,["category"]);if(n!=null&&h(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function rM(t){const e={},n=d(t,["image"]);return n!=null&&h(e,["image"],Tn(n)),e}function sM(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&h(e,["parameters","mode"],r);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&h(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const u=d(t,["maskDilation"]);e!==void 0&&u!=null&&h(e,["parameters","maskDilation"],u);const f=d(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&h(e,["parameters","binaryColorThreshold"],f);const m=d(t,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),n}function oM(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["source"]);o!=null&&lM(o,n);const l=d(e,["config"]);return l!=null&&sM(l,n),n}function aM(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>kN(o))),h(e,["generatedMasks"],r)}return e}function lM(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const o=d(t,["image"]);e!==void 0&&o!=null&&h(e,["instances[0]","image"],Tn(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],rM(l)),n}function kw(t){const e={},n=d(t,["languageCode"]);n!=null&&h(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&h(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function uM(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],dN(n));const r=d(t,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function cM(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),h(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&h(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],qN(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],BN(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function Dw(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(w=>fN(w))),h(e,["functionDeclarations"],_)}const r=d(t,["retrieval"]);r!=null&&h(e,["retrieval"],r);const o=d(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=d(t,["codeExecution"]);u!=null&&h(e,["codeExecution"],u);const f=d(t,["enterpriseWebSearch"]);f!=null&&h(e,["enterpriseWebSearch"],f);const m=d(t,["googleMaps"]);m!=null&&h(e,["googleMaps"],m);const p=d(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const v=d(t,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function dM(t){const e={},n=d(t,["baseModel"]);n!=null&&h(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function fM(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const o=d(t,["updateTime"]);return o!=null&&h(e,["updateTime"],o),e}function hM(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function pM(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const o=d(t,["description"]);e!==void 0&&o!=null&&h(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function mM(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","name"],Ne(t,r));const o=d(e,["config"]);return o!=null&&hM(o,n),n}function gM(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["config"]);return o!=null&&pM(o,n),n}function yM(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&h(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&h(e,["parameters","includeRaiReason"],u);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const m=d(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","compressionQuality"],m);const p=d(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=d(t,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const w=d(t,["numberOfImages"]);e!==void 0&&w!=null&&h(e,["parameters","sampleCount"],w);const T=d(t,["mode"]);return e!==void 0&&T!=null&&h(e,["parameters","mode"],T),n}function vM(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],Ne(t,r));const o=d(e,["image"]);o!=null&&h(n,["instances[0]","image"],Tn(o));const l=d(e,["upscaleFactor"]);l!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=d(e,["config"]);return u!=null&&yM(u,n),n}function _M(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mu(l))),h(e,["generatedImages"],o)}return e}function wM(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&h(e,["videoBytes"],$i(r));const o=d(t,["encoding"]);return o!=null&&h(e,["mimeType"],o),e}function EM(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],$i(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function SM(t){const e={},n=d(t,["image"]);n!=null&&h(e,["_self"],Tn(n));const r=d(t,["maskMode"]);return r!=null&&h(e,["maskMode"],r),e}function TM(t){const e={},n=d(t,["image"]);n!=null&&h(e,["image"],gu(n));const r=d(t,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function CM(t){const e={},n=d(t,["image"]);n!=null&&h(e,["image"],Tn(n));const r=d(t,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function Uw(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&h(e,["encodedVideo"],$i(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["encoding"],o),e}function Pw(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&h(e,["bytesBase64Encoded"],$i(r));const o=d(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bM="Content-Type",AM="X-Server-Timeout",xM="User-Agent",Tf="x-goog-api-client",RM="1.30.0",NM=`google-genai-sdk/${RM}`,MM="v1beta1",IM="v1beta",R0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class kM{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:MM,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:IM,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&DM(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await N0(o),new vf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await N0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return bs(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:m}=yield Fe(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(m,{stream:!0});try{const _=JSON.parse(p);if("error"in _){const w=JSON.parse(JSON.stringify(_.error)),T=w.status,C=w.code,x=`got status: ${T}. ${JSON.stringify(_)}`;if(C>=400&&C<600)throw new hu({message:x,status:C})}}catch(_){if(_.name==="ApiError")throw _}u+=p;let v=u.match(R0);for(;v;){const _=v[1];try{const w=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Fe(new vf(w)),u=u.slice(v[0].length),v=u.match(R0)}catch(w){throw new Error(`exception parsing stream chunk ${_}. ${w}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=NM+" "+this.clientOptions.userAgentExtra;return e[xM]=n,e[Tf]=n,e[bM]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))r.append(o,l);e.timeout&&e.timeout>0&&r.append(AM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m={file:o},p=this.getFileName(e),v=ee("upload/v1beta/files",m._url),_=await this.fetchUploadUrl(v,o.sizeBytes,o.mimeType,p,m,n==null?void 0:n.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,r){var o;const l=this.clientOptions.uploader,u=await l.stat(n),f=String(u.size),m=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:u.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),_={};r!=null&&r.customMetadata&&(_.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(_.chunkingConfig=r.chunkingConfig);const w=await this.fetchUploadUrl(p,f,m,v,_,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(n,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,l,u){var f;let m={};u?m=u:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:m});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(f=p==null?void 0:p.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function N0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new hu({message:o,status:n}):new Error(o)}}function DM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,u){const f=Object.assign({},l);for(const m in u)if(Object.prototype.hasOwnProperty.call(u,m)){const p=u[m],v=f[m];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?f[m]=r(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),f[m]=p)}return f}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UM="mcp_used/unknown";let PM=!1;function Lw(t){for(const e of t)if(LM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return PM}function Ow(t){var e;const n=(e=t[Tf])!==null&&e!==void 0?e:"";t[Tf]=(n+` ${UM}`).trimStart()}function LM(t){return t!==null&&typeof t=="object"&&t instanceof fh}function OM(t,e=100){return bs(this,arguments,function*(){let r,o=0;for(;o<e;){const l=yield Fe(t.listTools({cursor:r}));for(const u of l.tools)yield yield Fe(u),o++;if(!l.nextCursor)break;r=l.nextCursor}})}class fh{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new fh(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const v of this.mcpClients)try{for(var f=!0,m=(n=void 0,Yo(OM(v))),p;p=await m.next(),e=p.done,!e;f=!0){o=p.value,f=!1;const _=o;u.push(_);const w=_.name;if(l[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);l[w]=v}}catch(_){n={error:_}}finally{try{!f&&!e&&(r=m.return)&&await r.call(m)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),NR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qM(t,e,n){const r=new ER;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class BM{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=VM(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),m=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const v=new Promise(R=>{p=R}),_=e.callbacks,w=function(){p({})},T=this.apiClient,C={onopen:w,onmessage:R=>{qM(T,_.onmessage,R)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(R){}},x=this.webSocketFactory.create(m,GM(u),C);x.connect(),await v;const P={setup:{model:Ne(this.apiClient,e.model)}};return x.send(JSON.stringify(P)),new HM(x,this.apiClient)}}class HM{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=A2(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=b2(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ss.PLAY)}pause(){this.sendPlaybackControl(Ss.PAUSE)}stop(){this.sendPlaybackControl(Ss.STOP)}resetContext(){this.sendPlaybackControl(Ss.RESET_CONTEXT)}close(){this.conn.close()}}function GM(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function VM(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FM(t,e,n){const r=new wR;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=N2(l);Object.assign(r,u)}else Object.assign(r,l);e(r)}class $M{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new BM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,l,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Lw(e.config.tools)&&Ow(_);const w=YM(_);if(this.apiClient.isVertexAI())v=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,v);else{const Q=this.apiClient.getApiKey();let X="BidiGenerateContent",he="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),X="BidiGenerateContentConstrained",he="access_token"),v=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${X}?${he}=${Q}`}let T=()=>{};const C=new Promise(Q=>{T=Q}),x=e.callbacks,A=function(){var Q;(Q=x==null?void 0:x.onopen)===null||Q===void 0||Q.call(x),T({})},M=this.apiClient,P={onopen:A,onmessage:Q=>{FM(M,x.onmessage,Q)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(Q){}},R=this.webSocketFactory.create(v,KM(w),P);R.connect(),await C;let O=Ne(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const Q=this.apiClient.getProject(),X=this.apiClient.getLocation();O=`projects/${Q}/locations/${X}/`+O}let j={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Zl.AUDIO]}:e.config.responseModalities=[Zl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],K=[];for(const Q of Y)if(this.isCallableTool(Q)){const X=Q;K.push(await X.tool())}else K.push(Q);K.length>0&&(e.config.tools=K);const ie={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=C2(this.apiClient,ie):j=T2(this.apiClient,ie),delete j.config,R.send(JSON.stringify(j)),new jM(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const JM={turnComplete:!0};class jM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fn(n.turns),e.isVertexAI()||(r=r.map(o=>pu(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(zM)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},JM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:R2(e)}:n={realtimeInput:x2(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function KM(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function YM(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M0=10;function I0(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(As(u)){o=!0;break}if(!o)return!0;const l=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function As(t){return"callTool"in t&&typeof t.callTool=="function"}function QM(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>As(o)))!==null&&r!==void 0?r:!1}function k0(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(As(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function D0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WM extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,l,u,f;const m=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!QM(n)||I0(n.config))return await this.generateContentInternal(m);const p=k0(n);if(p.length>0){const x=p.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let v,_;const w=fn(m.contents),T=(l=(o=(r=m.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:M0;let C=0;for(;C<T&&(v=await this.generateContentInternal(m),!(!v.functionCalls||v.functionCalls.length===0));){const x=v.candidates[0].content,A=[];for(const M of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(As(M)){const R=await M.callTool(v.functionCalls);A.push(...R)}C++,_={role:"user",parts:A},m.contents=fn(m.contents),m.contents.push(x),m.contents.push(_),D0(m.config)&&(w.push(x),w.push(_))}return D0(m.config)&&(v.automaticFunctionCallingHistory=w),v},this.generateContentStream=async n=>{var r,o,l,u,f;if(this.maybeMoveToResponseJsonSchem(n),I0(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const m=k0(n);if(m.length>0){const _=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let l;const u=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:u.push(m);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:r.sdkHttpResponse},f}),this.list=async n=>{var r;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((r=u.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Mr(ti.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,l,u,f,m;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((m=(f=n.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async m=>As(m)?await m.tool():m)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&Lw(e.config.tools)){const m=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ow(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var n,r,o;const l=new Map;for(const u of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(As(u)){const f=u,m=await f.tool();for(const p of(o=m.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,f)}}return l}async processAfcStream(e){var n,r,o;const l=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:M0;let u=!1,f=0;const m=await this.initAfcToolsMap(e);return(function(p,v,_){var w,T;return bs(this,arguments,function*(){for(var C,x,A,M;f<l;){u&&(f++,u=!1);const j=yield Fe(p.processParamsMaybeAddMcpUsage(_)),Y=yield Fe(p.generateContentStreamInternal(j)),K=[],ie=[];try{for(var P=!0,R=(x=void 0,Yo(Y)),O;O=yield Fe(R.next()),C=O.done,!C;P=!0){M=O.value,P=!1;const Q=M;if(yield yield Fe(Q),Q.candidates&&(!((w=Q.candidates[0])===null||w===void 0)&&w.content)){ie.push(Q.candidates[0].content);for(const X of(T=Q.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(f<l&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(X.functionCall.name)){const he=yield Fe(v.get(X.functionCall.name).callTool([X.functionCall]));K.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(Q){x={error:Q}}finally{try{!P&&!C&&(A=R.return)&&(yield Fe(A.call(R)))}finally{if(x)throw x.error}}if(K.length>0){u=!0;const Q=new Fo;Q.candidates=[{content:{role:"user",parts:K}}],yield yield Fe(Q);const X=[];X.push(...ie),X.push({role:"user",parts:K});const he=fn(_.contents).concat(X);_.contents=he}else break}})})(this,m,e)}async generateContentInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=b0(this.apiClient,e);return f=ee("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=x0(v),w=new Fo;return Object.assign(w,_),w})}else{const p=C0(this.apiClient,e);return f=ee("{model}:generateContent",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=A0(v),w=new Fo;return Object.assign(w,_),w})}}async generateContentStreamInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=b0(this.apiClient,e);return f=ee("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(_){return bs(this,arguments,function*(){var w,T,C,x;try{for(var A=!0,M=Yo(_),P;P=yield Fe(M.next()),w=P.done,!w;A=!0){x=P.value,A=!1;const R=x,O=x0(yield Fe(R.json()));O.sdkHttpResponse={headers:R.headers};const j=new Fo;Object.assign(j,O),yield yield Fe(j)}}catch(R){T={error:R}}finally{try{!A&&!w&&(C=M.return)&&(yield Fe(C.call(M)))}finally{if(T)throw T.error}}})})}else{const p=C0(this.apiClient,e);return f=ee("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.requestStream({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(_){return bs(this,arguments,function*(){var w,T,C,x;try{for(var A=!0,M=Yo(_),P;P=yield Fe(M.next()),w=P.done,!w;A=!0){x=P.value,A=!1;const R=x,O=A0(yield Fe(R.json()));O.sdkHttpResponse={headers:R.headers};const j=new Fo;Object.assign(j,O),yield yield Fe(j)}}catch(R){T={error:R}}finally{try{!A&&!w&&(C=M.return)&&(yield Fe(C.call(M)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=sN(this.apiClient,e);return f=ee("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=aN(v),w=new l0;return Object.assign(w,_),w})}else{const p=rN(this.apiClient,e);return f=ee("{model}:batchEmbedContents",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=oN(v),w=new l0;return Object.assign(w,_),w})}}async generateImagesInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=vN(this.apiClient,e);return f=ee("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=wN(v),w=new u0;return Object.assign(w,_),w})}else{const p=yN(this.apiClient,e);return f=ee("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=_N(v),w=new u0;return Object.assign(w,_),w})}}async editImageInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=eN(this.apiClient,e);return l=ee("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>{const p=tN(m),v=new uR;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=vM(this.apiClient,e);return l=ee("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>{const p=_M(m),v=new cR;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=ZN(this.apiClient,e);return l=ee("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=eM(m),v=new dR;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=oM(this.apiClient,e);return l=ee("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=aM(m),v=new fR;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=ON(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>Sf(v))}else{const p=LN(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>Ef(v))}}async listInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=JN(this.apiClient,e);return f=ee("{models_url}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=KN(v),w=new c0;return Object.assign(w,_),w})}else{const p=$N(this.apiClient,e);return f=ee("{models_url}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=jN(v),w=new c0;return Object.assign(w,_),w})}}async update(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=gM(this.apiClient,e);return f=ee("{model}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>Sf(v))}else{const p=mM(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>Ef(v))}}async delete(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=Q2(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=X2(v),w=new d0;return Object.assign(w,_),w})}else{const p=Y2(this.apiClient,e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=W2(v),w=new d0;return Object.assign(w,_),w})}}async countTokens(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=J2(this.apiClient,e);return f=ee("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=K2(v),w=new f0;return Object.assign(w,_),w})}else{const p=$2(this.apiClient,e);return f=ee("{model}:countTokens",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=j2(v),w=new f0;return Object.assign(w,_),w})}}async computeTokens(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=q2(this.apiClient,e);return l=ee("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>{const p=B2(m),v=new hR;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=AN(this.apiClient,e);return f=ee("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u.then(v=>{const _=CN(v),w=new eu;return Object.assign(w,_),w})}else{const p=bN(this.apiClient,e);return f=ee("{model}:predictLongRunning",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u.then(v=>{const _=TN(v),w=new eu;return Object.assign(w,_),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XM extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=iR(e);return f=ee("{operationName}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),u}else{const p=nR(e);return f=ee("{operationName}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),u}}async fetchPredictVideosOperationInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Yx(e);return l=ee("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZM(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function eI(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>uI(l))),h(e,["parts"],o)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function tI(t,e,n){const r={},o=d(e,["expireTime"]);n!==void 0&&o!=null&&h(n,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&h(n,["newSessionExpireTime"],l);const u=d(e,["uses"]);n!==void 0&&u!=null&&h(n,["uses"],u);const f=d(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&h(n,["bidiGenerateContentSetup"],lI(t,f));const m=d(e,["lockAdditionalFields"]);return n!==void 0&&m!=null&&h(n,["fieldMask"],m),r}function nI(t,e){const n={},r=d(e,["config"]);return r!=null&&h(n,["config"],tI(t,r,n)),n}function iI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function rI(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const o=d(t,["name"]);if(o!=null&&h(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function oI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function aI(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const u=d(t,["topP"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","topP"],u);const f=d(t,["topK"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","topK"],f);const m=d(t,["maxOutputTokens"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","maxOutputTokens"],m);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],dh(_));const w=d(t,["thinkingConfig"]);e!==void 0&&w!=null&&h(e,["setup","generationConfig","thinkingConfig"],w);const T=d(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],T);const C=d(t,["systemInstruction"]);e!==void 0&&C!=null&&h(e,["setup","systemInstruction"],eI(Et(C)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let Y=$s(x);Array.isArray(Y)&&(Y=Y.map(K=>dI(Fs(K)))),h(e,["setup","tools"],Y)}const A=d(t,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],cI(A));const M=d(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&h(e,["setup","inputAudioTranscription"],M);const P=d(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&h(e,["setup","outputAudioTranscription"],P);const R=d(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&h(e,["setup","realtimeInputConfig"],R);const O=d(t,["contextWindowCompression"]);e!==void 0&&O!=null&&h(e,["setup","contextWindowCompression"],O);const j=d(t,["proactivity"]);return e!==void 0&&j!=null&&h(e,["setup","proactivity"],j),n}function lI(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["setup","model"],Ne(t,r));const o=d(e,["config"]);return o!=null&&h(n,["config"],aI(o,n)),n}function uI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const o=d(t,["executableCode"]);o!=null&&h(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&h(e,["fileData"],iI(l));const u=d(t,["functionCall"]);u!=null&&h(e,["functionCall"],rI(u));const f=d(t,["functionResponse"]);f!=null&&h(e,["functionResponse"],f);const m=d(t,["inlineData"]);m!=null&&h(e,["inlineData"],ZM(m));const p=d(t,["text"]);p!=null&&h(e,["text"],p);const v=d(t,["thought"]);v!=null&&h(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const w=d(t,["videoMetadata"]);return w!=null&&h(e,["videoMetadata"],w),e}function cI(t){const e={},n=d(t,["handle"]);if(n!=null&&h(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>_)),h(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const o=d(t,["computerUse"]);o!=null&&h(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const u=d(t,["codeExecution"]);if(u!=null&&h(e,["codeExecution"],u),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(t,["googleMaps"]);f!=null&&h(e,["googleMaps"],sI(f));const m=d(t,["googleSearch"]);m!=null&&h(e,["googleSearch"],oI(m));const p=d(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function hI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=fI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(p=>u.includes(p)?`generationConfig.${p}`:p));const m=[];l&&m.push(l),f.length>0&&m.push(...f),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class pI extends ii{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=nI(this.apiClient,e);l=ee("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const m=hI(f,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mI(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&h(e,["displayName"],r),n}function gI(t){const e={},n=d(t,["config"]);return n!=null&&mI(n,e),e}function yI(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),n}function vI(t){const e={},n=d(t,["name"]);n!=null&&h(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&yI(r,e),e}function _I(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function wI(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&h(e,["chunkingConfig"],o),n}function EI(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const o=d(t,["done"]);o!=null&&h(e,["done"],o);const l=d(t,["error"]);l!=null&&h(e,["error"],l);const u=d(t,["response"]);return u!=null&&h(e,["response"],TI(u)),e}function SI(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&h(e,["fileName"],r);const o=d(t,["config"]);return o!=null&&wI(o,e),e}function TI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const o=d(t,["documentName"]);return o!=null&&h(e,["documentName"],o),e}function CI(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),n}function bI(t){const e={},n=d(t,["config"]);return n!=null&&CI(n,e),e}function AI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["fileSearchStores"],l)}return e}function xI(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&h(e,["mimeType"],r);const o=d(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>m)),h(e,["customMetadata"],f)}const u=d(t,["chunkingConfig"]);return e!==void 0&&u!=null&&h(e,["chunkingConfig"],u),n}function RI(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&xI(r,e),e}function NI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MI(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),n}function II(t){const e={},n=d(t,["name"]);n!=null&&h(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&MI(r,e),e}function kI(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function DI(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&h(e,["_query","pageToken"],o),n}function UI(t){const e={},n=d(t,["parent"]);n!=null&&h(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&DI(r,e),e}function PI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LI extends ii{constructor(e){super(),this.apiClient=e,this.list=async n=>new Mr(ti.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=kI(e);return l=ee("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var n,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=II(e);o=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UI(e);return l=ee("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=PI(m),v=new pR;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OI extends ii{constructor(e,n=new LI(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Mr(ti.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gI(e);return l=ee("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async get(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_I(e);return l=ee("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>m)}}async delete(e){var n,r;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vI(e);o=ee("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bI(e);return l=ee("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=AI(m),v=new mR;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=RI(e);return l=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=NI(m),v=new gR;return Object.assign(v,p),v})}}async importFile(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=SI(e);return l=ee("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const p=EI(m),v=new oh;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function BI(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function HI(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&h(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const u=d(t,["learningRateMultiplier"]);if(u!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(t,["batchSize"]);e!==void 0&&f!=null&&h(e,["tuningTask","hyperparameters","batchSize"],f);const m=d(t,["learningRate"]);if(e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","learningRate"],m),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function GI(t,e,n){const r={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec"],U0(T))}else if(o==="PREFERENCE_TUNING"){const T=d(t,["validationDataset"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec"],U0(T))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const u=d(t,["description"]);e!==void 0&&u!=null&&h(e,["description"],u);let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(f==="PREFERENCE_TUNING"){const T=d(t,["epochCount"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let m=d(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(m==="PREFERENCE_TUNING"){const T=d(t,["learningRateMultiplier"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let p=d(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(p==="PREFERENCE_TUNING"){const T=d(t,["exportLastCheckpointOnly"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(v==="PREFERENCE_TUNING"){const T=d(t,["adapterSize"]);e!==void 0&&T!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(t,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const w=d(t,["beta"]);return e!==void 0&&w!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),r}function VI(t,e){const n={},r=d(t,["baseModel"]);r!=null&&h(n,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&h(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&ZI(l);const u=d(t,["config"]);return u!=null&&HI(u,n),n}function zI(t,e){const n={},r=d(t,["baseModel"]);r!=null&&h(n,["baseModel"],r);const o=d(t,["preTunedModel"]);o!=null&&h(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&ek(l,n,e);const u=d(t,["config"]);return u!=null&&GI(u,n,e),n}function FI(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function $I(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function JI(t,e,n){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const u=d(t,["filter"]);return e!==void 0&&u!=null&&h(e,["_query","filter"],u),r}function jI(t,e,n){const r={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const u=d(t,["filter"]);return e!==void 0&&u!=null&&h(e,["_query","filter"],u),r}function KI(t,e){const n={},r=d(t,["config"]);return r!=null&&JI(r,n),n}function YI(t,e){const n={},r=d(t,["config"]);return r!=null&&jI(r,n),n}function QI(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&h(n,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>qw(f))),h(n,["tuningJobs"],u)}return n}function WI(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const o=d(t,["nextPageToken"]);o!=null&&h(n,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Cf(f))),h(n,["tuningJobs"],u)}return n}function XI(t,e){const n={},r=d(t,["name"]);r!=null&&h(n,["model"],r);const o=d(t,["name"]);return o!=null&&h(n,["endpoint"],o),n}function ZI(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),h(n,["examples","examples"],o)}return n}function ek(t,e,n){const r={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=d(t,["gcsUri"]);e!==void 0&&u!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=d(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function qw(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&h(n,["name"],o);const l=d(t,["state"]);l!=null&&h(n,["state"],_w(l));const u=d(t,["createTime"]);u!=null&&h(n,["createTime"],u);const f=d(t,["tuningTask","startTime"]);f!=null&&h(n,["startTime"],f);const m=d(t,["tuningTask","completeTime"]);m!=null&&h(n,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(n,["updateTime"],p);const v=d(t,["description"]);v!=null&&h(n,["description"],v);const _=d(t,["baseModel"]);_!=null&&h(n,["baseModel"],_);const w=d(t,["_self"]);return w!=null&&h(n,["tunedModel"],XI(w)),n}function Cf(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&h(n,["name"],o);const l=d(t,["state"]);l!=null&&h(n,["state"],_w(l));const u=d(t,["createTime"]);u!=null&&h(n,["createTime"],u);const f=d(t,["startTime"]);f!=null&&h(n,["startTime"],f);const m=d(t,["endTime"]);m!=null&&h(n,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&h(n,["updateTime"],p);const v=d(t,["error"]);v!=null&&h(n,["error"],v);const _=d(t,["description"]);_!=null&&h(n,["description"],_);const w=d(t,["baseModel"]);w!=null&&h(n,["baseModel"],w);const T=d(t,["tunedModel"]);T!=null&&h(n,["tunedModel"],T);const C=d(t,["preTunedModel"]);C!=null&&h(n,["preTunedModel"],C);const x=d(t,["supervisedTuningSpec"]);x!=null&&h(n,["supervisedTuningSpec"],x);const A=d(t,["preferenceOptimizationSpec"]);A!=null&&h(n,["preferenceOptimizationSpec"],A);const M=d(t,["tuningDataStats"]);M!=null&&h(n,["tuningDataStats"],M);const P=d(t,["encryptionSpec"]);P!=null&&h(n,["encryptionSpec"],P);const R=d(t,["partnerModelTuningSpec"]);R!=null&&h(n,["partnerModelTuningSpec"],R);const O=d(t,["customBaseModel"]);O!=null&&h(n,["customBaseModel"],O);const j=d(t,["experiment"]);j!=null&&h(n,["experiment"],j);const Y=d(t,["labels"]);Y!=null&&h(n,["labels"],Y);const K=d(t,["outputUri"]);K!=null&&h(n,["outputUri"],K);const ie=d(t,["pipelineJob"]);ie!=null&&h(n,["pipelineJob"],ie);const Q=d(t,["serviceAccount"]);Q!=null&&h(n,["serviceAccount"],Q);const X=d(t,["tunedModelDisplayName"]);X!=null&&h(n,["tunedModelDisplayName"],X);const he=d(t,["veoTuningSpec"]);return he!=null&&h(n,["veoTuningSpec"],he),n}function tk(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const o=d(t,["name"]);o!=null&&h(n,["name"],o);const l=d(t,["metadata"]);l!=null&&h(n,["metadata"],l);const u=d(t,["done"]);u!=null&&h(n,["done"],u);const f=d(t,["error"]);return f!=null&&h(n,["error"],f),n}function U0(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&h(n,["validationDatasetUri"],r);const o=d(t,["vertexDatasetResource"]);return o!=null&&h(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nk extends ii{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Mr(ti.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:yf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=$I(e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>Cf(v))}else{const p=FI(e);return f=ee("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>qw(v))}}async listInternal(e){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=YI(e);return f=ee("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=WI(v),w=new h0;return Object.assign(w,_),w})}else{const p=KI(e);return f=ee("tunedModels",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const w=_;return w.sdkHttpResponse={headers:v.headers},w})),u.then(v=>{const _=QI(v),w=new h0;return Object.assign(w,_),w})}}async cancel(e){var n,r,o,l;let u="",f={};if(this.apiClient.isVertexAI()){const m=BI(e);u=ee("{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const m=qI(e);u=ee("{name}:cancel",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=zI(e,e);return l=ee("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>Cf(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=VI(e);return l=ee("tunedModels",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:m.headers},v})),o.then(m=>tk(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ik{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rk=1024*1024*8,sk=3,ok=1e3,ak=2,nu="x-goog-upload-status";async function lk(t,e,n){var r;const o=await Bw(t,e,n),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function uk(t,e,n){var r;const o=await Bw(t,e,n),l=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[nu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=hw(l),f=new ah;return Object.assign(f,u),f}async function Bw(t,e,n){var r,o;let l=0,u=0,f=new vf(new Response),m="upload";for(l=t.size;u<l;){const p=Math.min(rk,l-u),v=t.slice(u,u+p);u+p>=l&&(m+=", finalize");let _=0,w=ok;for(;_<sk&&(f=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[nu]));)_++,await dk(w),w=w*ak;if(u+=p,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[nu])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function ck(t){return{size:t.size,type:t.type}}function dk(t){return new Promise(e=>setTimeout(e,t))}class fk{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lk(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uk(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ck(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hk{create(e,n,r){return new pk(e,n,r)}}class pk{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P0="x-goog-api-key";class mk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(P0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(P0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gk="gl-node/";class yk{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=jx(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new mk(this.apiKey);this.apiClient=new kM({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:gk+"web",uploader:new fk,downloader:new ik}),this.models=new WM(this.apiClient),this.live=new $M(this.apiClient,o,new hk),this.batches=new S1(this.apiClient),this.chats=new i2(this.models,this.apiClient),this.caches=new e2(this.apiClient),this.files=new h2(this.apiClient),this.operations=new XM(this.apiClient),this.authTokens=new pI(this.apiClient),this.tunings=new nk(this.apiClient),this.fileSearchStores=new OI(this.apiClient)}}const vk="https://fddvcyqbfqydvsfujcxd.supabase.co",_k="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkZHZjeXFiZnF5ZHZzZnVqY3hkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4ODQ0MzAsImV4cCI6MjA2ODQ2MDQzMH0.kSKbnUaWaJmPjdz9TGxWbZZ8dcamVupdkeozWQct9i4",Lt=Vx(vk,_k),wk="AIzaSyBS7aR1YXioBNibQQgg5SSzpqWlKXkrOeA",Ek=new yk({apiKey:wk}),Sk=async()=>{if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return await navigator.serviceWorker.ready,t}catch(t){return console.error("Service Worker registration failed:",t),null}return null},Hw=k.createContext(null),Tk=({children:t})=>{const[e,n]=k.useState(null),[r,o]=k.useState(null),[l,u]=k.useState(!0),[f,m]=k.useState(()=>typeof window<"u"?localStorage.getItem("scheduleNotificationsEnabled")==="true":!1),p=T=>{if(!T)return null;let C=T.user_metadata.avatar_url||`https://i.pravatar.cc/150?u=${T.id}`;return C&&C.includes("supabase.co")&&(C=`${C.split("?")[0]}?t=${new Date().getTime()}`),{id:T.id,email:T.email,name:T.user_metadata.name||"Guru",avatarUrl:C}};k.useEffect(()=>{(async()=>{var M;const{data:x,error:A}=await Lt.auth.getSession();A&&console.error("Error fetching session:",A),n(x.session),o(p((M=x.session)==null?void 0:M.user)),u(!1)})();const{data:{subscription:C}}=Lt.auth.onAuthStateChange((x,A)=>{n(A),o(p(A==null?void 0:A.user))});return()=>{C==null||C.unsubscribe()}},[]);const v=async T=>{if(!("Notification"in window)||!("serviceWorker"in navigator))return alert("Browser Anda tidak mendukung notifikasi."),!1;if(await Notification.requestPermission()!=="granted")return alert("Izin notifikasi tidak diberikan."),!1;const x=await Sk();return x&&x.active?(x.active.postMessage({type:"SCHEDULE_UPDATED",payload:T}),localStorage.setItem("scheduleNotificationsEnabled","true"),m(!0),!0):!1},_=async()=>{if("serviceWorker"in navigator)try{const T=await navigator.serviceWorker.getRegistration();T&&T.active&&T.active.postMessage({type:"CLEAR_SCHEDULE"})}catch(T){console.error("Failed to clear notifications:",T)}localStorage.removeItem("scheduleNotificationsEnabled"),m(!1)},w={session:e,user:r,loading:l,isNotificationsEnabled:f,login:(T,C)=>Lt.auth.signInWithPassword({email:T,password:C}),signup:(T,C,x)=>Lt.auth.signUp({email:C,password:x,options:{data:{name:T,avatar_url:`https://i.pravatar.cc/150?u=${C}`}}}),logout:async()=>{await _(),await Lt.auth.signOut()},updateUser:T=>Lt.auth.updateUser({password:T.password,data:{name:T.name,avatar_url:T.avatar_url}}),enableScheduleNotifications:v,disableScheduleNotifications:_};return S.jsx(Hw.Provider,{value:w,children:t})},ca=()=>{const t=k.useContext(Hw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Gw=k.createContext(void 0),Ck=({children:t})=>{const[e,n]=k.useState(()=>typeof window<"u"&&document.documentElement.classList.contains("dark")?"dark":"light");k.useEffect(()=>{const l=window.document.documentElement;e==="dark"?l.classList.add("dark"):l.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=k.useCallback(()=>{n(l=>l==="light"?"dark":"light")},[]),o=k.useMemo(()=>({theme:e,toggleTheme:r,setTheme:n}),[e,r]);return S.jsx(Gw.Provider,{value:o,children:t})},bk=()=>{const t=k.useContext(Gw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Vw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),S.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),yu=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),S.jsx("circle",{cx:"9",cy:"7",r:"4"}),S.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),S.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),zw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),S.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),S.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),S.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Fw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),S.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})]}),Ak=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),S.jsx("polyline",{points:"16 17 21 12 16 7"}),S.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),xk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"4"}),S.jsx("path",{d:"M12 2v2"}),S.jsx("path",{d:"M12 20v2"}),S.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),S.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),S.jsx("path",{d:"M2 12h2"}),S.jsx("path",{d:"M20 12h2"}),S.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),S.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Rk=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),hU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),S.jsx("polyline",{points:"12 19 5 12 12 5"})]}),Nk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),S.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Mk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),S.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),pU=({className:t})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),S.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Ik=({className:t})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),S.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),kk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),S.jsx("polyline",{points:"14 2 14 8 20 8"}),S.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),S.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),S.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),Dk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),S.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),$w=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),S.jsx("path",{d:"M6 12v5c0 1.66 4 3 10 0v-5"})]}),mU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),S.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),gU=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),yU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("polyline",{points:"3 6 5 6 21 6"}),S.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),L0=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 3L9.5 8.5L4 11L9.5 13.5L12 19L14.5 13.5L20 11L14.5 8.5L12 3z"}),S.jsx("path",{d:"M5 3v4h4"}),S.jsx("path",{d:"M19 17v4h-4"})]}),vU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("circle",{cx:"12",cy:"10",r:"3"}),S.jsx("path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"})]}),_U=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),S.jsx("circle",{cx:"9",cy:"7",r:"4"}),S.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),wU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),S.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),S.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),Uk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),S.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),EU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("polyline",{points:"12 6 12 12 16 14"})]}),SU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}),S.jsx("circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}),S.jsx("circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}),S.jsx("circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}),S.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.667 0-.422-.18-.835-.478-1.125a2.5 2.5 0 0 1-2.87-4.444c.43-.86.96-1.648 1.648-2.222a2.5 2.5 0 0 1 4.444-2.87c.29.298.603.478 1.025.478C21.254 9.352 22 8.574 22 7.648 22 4.5 17.5 2 12 2z"})]}),TU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),S.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),CU=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),bU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),S.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),S.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),AU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),S.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),Jw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.131"}),S.jsx("path",{d:"M12 5a3 3 0 1 0 5.993.131"}),S.jsx("path",{d:"M12 19a3 3 0 1 0-5.993-.131"}),S.jsx("path",{d:"M12 19a3 3 0 1 0 5.993.131"}),S.jsx("path",{d:"M12 12a3 3 0 1 0-5.993.131"}),S.jsx("path",{d:"M12 12a3 3 0 1 0 5.993.131"}),S.jsx("path",{d:"M2.5 12a3 3 0 1 0 5.993.131"}),S.jsx("path",{d:"M15.507 12a3 3 0 1 0 5.993.131"}),S.jsx("path",{d:"M5.26 8.5H18.74"}),S.jsx("path",{d:"M5.26 15.5H18.74"})]}),xU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),S.jsx("polyline",{points:"16 7 22 7 22 13"})]}),Pk=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),S.jsx("path",{d:"M12 12v9"}),S.jsx("path",{d:"m8 17 4 4 4-4"})]}),RU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),S.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),jw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),S.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),S.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),NU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}),S.jsx("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}),S.jsx("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}),S.jsx("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"})]}),MU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"8",x2:"21",y1:"6",y2:"6"}),S.jsx("line",{x1:"8",x2:"21",y1:"12",y2:"12"}),S.jsx("line",{x1:"8",x2:"21",y1:"18",y2:"18"}),S.jsx("line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}),S.jsx("line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}),S.jsx("line",{x1:"3",x2:"3.01",y1:"18",y2:"18"})]}),bf=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"11",cy:"11",r:"8"}),S.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Kw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("polyline",{points:"9 11 12 14 22 4"}),S.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),IU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),S.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),S.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),Yw=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1"}),S.jsx("path",{d:"M10.4 12.6a2 2 0 0 1 3 3L8 21l-4 1 1-4Z"}),S.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})]}),kU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M15 2H9a2 2 0 0 0-2 2v2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-2V4a2 2 0 0 0-2-2Z"}),S.jsx("path",{d:"M9 2v4h6V2"}),S.jsx("path",{d:"M10 14h4"}),S.jsx("path",{d:"M12 12v4"})]}),DU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),S.jsx("polyline",{points:"22,6 12,13 2,6"})]}),UU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),S.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),PU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),S.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),LU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),S.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),S.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),S.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}),OU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z"}),S.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]}),qU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),S.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),BU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),S.jsx("path",{d:"m9 12 2 2 4-4"})]}),HU=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("polyline",{points:"9 18 15 12 9 6"})}),GU=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),VU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),S.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),zU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"18",cy:"5",r:"3"}),S.jsx("circle",{cx:"6",cy:"12",r:"3"}),S.jsx("circle",{cx:"18",cy:"19",r:"3"}),S.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),S.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}),FU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"1"}),S.jsx("circle",{cx:"12",cy:"5",r:"1"}),S.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),$U=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("polyline",{points:"6 9 12 15 18 9"})}),JU=t=>S.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),jU=t=>S.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("path",{d:"M12 16v-4"}),S.jsx("path",{d:"M12 8h.01"})]}),Qw=k.createContext(void 0),Lk={success:Nk,error:Mk,warning:Ik,info:kk},Ok={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"},qk=({toast:t,onDismiss:e})=>{k.useEffect(()=>{const r=setTimeout(()=>{e(t.id)},t.duration||5e3);return()=>clearTimeout(r)},[t,e]);const n=Lk[t.type];return S.jsxs("div",{className:"flex items-center w-full max-w-sm p-4 text-white bg-gray-800 rounded-lg shadow-2xl backdrop-blur-sm bg-opacity-80 border border-gray-700/50 transform transition-all duration-300 animate-fade-in-up",role:"alert",children:[S.jsx("div",{className:`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 ${Ok[t.type]} rounded-lg`,children:S.jsx(n,{className:"w-5 h-5"})}),S.jsx("div",{className:"ml-3 text-sm font-normal flex-1",children:t.message}),S.jsxs("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 bg-white/10 text-gray-300 hover:text-white rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-white/20 inline-flex h-8 w-8",onClick:()=>e(t.id),"aria-label":"Close",children:[S.jsx("span",{className:"sr-only",children:"Close"}),S.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},Bk=({toasts:t,onDismiss:e})=>{const[n,r]=k.useState(null);return k.useEffect(()=>{const o=document.createElement("div");return o.className="fixed top-5 right-5 z-[100] space-y-3",document.body.appendChild(o),r(o),()=>{document.body.removeChild(o)}},[]),n?Tb.createPortal(S.jsx(S.Fragment,{children:t.map(o=>S.jsx(qk,{toast:o,onDismiss:e},o.id))}),n):null},Hk=({children:t})=>{const[e,n]=k.useState([]),r=k.useCallback((l,u)=>{n(f=>[...f,{id:Date.now(),message:l,type:(u==null?void 0:u.type)||"info",duration:u==null?void 0:u.duration}])},[]),o=k.useCallback(l=>{n(u=>u.filter(f=>f.id!==l))},[]);return S.jsxs(Qw.Provider,{value:{addToast:r},children:[t,S.jsx(Bk,{toasts:e,onDismiss:o})]})},Gk=()=>{const t=k.useContext(Qw);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return{success:(e,n)=>t.addToast(e,{...n,type:"success"}),error:(e,n)=>t.addToast(e,{...n,type:"error"}),info:(e,n)=>t.addToast(e,{...n,type:"info"}),warning:(e,n)=>t.addToast(e,{...n,type:"warning"})}},ni=ou.forwardRef(({className:t,variant:e="default",size:n="default",children:r,onClick:o,...l},u)=>{const f="relative overflow-hidden inline-flex items-center justify-center rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-950 focus:ring-sky-500 disabled:opacity-50 disabled:pointer-events-none transform-gpu active:scale-95",m={default:"bg-gradient-to-r from-sky-500 via-sky-600 to-sky-500 text-white bg-[length:200%_auto] transition-all duration-500 ease-out hover:bg-[position:100%_0] hover:shadow-lg hover:shadow-sky-500/40 dark:from-purple-600 dark:via-blue-500 dark:to-purple-600 dark:hover:shadow-purple-500/40 hover:-translate-y-1",destructive:"bg-red-500 text-white hover:bg-red-600 transition-all duration-200 hover:shadow-lg hover:shadow-red-500/40 hover:-translate-y-0.5",outline:"ripple-dark bg-transparent border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:-translate-y-0.5",ghost:"ripple-dark hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105"},p={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"},v=_=>{o&&o(_);const w=_.currentTarget,T=w.getElementsByClassName("ripple")[0];T&&T.remove();const C=document.createElement("span"),x=Math.max(w.clientWidth,w.clientHeight),A=x/2;C.style.width=C.style.height=`${x}px`,C.style.left=`${_.clientX-w.getBoundingClientRect().left-A}px`,C.style.top=`${_.clientY-w.getBoundingClientRect().top-A}px`,C.classList.add("ripple"),w.appendChild(C),setTimeout(()=>{C.parentElement&&C.remove()},600)};return S.jsx("button",{className:`${f} ${m[e]} ${p[n]} ${t}`,ref:u,onClick:v,...l,children:r})});ni.displayName="Button";const Vk=()=>{const{theme:t,toggleTheme:e}=bk();return S.jsx(ni,{variant:"ghost",size:"icon",onClick:e,"aria-label":"Toggle theme",className:"flex items-center justify-center w-12 h-12 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors active:scale-95",children:t==="light"?S.jsx(xk,{className:"w-5 h-5 text-amber-500"}):S.jsx(Rk,{className:"w-5 h-5 text-indigo-400"})})};var da=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Di,Hf,K0,Fk=(K0=class{constructor(){ce(this,Di,zk);ce(this,Hf,!1)}setTimeoutProvider(t){te(this,Di,t)}setTimeout(t,e){return D(this,Di).setTimeout(t,e)}clearTimeout(t){D(this,Di).clearTimeout(t)}setInterval(t,e){return D(this,Di).setInterval(t,e)}clearInterval(t){D(this,Di).clearInterval(t)}},Di=new WeakMap,Hf=new WeakMap,K0),vr=new Fk;function $k(t){setTimeout(t,0)}var Rr=typeof window>"u"||"Deno"in globalThis;function Pt(){}function Jk(t,e){return typeof t=="function"?t(e):t}function Af(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ww(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vi(t,e){return typeof t=="function"?t(e):t}function dn(t,e){return typeof t=="function"?t(e):t}function O0(t,e){const{type:n="all",exact:r,fetchStatus:o,predicate:l,queryKey:u,stale:f}=t;if(u){if(r){if(e.queryHash!==hh(u,e.options))return!1}else if(!ta(e.queryKey,u))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||o&&o!==e.state.fetchStatus||l&&!l(e))}function q0(t,e){const{exact:n,status:r,predicate:o,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(ea(e.options.mutationKey)!==ea(l))return!1}else if(!ta(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function hh(t,e){return((e==null?void 0:e.queryKeyHashFn)||ea)(t)}function ea(t){return JSON.stringify(t,(e,n)=>Rf(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function ta(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ta(t[n],e[n])):!1}var jk=Object.prototype.hasOwnProperty;function Xw(t,e){if(t===e)return t;const n=B0(t)&&B0(e);if(!n&&!(Rf(t)&&Rf(e)))return e;const o=(n?t:Object.keys(t)).length,l=n?e:Object.keys(e),u=l.length,f=n?new Array(u):{};let m=0;for(let p=0;p<u;p++){const v=n?p:l[p],_=t[v],w=e[v];if(_===w){f[v]=_,(n?p<o:jk.call(t,v))&&m++;continue}if(_===null||w===null||typeof _!="object"||typeof w!="object"){f[v]=w;continue}const T=Xw(_,w);f[v]=T,T===_&&m++}return o===u&&m===o?t:f}function xf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function B0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rf(t){if(!H0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!H0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function H0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kk(t){return new Promise(e=>{vr.setTimeout(e,t)})}function Nf(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Xw(t,e):e}function Yk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Qk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ph=Symbol();function Zw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ph?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Wk(t,e){return typeof t=="function"?t(...e):!!t}var _r,Ui,xs,Y0,Xk=(Y0=class extends da{constructor(){super();ce(this,_r);ce(this,Ui);ce(this,xs);te(this,xs,e=>{if(!Rr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,Ui)||this.setEventListener(D(this,xs))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Ui))==null||e.call(this),te(this,Ui,void 0))}setEventListener(e){var n;te(this,xs,e),(n=D(this,Ui))==null||n.call(this),te(this,Ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){D(this,_r)!==e&&(te(this,_r,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof D(this,_r)=="boolean"?D(this,_r):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_r=new WeakMap,Ui=new WeakMap,xs=new WeakMap,Y0),mh=new Xk;function Mf(){let t,e;const n=new Promise((o,l)=>{t=o,e=l});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}var Zk=$k;function eD(){let t=[],e=0,n=f=>{f()},r=f=>{f()},o=Zk;const l=f=>{e?t.push(f):o(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&o(()=>{r(()=>{f.forEach(m=>{n(m)})})})};return{batch:f=>{let m;e++;try{m=f()}finally{e--,e||u()}return m},batchCalls:f=>(...m)=>{l(()=>{f(...m)})},schedule:l,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{o=f}}}var yt=eD(),Rs,Pi,Ns,Q0,tD=(Q0=class extends da{constructor(){super();ce(this,Rs,!0);ce(this,Pi);ce(this,Ns);te(this,Ns,e=>{if(!Rr&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,Pi)||this.setEventListener(D(this,Ns))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Pi))==null||e.call(this),te(this,Pi,void 0))}setEventListener(e){var n;te(this,Ns,e),(n=D(this,Pi))==null||n.call(this),te(this,Pi,e(this.setOnline.bind(this)))}setOnline(e){D(this,Rs)!==e&&(te(this,Rs,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return D(this,Rs)}},Rs=new WeakMap,Pi=new WeakMap,Ns=new WeakMap,Q0),iu=new tD;function nD(t){return Math.min(1e3*2**t,3e4)}function eE(t){return(t??"online")==="online"?iu.isOnline():!0}var If=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tE(t){let e=!1,n=0,r;const o=Mf(),l=()=>o.status!=="pending",u=x=>{var A;if(!l()){const M=new If(x);w(M),(A=t.onCancel)==null||A.call(t,M)}},f=()=>{e=!0},m=()=>{e=!1},p=()=>mh.isFocused()&&(t.networkMode==="always"||iu.isOnline())&&t.canRun(),v=()=>eE(t.networkMode)&&t.canRun(),_=x=>{l()||(r==null||r(),o.resolve(x))},w=x=>{l()||(r==null||r(),o.reject(x))},T=()=>new Promise(x=>{var A;r=M=>{(l()||p())&&x(M)},(A=t.onPause)==null||A.call(t)}).then(()=>{var x;r=void 0,l()||(x=t.onContinue)==null||x.call(t)}),C=()=>{if(l())return;let x;const A=n===0?t.initialPromise:void 0;try{x=A??t.fn()}catch(M){x=Promise.reject(M)}Promise.resolve(x).then(_).catch(M=>{var Y;if(l())return;const P=t.retry??(Rr?0:3),R=t.retryDelay??nD,O=typeof R=="function"?R(n,M):R,j=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,M);if(e||!j){w(M);return}n++,(Y=t.onFail)==null||Y.call(t,n,M),Kk(O).then(()=>p()?void 0:T()).then(()=>{e?w(M):C()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(r==null||r(),o),cancelRetry:f,continueRetry:m,canStart:v,start:()=>(v()?C():T().then(C),o)}}var wr,W0,nE=(W0=class{constructor(){ce(this,wr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Af(this.gcTime)&&te(this,wr,vr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rr?1/0:300*1e3))}clearGcTimeout(){D(this,wr)&&(vr.clearTimeout(D(this,wr)),te(this,wr,void 0))}},wr=new WeakMap,W0),Er,Ms,cn,Sr,ct,na,Tr,_n,Yn,X0,iD=(X0=class extends nE{constructor(e){super();ce(this,_n);ce(this,Er);ce(this,Ms);ce(this,cn);ce(this,Sr);ce(this,ct);ce(this,na);ce(this,Tr);te(this,Tr,!1),te(this,na,e.defaultOptions),this.setOptions(e.options),this.observers=[],te(this,Sr,e.client),te(this,cn,D(this,Sr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,te(this,Er,V0(this.options)),this.state=e.state??D(this,Er),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=D(this,ct))==null?void 0:e.promise}setOptions(e){if(this.options={...D(this,na),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=V0(this.options);n.data!==void 0&&(this.setState(G0(n.data,n.dataUpdatedAt)),te(this,Er,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,cn).remove(this)}setData(e,n){const r=Nf(this.state.data,e,this.options);return be(this,_n,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){be(this,_n,Yn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,o;const n=(r=D(this,ct))==null?void 0:r.promise;return(o=D(this,ct))==null||o.cancel(e),n?n.then(Pt).catch(Pt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Er))}isActive(){return this.observers.some(e=>dn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ph||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Vi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ww(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=D(this,ct))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=D(this,ct))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),D(this,cn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(D(this,ct)&&(D(this,Tr)?D(this,ct).cancel({revert:!0}):D(this,ct).cancelRetry()),this.scheduleGc()),D(this,cn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,_n,Yn).call(this,{type:"invalidate"})}async fetch(e,n){var m,p,v,_,w,T,C,x,A,M,P,R;if(this.state.fetchStatus!=="idle"&&((m=D(this,ct))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,ct))return D(this,ct).continueRetry(),D(this,ct).promise}if(e&&this.setOptions(e),!this.options.queryFn){const O=this.observers.find(j=>j.options.queryFn);O&&this.setOptions(O.options)}const r=new AbortController,o=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(te(this,Tr,!0),r.signal)})},l=()=>{const O=Zw(this.options,n),Y=(()=>{const K={client:D(this,Sr),queryKey:this.queryKey,meta:this.meta};return o(K),K})();return te(this,Tr,!1),this.options.persister?this.options.persister(O,Y,this):O(Y)},f=(()=>{const O={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,Sr),state:this.state,fetchFn:l};return o(O),O})();(p=this.options.behavior)==null||p.onFetch(f,this),te(this,Ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=f.fetchOptions)==null?void 0:v.meta))&&be(this,_n,Yn).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta}),te(this,ct,tE({initialPromise:n==null?void 0:n.initialPromise,fn:f.fetchFn,onCancel:O=>{O instanceof If&&O.revert&&this.setState({...D(this,Ms),fetchStatus:"idle"}),r.abort()},onFail:(O,j)=>{be(this,_n,Yn).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{be(this,_n,Yn).call(this,{type:"pause"})},onContinue:()=>{be(this,_n,Yn).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const O=await D(this,ct).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(T=(w=D(this,cn).config).onSuccess)==null||T.call(w,O,this),(x=(C=D(this,cn).config).onSettled)==null||x.call(C,O,this.state.error,this),O}catch(O){if(O instanceof If){if(O.silent)return D(this,ct).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw be(this,_n,Yn).call(this,{type:"error",error:O}),(M=(A=D(this,cn).config).onError)==null||M.call(A,O,this),(R=(P=D(this,cn).config).onSettled)==null||R.call(P,this.state.data,O,this),O}finally{this.scheduleGc()}}},Er=new WeakMap,Ms=new WeakMap,cn=new WeakMap,Sr=new WeakMap,ct=new WeakMap,na=new WeakMap,Tr=new WeakMap,_n=new WeakSet,Yn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...iE(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,...G0(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,Ms,e.manual?o:void 0),o;case"error":const l=e.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,cn).notify({query:this,type:"updated",action:e})})},X0);function iE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G0(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function V0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ut,Ae,ia,Ct,Cr,Is,Wn,Li,ra,ks,Ds,br,Ar,Oi,Us,ke,Jo,kf,Df,Uf,Pf,Lf,Of,qf,rE,Z0,rD=(Z0=class extends da{constructor(e,n){super();ce(this,ke);ce(this,Ut);ce(this,Ae);ce(this,ia);ce(this,Ct);ce(this,Cr);ce(this,Is);ce(this,Wn);ce(this,Li);ce(this,ra);ce(this,ks);ce(this,Ds);ce(this,br);ce(this,Ar);ce(this,Oi);ce(this,Us,new Set);this.options=n,te(this,Ut,e),te(this,Li,null),te(this,Wn,Mf()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Ae).addObserver(this),z0(D(this,Ae),this.options)?be(this,ke,Jo).call(this):this.updateResult(),be(this,ke,Pf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bf(D(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bf(D(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,ke,Lf).call(this),be(this,ke,Of).call(this),D(this,Ae).removeObserver(this)}setOptions(e){const n=this.options,r=D(this,Ae);if(this.options=D(this,Ut).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dn(this.options.enabled,D(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,ke,qf).call(this),D(this,Ae).setOptions(this.options),n._defaulted&&!xf(this.options,n)&&D(this,Ut).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Ae),observer:this});const o=this.hasListeners();o&&F0(D(this,Ae),r,this.options,n)&&be(this,ke,Jo).call(this),this.updateResult(),o&&(D(this,Ae)!==r||dn(this.options.enabled,D(this,Ae))!==dn(n.enabled,D(this,Ae))||Vi(this.options.staleTime,D(this,Ae))!==Vi(n.staleTime,D(this,Ae)))&&be(this,ke,kf).call(this);const l=be(this,ke,Df).call(this);o&&(D(this,Ae)!==r||dn(this.options.enabled,D(this,Ae))!==dn(n.enabled,D(this,Ae))||l!==D(this,Oi))&&be(this,ke,Uf).call(this,l)}getOptimisticResult(e){const n=D(this,Ut).getQueryCache().build(D(this,Ut),e),r=this.createResult(n,e);return oD(this,r)&&(te(this,Ct,r),te(this,Is,this.options),te(this,Cr,D(this,Ae).state)),r}getCurrentResult(){return D(this,Ct)}trackResult(e,n){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),n==null||n(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&D(this,Wn).status==="pending"&&D(this,Wn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,o))})}trackProp(e){D(this,Us).add(e)}getCurrentQuery(){return D(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=D(this,Ut).defaultQueryOptions(e),r=D(this,Ut).getQueryCache().build(D(this,Ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return be(this,ke,Jo).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Ct)))}createResult(e,n){var Q;const r=D(this,Ae),o=this.options,l=D(this,Ct),u=D(this,Cr),f=D(this,Is),p=e!==r?e.state:D(this,ia),{state:v}=e;let _={...v},w=!1,T;if(n._optimisticResults){const X=this.hasListeners(),he=!X&&z0(e,n),pe=X&&F0(e,r,n,o);(he||pe)&&(_={..._,...iE(v.data,e.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:C,errorUpdatedAt:x,status:A}=_;T=_.data;let M=!1;if(n.placeholderData!==void 0&&T===void 0&&A==="pending"){let X;l!=null&&l.isPlaceholderData&&n.placeholderData===(f==null?void 0:f.placeholderData)?(X=l.data,M=!0):X=typeof n.placeholderData=="function"?n.placeholderData((Q=D(this,Ds))==null?void 0:Q.state.data,D(this,Ds)):n.placeholderData,X!==void 0&&(A="success",T=Nf(l==null?void 0:l.data,X,n),w=!0)}if(n.select&&T!==void 0&&!M)if(l&&T===(u==null?void 0:u.data)&&n.select===D(this,ra))T=D(this,ks);else try{te(this,ra,n.select),T=n.select(T),T=Nf(l==null?void 0:l.data,T,n),te(this,ks,T),te(this,Li,null)}catch(X){te(this,Li,X)}D(this,Li)&&(C=D(this,Li),T=D(this,ks),x=Date.now(),A="error");const P=_.fetchStatus==="fetching",R=A==="pending",O=A==="error",j=R&&P,Y=T!==void 0,ie={status:A,fetchStatus:_.fetchStatus,isPending:R,isSuccess:A==="success",isError:O,isInitialLoading:j,isLoading:j,data:T,dataUpdatedAt:_.dataUpdatedAt,error:C,errorUpdatedAt:x,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>p.dataUpdateCount||_.errorUpdateCount>p.errorUpdateCount,isFetching:P,isRefetching:P&&!R,isLoadingError:O&&!Y,isPaused:_.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:O&&Y,isStale:gh(e,n),refetch:this.refetch,promise:D(this,Wn),isEnabled:dn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const X=je=>{ie.status==="error"?je.reject(ie.error):ie.data!==void 0&&je.resolve(ie.data)},he=()=>{const je=te(this,Wn,ie.promise=Mf());X(je)},pe=D(this,Wn);switch(pe.status){case"pending":e.queryHash===r.queryHash&&X(pe);break;case"fulfilled":(ie.status==="error"||ie.data!==pe.value)&&he();break;case"rejected":(ie.status!=="error"||ie.error!==pe.reason)&&he();break}}return ie}updateResult(){const e=D(this,Ct),n=this.createResult(D(this,Ae),this.options);if(te(this,Cr,D(this,Ae).state),te(this,Is,this.options),D(this,Cr).data!==void 0&&te(this,Ds,D(this,Ae)),xf(n,e))return;te(this,Ct,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!D(this,Us).size)return!0;const u=new Set(l??D(this,Us));return this.options.throwOnError&&u.add("error"),Object.keys(D(this,Ct)).some(f=>{const m=f;return D(this,Ct)[m]!==e[m]&&u.has(m)})};be(this,ke,rE).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,ke,Pf).call(this)}},Ut=new WeakMap,Ae=new WeakMap,ia=new WeakMap,Ct=new WeakMap,Cr=new WeakMap,Is=new WeakMap,Wn=new WeakMap,Li=new WeakMap,ra=new WeakMap,ks=new WeakMap,Ds=new WeakMap,br=new WeakMap,Ar=new WeakMap,Oi=new WeakMap,Us=new WeakMap,ke=new WeakSet,Jo=function(e){be(this,ke,qf).call(this);let n=D(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Pt)),n},kf=function(){be(this,ke,Lf).call(this);const e=Vi(this.options.staleTime,D(this,Ae));if(Rr||D(this,Ct).isStale||!Af(e))return;const r=Ww(D(this,Ct).dataUpdatedAt,e)+1;te(this,br,vr.setTimeout(()=>{D(this,Ct).isStale||this.updateResult()},r))},Df=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Ae)):this.options.refetchInterval)??!1},Uf=function(e){be(this,ke,Of).call(this),te(this,Oi,e),!(Rr||dn(this.options.enabled,D(this,Ae))===!1||!Af(D(this,Oi))||D(this,Oi)===0)&&te(this,Ar,vr.setInterval(()=>{(this.options.refetchIntervalInBackground||mh.isFocused())&&be(this,ke,Jo).call(this)},D(this,Oi)))},Pf=function(){be(this,ke,kf).call(this),be(this,ke,Uf).call(this,be(this,ke,Df).call(this))},Lf=function(){D(this,br)&&(vr.clearTimeout(D(this,br)),te(this,br,void 0))},Of=function(){D(this,Ar)&&(vr.clearInterval(D(this,Ar)),te(this,Ar,void 0))},qf=function(){const e=D(this,Ut).getQueryCache().build(D(this,Ut),this.options);if(e===D(this,Ae))return;const n=D(this,Ae);te(this,Ae,e),te(this,ia,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},rE=function(e){yt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(D(this,Ct))}),D(this,Ut).getQueryCache().notify({query:D(this,Ae),type:"observerResultsUpdated"})})},Z0);function sD(t,e){return dn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function z0(t,e){return sD(t,e)||t.state.data!==void 0&&Bf(t,e,e.refetchOnMount)}function Bf(t,e,n){if(dn(e.enabled,t)!==!1&&Vi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gh(t,e)}return!1}function F0(t,e,n,r){return(t!==e||dn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gh(t,n)}function gh(t,e){return dn(e.enabled,t)!==!1&&t.isStaleByTime(Vi(e.staleTime,t))}function oD(t,e){return!xf(t.getCurrentResult(),e)}function $0(t){return{onFetch:(e,n)=>{var v,_,w,T,C;const r=e.options,o=(w=(_=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:_.fetchMore)==null?void 0:w.direction,l=((T=e.state.data)==null?void 0:T.pages)||[],u=((C=e.state.data)==null?void 0:C.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const p=async()=>{let x=!1;const A=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},M=Zw(e.options,e.fetchOptions),P=async(R,O,j)=>{if(x)return Promise.reject();if(O==null&&R.pages.length)return Promise.resolve(R);const K=(()=>{const he={client:e.client,queryKey:e.queryKey,pageParam:O,direction:j?"backward":"forward",meta:e.options.meta};return A(he),he})(),ie=await M(K),{maxPages:Q}=e.options,X=j?Qk:Yk;return{pages:X(R.pages,ie,Q),pageParams:X(R.pageParams,O,Q)}};if(o&&l.length){const R=o==="backward",O=R?aD:J0,j={pages:l,pageParams:u},Y=O(r,j);f=await P(j,Y,R)}else{const R=t??l.length;do{const O=m===0?u[0]??r.initialPageParam:J0(r,f);if(m>0&&O==null)break;f=await P(f,O),m++}while(m<R)}return f};e.options.persister?e.fetchFn=()=>{var x,A;return(A=(x=e.options).persister)==null?void 0:A.call(x,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=p}}}function J0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function aD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var sa,Rn,bt,xr,Nn,Ii,e_,lD=(e_=class extends nE{constructor(e){super();ce(this,Nn);ce(this,sa);ce(this,Rn);ce(this,bt);ce(this,xr);te(this,sa,e.client),this.mutationId=e.mutationId,te(this,bt,e.mutationCache),te(this,Rn,[]),this.state=e.state||uD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){D(this,Rn).includes(e)||(D(this,Rn).push(e),this.clearGcTimeout(),D(this,bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){te(this,Rn,D(this,Rn).filter(n=>n!==e)),this.scheduleGc(),D(this,bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){D(this,Rn).length||(this.state.status==="pending"?this.scheduleGc():D(this,bt).remove(this))}continue(){var e;return((e=D(this,xr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,f,m,p,v,_,w,T,C,x,A,M,P,R,O,j,Y,K,ie,Q;const n=()=>{be(this,Nn,Ii).call(this,{type:"continue"})},r={client:D(this,sa),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,xr,tE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(X,he)=>{be(this,Nn,Ii).call(this,{type:"failed",failureCount:X,error:he})},onPause:()=>{be(this,Nn,Ii).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,bt).canRun(this)}));const o=this.state.status==="pending",l=!D(this,xr).canStart();try{if(o)n();else{be(this,Nn,Ii).call(this,{type:"pending",variables:e,isPaused:l}),await((f=(u=D(this,bt).config).onMutate)==null?void 0:f.call(u,e,this,r));const he=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,e,r));he!==this.state.context&&be(this,Nn,Ii).call(this,{type:"pending",context:he,variables:e,isPaused:l})}const X=await D(this,xr).start();return await((_=(v=D(this,bt).config).onSuccess)==null?void 0:_.call(v,X,e,this.state.context,this,r)),await((T=(w=this.options).onSuccess)==null?void 0:T.call(w,X,e,this.state.context,r)),await((x=(C=D(this,bt).config).onSettled)==null?void 0:x.call(C,X,null,this.state.variables,this.state.context,this,r)),await((M=(A=this.options).onSettled)==null?void 0:M.call(A,X,null,e,this.state.context,r)),be(this,Nn,Ii).call(this,{type:"success",data:X}),X}catch(X){try{throw await((R=(P=D(this,bt).config).onError)==null?void 0:R.call(P,X,e,this.state.context,this,r)),await((j=(O=this.options).onError)==null?void 0:j.call(O,X,e,this.state.context,r)),await((K=(Y=D(this,bt).config).onSettled)==null?void 0:K.call(Y,void 0,X,this.state.variables,this.state.context,this,r)),await((Q=(ie=this.options).onSettled)==null?void 0:Q.call(ie,void 0,X,e,this.state.context,r)),X}finally{be(this,Nn,Ii).call(this,{type:"error",error:X})}}finally{D(this,bt).runNext(this)}}},sa=new WeakMap,Rn=new WeakMap,bt=new WeakMap,xr=new WeakMap,Nn=new WeakSet,Ii=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yt.batch(()=>{D(this,Rn).forEach(r=>{r.onMutationUpdate(e)}),D(this,bt).notify({mutation:this,type:"updated",action:e})})},e_);function uD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xn,wn,oa,t_,cD=(t_=class extends da{constructor(e={}){super();ce(this,Xn);ce(this,wn);ce(this,oa);this.config=e,te(this,Xn,new Set),te(this,wn,new Map),te(this,oa,0)}build(e,n,r){const o=new lD({client:e,mutationCache:this,mutationId:++Ml(this,oa)._,options:e.defaultMutationOptions(n),state:r});return this.add(o),o}add(e){D(this,Xn).add(e);const n=Gl(e);if(typeof n=="string"){const r=D(this,wn).get(n);r?r.push(e):D(this,wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(D(this,Xn).delete(e)){const n=Gl(e);if(typeof n=="string"){const r=D(this,wn).get(n);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&D(this,wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Gl(e);if(typeof n=="string"){const r=D(this,wn).get(n),o=r==null?void 0:r.find(l=>l.state.status==="pending");return!o||o===e}else return!0}runNext(e){var r;const n=Gl(e);if(typeof n=="string"){const o=(r=D(this,wn).get(n))==null?void 0:r.find(l=>l!==e&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yt.batch(()=>{D(this,Xn).forEach(e=>{this.notify({type:"removed",mutation:e})}),D(this,Xn).clear(),D(this,wn).clear()})}getAll(){return Array.from(D(this,Xn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>q0(n,r))}findAll(e={}){return this.getAll().filter(n=>q0(e,n))}notify(e){yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pt))))}},Xn=new WeakMap,wn=new WeakMap,oa=new WeakMap,t_);function Gl(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Mn,n_,dD=(n_=class extends da{constructor(e={}){super();ce(this,Mn);this.config=e,te(this,Mn,new Map)}build(e,n,r){const o=n.queryKey,l=n.queryHash??hh(o,n);let u=this.get(l);return u||(u=new iD({client:e,queryKey:o,queryHash:l,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(u)),u}add(e){D(this,Mn).has(e.queryHash)||(D(this,Mn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=D(this,Mn).get(e.queryHash);n&&(e.destroy(),n===e&&D(this,Mn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,Mn).get(e)}getAll(){return[...D(this,Mn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>O0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>O0(e,r)):n}notify(e){yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mn=new WeakMap,n_),We,qi,Bi,Ps,Ls,Hi,Os,qs,i_,fD=(i_=class{constructor(t={}){ce(this,We);ce(this,qi);ce(this,Bi);ce(this,Ps);ce(this,Ls);ce(this,Hi);ce(this,Os);ce(this,qs);te(this,We,t.queryCache||new dD),te(this,qi,t.mutationCache||new cD),te(this,Bi,t.defaultOptions||{}),te(this,Ps,new Map),te(this,Ls,new Map),te(this,Hi,0)}mount(){Ml(this,Hi)._++,D(this,Hi)===1&&(te(this,Os,mh.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,We).onFocus())})),te(this,qs,iu.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,We).onOnline())})))}unmount(){var t,e;Ml(this,Hi)._--,D(this,Hi)===0&&((t=D(this,Os))==null||t.call(this),te(this,Os,void 0),(e=D(this,qs))==null||e.call(this),te(this,qs,void 0))}isFetching(t){return D(this,We).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,qi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,We).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=D(this,We).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Vi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return D(this,We).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=D(this,We).get(r.queryHash),l=o==null?void 0:o.state.data,u=Jk(e,l);if(u!==void 0)return D(this,We).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return yt.batch(()=>D(this,We).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,We).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=D(this,We);yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=D(this,We);return yt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=yt.batch(()=>D(this,We).findAll(t).map(o=>o.cancel(n)));return Promise.all(r).then(Pt).catch(Pt)}invalidateQueries(t,e={}){return yt.batch(()=>(D(this,We).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=yt.batch(()=>D(this,We).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(Pt)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(Pt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=D(this,We).build(this,e);return n.isStaleByTime(Vi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pt).catch(Pt)}fetchInfiniteQuery(t){return t.behavior=$0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pt).catch(Pt)}ensureInfiniteQueryData(t){return t.behavior=$0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return iu.isOnline()?D(this,qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,We)}getMutationCache(){return D(this,qi)}getDefaultOptions(){return D(this,Bi)}setDefaultOptions(t){te(this,Bi,t)}setQueryDefaults(t,e){D(this,Ps).set(ea(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,Ps).values()],n={};return e.forEach(r=>{ta(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){D(this,Ls).set(ea(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,Ls).values()],n={};return e.forEach(r=>{ta(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,Bi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ph&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,Bi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,We).clear(),D(this,qi).clear()}},We=new WeakMap,qi=new WeakMap,Bi=new WeakMap,Ps=new WeakMap,Ls=new WeakMap,Hi=new WeakMap,Os=new WeakMap,qs=new WeakMap,i_),sE=k.createContext(void 0),oE=t=>{const e=k.useContext(sE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hD=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(sE.Provider,{value:t,children:e})),aE=k.createContext(!1),pD=()=>k.useContext(aE);aE.Provider;function mD(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gD=k.createContext(mD()),yD=()=>k.useContext(gD),vD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_D=t=>{k.useEffect(()=>{t.clearReset()},[t])},wD=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||Wk(n,[t.error,r])),ED=t=>{if(t.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},SD=(t,e)=>t.isLoading&&t.isFetching&&!e,TD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,j0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function CD(t,e,n){var _,w,T,C,x;const r=pD(),o=yD(),l=oE(),u=l.defaultQueryOptions(t);(w=(_=l.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||w.call(_,u),u._optimisticResults=r?"isRestoring":"optimistic",ED(u),vD(u,o),_D(o);const f=!l.getQueryCache().get(u.queryHash),[m]=k.useState(()=>new e(l,u)),p=m.getOptimisticResult(u),v=!r&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(A=>{const M=v?m.subscribe(yt.batchCalls(A)):Pt;return m.updateResult(),M},[m,v]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),k.useEffect(()=>{m.setOptions(u)},[u,m]),TD(u,p))throw j0(u,m,o);if(wD({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if((C=(T=l.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||C.call(T,u,p),u.experimental_prefetchInRender&&!Rr&&SD(p,r)){const A=f?j0(u,m,o):(x=l.getQueryCache().get(u.queryHash))==null?void 0:x.promise;A==null||A.catch(Pt).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?p:m.trackResult(p)}function lE(t,e){return CD(t,rD)}const bD=async t=>{const[e,n,r]=await Promise.all([Lt.from("students").select("id, name, class_id").eq("user_id",t),Lt.from("classes").select("id, name").eq("user_id",t),Lt.from("schedules").select("id, subject, class_id, day").eq("user_id",t)]);if(e.error)throw e.error;if(n.error)throw n.error;if(r.error)throw r.error;const o=(e.data||[]).reduce((l,u)=>(l[u.class_id]=(l[u.class_id]||0)+1,l),{});return{students:e.data||[],classes:(n.data||[]).map(l=>({...l,studentCount:o[l.id]||0})),schedules:r.data||[]}},AD=({isOpen:t,setIsOpen:e})=>{const{user:n}=ca(),r=lu(),[o,l]=k.useState(""),[u,f]=k.useState(0),m=k.useRef(null),p=k.useRef(null),{data:v}=lE({queryKey:["globalSearchData",n==null?void 0:n.id],queryFn:()=>bD(n.id),enabled:!!n&&t,staleTime:1e3*60*5}),_=k.useMemo(()=>{if(!o.trim()||!v)return{students:[],classes:[],schedules:[]};const C=o.toLowerCase(),x=v.students.filter(P=>P.name.toLowerCase().includes(C)).slice(0,5),A=v.classes.filter(P=>P.name.toLowerCase().includes(C)).slice(0,3),M=v.schedules.filter(P=>P.subject.toLowerCase().includes(C)).slice(0,3);return{students:x,classes:A,schedules:M}},[o,v]),w=k.useMemo(()=>[..._.students.map(C=>({type:"Siswa",...C,path:`/siswa/${C.id}`,icon:yu})),..._.classes.map(C=>({type:"Kelas",...C,path:"/siswa",icon:$w})),..._.schedules.map(C=>({type:"Jadwal",...C,path:"/jadwal",icon:Uk}))],[_]);k.useEffect(()=>{var C;t?(C=m.current)==null||C.focus():(l(""),f(0))},[t]),k.useEffect(()=>{f(0)},[o]),k.useEffect(()=>{if(p.current){const C=p.current.querySelector(`[data-index="${u}"]`);C&&C.scrollIntoView({block:"nearest"})}},[u]);const T=C=>{w.length!==0&&(C.key==="ArrowDown"?(C.preventDefault(),f(x=>(x+1)%w.length)):C.key==="ArrowUp"?(C.preventDefault(),f(x=>(x-1+w.length)%w.length)):C.key==="Enter"&&(C.preventDefault(),w[u]&&(r(w[u].path),e(!1))))};return t?S.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:()=>e(!1),children:S.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-2xl w-full max-w-2xl mx-auto mt-[15vh] animate-fade-in-up flex flex-col",onClick:C=>C.stopPropagation(),children:[S.jsxs("div",{className:"relative",onKeyDown:T,children:[S.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:S.jsx(bf,{className:"h-5 w-5 text-gray-400"})}),S.jsx("input",{ref:m,type:"text",placeholder:"Cari siswa, kelas, atau jadwal...",value:o,onChange:C=>l(C.target.value),className:"w-full h-14 bg-transparent pl-12 pr-4 text-base md:text-lg border-b border-gray-200 dark:border-gray-700 focus:outline-none","aria-label":"Kotak Pencarian Global"})]}),S.jsxs("div",{className:"p-2 md:p-4 max-h-[50vh] overflow-y-auto",ref:p,children:[o.trim()&&w.length===0&&S.jsxs("div",{className:"text-center py-10 text-gray-500",children:[S.jsx("p",{className:"font-semibold",children:"Tidak ada hasil ditemukan"}),S.jsx("p",{className:"text-sm",children:"Coba kata kunci yang berbeda."})]}),w.length>0&&S.jsx("div",{className:"space-y-1",children:w.map((C,x)=>{const A=x===u,M=C.icon,P=C.type==="Jadwal"?C.subject:C.name,R=C.type==="Kelas"?`${C.studentCount} siswa`:C.type;return S.jsxs(cu,{to:C.path,onClick:()=>e(!1),className:`flex items-center gap-4 p-3 rounded-lg cursor-pointer transition-colors ${A?"bg-blue-500/10 dark:bg-blue-500/20":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,"aria-current":A,"data-index":x,children:[S.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center ${A?"bg-blue-100 dark:bg-blue-900/40":"bg-gray-100 dark:bg-gray-700/50"}`,children:S.jsx(M,{className:`w-5 h-5 ${A?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`})}),S.jsxs("div",{className:"flex-1 overflow-hidden",children:[S.jsx("p",{className:`font-semibold truncate ${A?"text-blue-600 dark:text-blue-400":"text-gray-800 dark:text-gray-200"}`,children:P}),S.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:R})]})]},`${C.type}-${C.id}`)})})]}),S.jsxs("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:["Gunakan ",S.jsx("kbd",{className:"font-sans rounded bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5",children:""})," ",S.jsx("kbd",{className:"font-sans rounded bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5",children:""})," untuk navigasi dan ",S.jsx("kbd",{className:"font-sans rounded bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5",children:"Enter"})," untuk memilih."]})]})}):null},xD=({isOpen:t,onClose:e,title:n,children:r,icon:o})=>(k.useEffect(()=>{const l=u=>{u.key==="Escape"&&e()};return t&&document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[t,e]),t?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:e,children:S.jsx("div",{className:"relative w-full max-w-lg mx-4 animate-fade-in-up modal-glow-border",onClick:l=>l.stopPropagation(),children:S.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl shadow-2xl border border-gray-200/20 dark:border-gray-700/50",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-br from-purple-600 to-blue-500 opacity-10 dark:opacity-20 pointer-events-none"}),S.jsx("div",{className:"relative p-6 border-b border-gray-200/80 dark:border-gray-800/60",children:S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[o&&S.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-blue-500 text-white shadow-lg",children:o}),S.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:n})]}),S.jsx(ni,{variant:"ghost",size:"icon",onClick:e,"aria-label":"Tutup modal",className:"rounded-full text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}),S.jsx("div",{className:"p-6",children:r})]})})}):null),uE=ou.forwardRef(({className:t,error:e,...n},r)=>S.jsxs("div",{className:"w-full",children:[S.jsx("input",{className:`flex h-10 w-full rounded-md border border-gray-300 bg-transparent dark:border-gray-600 dark:bg-black/20 dark:placeholder:text-gray-400 dark:focus:bg-black/30 py-2 px-3 text-sm text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 dark:focus:ring-offset-gray-950 disabled:cursor-not-allowed disabled:opacity-50 ${e?"border-red-500 focus:border-red-500 focus:ring-red-500":""} ${t}`,ref:r,"aria-invalid":!!e,"aria-describedby":e?`${n.id}-error`:void 0,...n}),e&&S.jsx("p",{id:`${n.id}-error`,className:"text-red-500 text-xs mt-1",role:"alert",children:e})]}));uE.displayName="Input";const RD=async t=>{const e=new Date().toISOString().split("T")[0],[n,r,o,l]=await Promise.all([Lt.from("students").select("id, name, class_id").eq("user_id",t),Lt.from("classes").select("id, name").eq("user_id",t),Lt.from("attendance").select("status, students(name)").eq("user_id",t).eq("date",e),Lt.from("tasks").select("title, status, due_date").eq("user_id",t)]);return{students:n.data,classes:r.data,attendance:o.data,tasks:l.data}},ND=({isOpen:t,setIsOpen:e})=>{const{user:n}=ca(),[r,o]=k.useState(null),[l,u]=k.useState([]),[f,m]=k.useState(""),[p,v]=k.useState(!1),_=k.useRef(null),{data:w}=lE({queryKey:["aiContextData",n==null?void 0:n.id],queryFn:()=>RD(n.id),enabled:!!n&&t,staleTime:300*1e3});k.useEffect(()=>{if(t){const M=Ek.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:'Anda adalah "Asisten Cerdas", sebuah AI yang ramah dan sangat membantu untuk guru. Tugas Anda adalah menjawab pertanyaan guru tentang data mereka seakurat mungkin. Anda akan diberikan data dalam format JSON sebagai konteks. Gunakan data ini untuk menjawab pertanyaan. Jika Anda bisa memberikan jawaban langsung (seperti daftar nama), lakukan itu. Jika pertanyaannya kompleks, berikan ringkasan dan sarankan guru untuk melihat halaman terkait. Selalu sapa dengan ramah dan jaga nada percakapan yang positif. Jawab dalam Bahasa Indonesia.'}});o(M),u([{role:"model",text:"Halo Guru! Ada yang bisa saya bantu hari ini? Anda bisa bertanya tentang siswa, absensi hari ini, atau tugas Anda."}])}else u([]),m("")},[t]),k.useEffect(()=>{var A;(A=_.current)==null||A.scrollIntoView({behavior:"smooth"})},[l]);const T=async A=>{if(!A.trim()||!r||p)return;const M={role:"user",text:A};u(R=>[...R,M]),v(!0),f&&m("");const P=`
            KONTEKS DATA (saat ini): ${JSON.stringify(w)}
            
            PERTANYAAN PENGGUNA: ${A}
        `;try{const O={role:"model",text:(await r.sendMessage({message:P})).text||""};u(j=>[...j,O])}catch(R){console.error("AI Assistant Error:",R);const O={role:"model",text:"Maaf, terjadi sedikit gangguan. Bisakah Anda mencoba lagi?"};u(j=>[...j,O])}finally{v(!1)}},C=A=>{A.preventDefault(),T(f)},x=["Siswa mana yang alpha hari ini?","Tampilkan tugas yang belum selesai.","Berapa jumlah total siswa saya?"];return S.jsx(xD,{isOpen:t,onClose:()=>e(!1),title:"Asisten Cerdas",icon:S.jsx(Jw,{className:"h-5 w-5"}),children:S.jsxs("div",{className:"flex flex-col h-[60vh]",children:[S.jsxs("div",{ref:_,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[l.map((A,M)=>S.jsxs("div",{className:`flex items-start gap-3 ${A.role==="user"?"justify-end":""}`,children:[A.role==="model"&&S.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white",children:S.jsx(L0,{className:"w-5 h-5"})}),S.jsx("div",{className:`max-w-xs md:max-w-md p-3 rounded-2xl text-sm ${A.role==="user"?"bg-blue-500 text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-bl-none border border-gray-200 dark:border-gray-600"}`,children:S.jsx("p",{className:"whitespace-pre-wrap",children:A.text})}),A.role==="user"&&S.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center text-gray-500 dark:text-gray-300",children:S.jsx(yu,{className:"w-5 h-5"})})]},M)),p&&S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white",children:S.jsx(L0,{className:"w-5 h-5"})}),S.jsx("div",{className:"max-w-xs md:max-w-md p-3 rounded-2xl bg-white dark:bg-gray-700 rounded-bl-none border border-gray-200 dark:border-gray-600",children:S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse-fast"}),S.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse-fast animation-delay-200"}),S.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse-fast animation-delay-400"})]})})]}),!p&&l.length===1&&S.jsx("div",{className:"flex flex-wrap gap-2 justify-start pl-11",children:x.map(A=>S.jsx("button",{onClick:()=>T(A),className:"px-3 py-1.5 bg-gray-200 dark:bg-gray-700/80 text-xs text-gray-700 dark:text-gray-200 rounded-full hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:A},A))})]}),S.jsxs("form",{onSubmit:C,className:"mt-4 flex gap-2",children:[S.jsx(uE,{type:"text",value:f,onChange:A=>m(A.target.value),placeholder:"Ketik pertanyaan Anda...",disabled:p,className:"flex-1"}),S.jsx(ni,{type:"submit",disabled:p||!f.trim(),children:p?"...":"Kirim"})]})]})})},cE=()=>{const[t,e]=k.useState(()=>typeof navigator<"u"?navigator.onLine:!0);return k.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t},ru="supabase-offline-queue",Jl=()=>{try{const t=localStorage.getItem(ru);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to read offline queue from localStorage",t),localStorage.removeItem(ru),[]}},KU=t=>{const e=Jl(),n={...t,id:`${Date.now()}-${Math.random()}`};e.push(n),localStorage.setItem(ru,JSON.stringify(e)),window.dispatchEvent(new Event("storage"))},MD=()=>{localStorage.removeItem(ru),window.dispatchEvent(new Event("storage"))},ID=()=>{const t=oE(),e=cE(),n=Gk(),[r,o]=k.useState(Jl().length),[l,u]=k.useState(!1),f=k.useCallback(()=>{o(Jl().length)},[]);k.useEffect(()=>(window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)),[f]);const m=k.useCallback(async()=>{if(!e||l)return;const p=Jl();if(p.length===0)return;u(!0),n.info(`Menyinkronkan ${p.length} perubahan offline...`);const v=p.map(async _=>{const{table:w,operation:T,payload:C,onConflict:x}=_;let A=Lt.from(w);switch(T){case"insert":return A.insert(C);case"update":const M=Array.isArray(C)?C:[C];return Promise.all(M.map(P=>A.update(P).eq("id",P.id)));case"upsert":return A.upsert(C,x?{onConflict:x}:{});case"delete":return A.delete().eq("id",C.id);default:return console.error(`Unknown operation in queue: ${T}`),Promise.reject(new Error(`Unknown operation: ${T}`))}});try{const T=(await Promise.all(v)).flat().filter(C=>C&&C.error);if(T.length>0)throw new Error(T.map(C=>{var x;return(x=C.error)==null?void 0:x.message}).join(", "));MD(),n.success("Semua data offline berhasil disinkronkan!"),await t.invalidateQueries()}catch(_){n.error(`Gagal sinkronisasi: ${_.message}`),console.error("Sync failed:",_)}finally{u(!1),f()}},[e,l,t,n,f]);return k.useEffect(()=>{e&&m()},[e,m]),{pendingCount:r,isSyncing:l}},kD=()=>S.jsxs("svg",{width:"180",height:"180",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:[S.jsxs("defs",{children:[S.jsxs("radialGradient",{id:"grad1",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#a855f7",stopOpacity:1}})," ",S.jsx("stop",{offset:"100%",style:{stopColor:"#6366F1",stopOpacity:1}})," "]}),S.jsxs("linearGradient",{id:"grad2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[S.jsx("stop",{offset:"0%",style:{stopColor:"#9333ea",stopOpacity:1}})," ",S.jsx("stop",{offset:"100%",style:{stopColor:"#3730a3",stopOpacity:1}})," "]}),S.jsx("filter",{id:"head-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:S.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"5",floodColor:"#3730a3",floodOpacity:"0.4"})}),S.jsx("style",{children:`
                .eye-blink {
                    animation: eye-blink 3s infinite ease-in-out;
                    transform-origin: center;
                }
                @keyframes eye-blink {
                    0%, 90%, 100% { transform: scaleY(1); }
                    95% { transform: scaleY(0.1); }
                }
                .antenna-glow {
                    animation: antenna-glow 2s infinite alternate;
                }
                @keyframes antenna-glow {
                    from { fill: '#d946ef'; } /* fuchsia-500 */
                    to { fill: '#f0abfc'; } /* fuchsia-400 */
                }
                `})]}),S.jsx("rect",{x:"90",y:"95",width:"20",height:"15",fill:"#7c3aed"})," ",S.jsx("path",{d:"M50 110 H150 A20 20 0 0 1 170 130 V170 A20 20 0 0 1 150 190 H50 A20 20 0 0 1 30 170 V130 A20 20 0 0 1 50 110 Z",fill:"url(#grad2)",stroke:"#312e81",strokeWidth:"2"})," ",S.jsx("rect",{x:"65",y:"125",width:"70",height:"40",rx:"10",fill:"#111827"})," ",S.jsx("text",{x:"100",y:"150",fontFamily:"monospace",fontSize:"14",fill:"#a5b4fc",textAnchor:"middle",children:"Hi, Guru!"}),S.jsx("circle",{cx:"100",cy:"70",r:"50",fill:"url(#grad1)",stroke:"#4338ca",strokeWidth:"2",filter:"url(#head-shadow)"})," ",S.jsx("path",{d:"M60,65 Q100,50 140,65 L140,85 Q100,100 60,85 Z",fill:"#111827",opacity:"0.8"})," ",S.jsx("circle",{cx:"80",cy:"75",r:"8",fill:"#22d3ee",className:"eye-blink",style:{animationDelay:"0.2s"}})," ",S.jsx("circle",{cx:"120",cy:"75",r:"8",fill:"#22d3ee",className:"eye-blink"}),S.jsx("line",{x1:"100",y1:"20",x2:"100",y2:"0",stroke:"#7c3aed",strokeWidth:"4"})," ",S.jsx("circle",{cx:"100",cy:"0",r:"8",className:"antenna-glow"})]}),DD=({userName:t,onAnimationEnd:e})=>{const[n,r]=k.useState("entering"),[o,l]=k.useState(!1);k.useEffect(()=>{const m=setTimeout(()=>{r("greeting"),l(!0)},1200),p=setTimeout(()=>{l(!1)},4700),v=setTimeout(()=>{r("leaving")},5e3),_=setTimeout(()=>{e()},6200);return()=>{clearTimeout(m),clearTimeout(p),clearTimeout(v),clearTimeout(_)}},[e]);const u="fixed top-0 left-1/2 -translate-x-1/2 z-50 flex flex-col items-center transition-transform transform-gpu",f={entering:"animate-slide-down",greeting:"animate-float",leaving:"animate-slide-up"};return S.jsxs("div",{className:`${u} ${f[n]}`,children:[S.jsx("div",{className:"relative",children:S.jsx(kD,{})}),o&&S.jsxs("div",{className:"relative mt-[-20px] p-4 bg-white dark:bg-gray-800 rounded-xl shadow-lg animate-fade-in text-center border border-gray-200 dark:border-gray-700",children:[S.jsxs("p",{className:"font-semibold text-lg text-gray-800 dark:text-gray-100",children:["Selamat Datang, ",t,"!"]}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Siap untuk mengajar hari ini?"}),S.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-white dark:bg-gray-800 transform rotate-45 border-t border-l border-gray-200 dark:border-gray-700"})]})]})},UD=[{href:"/dashboard",label:"Dashboard",icon:Vw},{href:"/absensi",label:"Absensi",icon:Fw},{href:"/siswa",label:"Siswa",icon:yu},{href:"/jadwal",label:"Jadwal",icon:zw},{href:"/tugas",label:"Tugas",icon:Kw},{href:"/input-massal",label:"Input Massal",icon:Yw},{href:"/pengaturan",label:"Pengaturan",icon:Dk}],PD=[{href:"/dashboard",label:"Home",icon:Vw},{href:"/absensi",label:"Absensi",icon:Fw},{href:"/jadwal",label:"Jadwal",icon:zw},{href:"/tugas",label:"Tugas",icon:Kw},{href:"/siswa",label:"Siswa",icon:yu},{href:"/input-massal",label:"Input",icon:Yw}],LD=({onLinkClick:t})=>{const e=lu(),{user:n,logout:r}=ca(),o=async()=>{t&&t(),await r(),e("/",{replace:!0})};return S.jsxs("aside",{className:"relative w-72 flex-shrink-0 bg-[#0f172a] text-white overflow-hidden font-sans border-r border-white/5",children:[S.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/50 via-slate-900 to-slate-950 z-0"}),S.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-purple-600/30 rounded-full blur-3xl z-0"}),S.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-indigo-600/20 rounded-full blur-3xl z-0"}),S.jsxs("div",{className:"relative z-10 flex flex-col h-full p-5",children:[S.jsxs("div",{className:"flex items-center gap-4 px-2 mb-10 mt-2",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute inset-0 bg-purple-500 blur-lg opacity-50 group-hover:opacity-75 transition-opacity"}),S.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl rounded-2xl border border-white/20 flex items-center justify-center shadow-inner",children:S.jsx($w,{className:"w-7 h-7 text-white drop-shadow-md"})})]}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-white to-purple-200",children:"Guru Cerdas"}),S.jsx("p",{className:"text-xs font-medium text-indigo-200/80 tracking-wide",children:"Asisten Digital Anda"})]})]}),S.jsxs("div",{className:"mb-8 p-4 rounded-2xl bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-md border border-white/10 shadow-xl relative overflow-hidden group",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),S.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-500 to-indigo-500 rounded-full blur-sm opacity-70"}),S.jsx("img",{className:"relative h-12 w-12 rounded-full object-cover border-2 border-white/20 shadow-md",src:n==null?void 0:n.avatarUrl,alt:"User avatar"})]}),S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("p",{className:"font-bold text-base text-white truncate",children:n==null?void 0:n.name}),S.jsx("p",{className:"text-xs text-indigo-200 truncate opacity-80",children:n==null?void 0:n.email})]})]})]}),S.jsx("nav",{className:"flex-1 space-y-1.5",children:UD.map(l=>S.jsx(Yf,{to:l.href,end:l.href==="/dashboard",onClick:t,className:({isActive:u})=>`relative flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-300 group overflow-hidden ${u?"text-white shadow-lg shadow-purple-900/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:({isActive:u})=>S.jsxs(S.Fragment,{children:[u&&S.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 z-0"}),S.jsx(l.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-300 ${u?"scale-110":"group-hover:scale-110"}`}),S.jsx("span",{className:`relative z-10 font-medium tracking-wide ${u?"font-semibold":""}`,children:l.label}),u&&S.jsx("div",{className:"absolute right-3 w-1.5 h-1.5 rounded-full bg-white shadow-glow animate-pulse z-10"})]})},l.href))}),S.jsx("div",{className:"mt-auto pt-6 border-t border-white/10",children:S.jsxs("button",{onClick:o,className:"flex items-center w-full gap-4 px-4 py-3.5 text-slate-400 rounded-xl hover:bg-red-500/10 hover:text-red-400 transition-all duration-300 group",children:[S.jsx(Ak,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),S.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})},OD=({children:t})=>{const{user:e}=ca(),{pendingCount:n,isSyncing:r}=ID(),[o,l]=k.useState(!1),[u,f]=k.useState(!1),[m,p]=k.useState(!1),[v,_]=k.useState(()=>typeof sessionStorage<"u"?!sessionStorage.getItem("greeted"):!1);k.useEffect(()=>{const T=C=>{(C.metaKey||C.ctrlKey)&&C.key==="k"&&(C.preventDefault(),l(!0))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[]),k.useEffect(()=>(window.toggleAiChat=()=>f(T=>!T),window.toggleSearch=()=>l(!0),()=>{delete window.toggleAiChat,delete window.toggleSearch}),[]),k.useEffect(()=>{const T=()=>{const x=document.querySelector('nav[class*="bottom-0"]');if(x&&window.innerWidth<1024){const A="position: fixed !important; bottom: 0 !important; left: 0 !important; right: 0 !important; z-index: 30 !important; display: flex !important; visibility: visible !important; opacity: 1 !important; transform: translateY(0) !important;";x.style.cssText=A}};T();const C=setInterval(T,1e3);return window.addEventListener("resize",T),window.addEventListener("orientationchange",T),()=>{clearInterval(C),window.removeEventListener("resize",T),window.removeEventListener("orientationchange",T)}},[]);const w=()=>{_(!1),typeof sessionStorage<"u"&&sessionStorage.setItem("greeted","true")};return S.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-950 overflow-hidden",children:[v&&e&&S.jsx(DD,{userName:e.name,onAnimationEnd:w}),m&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!1)}),S.jsx("div",{className:`fixed lg:static inset-y-0 left-0 z-50 transform transition-transform duration-300 lg:translate-x-0 ${m?"translate-x-0":"-translate-x-full"}`,children:S.jsx(LD,{onLinkClick:()=>p(!1)})}),S.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[S.jsxs("header",{className:"h-16 bg-white/80 dark:bg-gray-950/70 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-800/50 flex items-center justify-between px-4 sticky top-0 z-20",children:[S.jsx("button",{onClick:()=>p(!0),className:"lg:hidden flex items-center justify-center w-12 h-12 -ml-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors active:scale-95","aria-label":"Open menu",children:S.jsx("svg",{className:"w-6 h-6 text-gray-700 dark:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),S.jsxs(ni,{variant:"outline",onClick:()=>l(!0),className:"hidden sm:flex items-center justify-center gap-2 h-10 px-4 text-gray-600 dark:text-gray-300",children:[S.jsx(bf,{className:"w-5 h-5"}),S.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Cari Siswa..."})]}),S.jsx("button",{onClick:()=>l(!0),className:"sm:hidden flex items-center justify-center w-12 h-12 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors active:scale-95","aria-label":"Search",children:S.jsx(bf,{className:"w-6 h-6 text-gray-700 dark:text-gray-200"})}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("div",{className:"flex items-center justify-center w-12 h-12",children:S.jsx(Vk,{})}),S.jsxs("div",{className:"hidden sm:flex items-center justify-center gap-2 px-2 h-10",children:[S.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-blue-500 animate-pulse":n>0?"bg-yellow-500":"bg-green-500"}`}),S.jsx("span",{className:"hidden md:inline text-sm font-medium text-gray-600 dark:text-gray-300",children:n>0?n:""})]}),S.jsx(ni,{variant:"ghost",size:"icon",onClick:()=>f(T=>!T),className:"flex items-center justify-center w-12 h-12 rounded-xl hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors active:scale-95","aria-label":"Open AI Chat",children:S.jsx(Jw,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),S.jsx(cu,{to:"/pengaturan",className:"flex items-center justify-center w-12 h-12 rounded-full transition-transform hover:scale-105 active:scale-95 ml-1","aria-label":"Settings",children:S.jsx("img",{className:"w-10 h-10 rounded-full object-cover ring-2 ring-offset-2 ring-sky-500 dark:ring-purple-500 shadow-sm",src:e==null?void 0:e.avatarUrl,alt:"User avatar"})})]})]}),S.jsx("main",{className:"flex-1 overflow-y-auto pb-16 lg:pb-0",children:t}),S.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-30 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-t border-gray-200/50 dark:border-gray-800/50 shadow-[0_-2px_10px_rgba(0,0,0,0.05)]",children:S.jsx("div",{className:"w-full grid grid-cols-6 items-center justify-items-center h-16 px-1 safe-area-inset-bottom",children:PD.map(T=>S.jsx(Yf,{to:T.href,end:T.href==="/dashboard",className:({isActive:C})=>`flex flex-col items-center justify-center gap-1 w-full h-full rounded-xl transition-all duration-200 active:scale-95 ${C?"text-sky-600 dark:text-purple-400":"text-gray-500 dark:text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:({isActive:C})=>S.jsxs(S.Fragment,{children:[S.jsx(T.icon,{className:`w-6 h-6 transition-transform ${C?"scale-110":"scale-100"}`}),S.jsx("span",{className:`text-[9px] leading-tight font-medium ${C?"font-bold":""}`,children:T.label})]})},T.href))})})]}),S.jsx(AD,{isOpen:o,setIsOpen:l}),S.jsx(ND,{isOpen:u,setIsOpen:f})]})},qD=()=>{const[t,e]=k.useState(null),[n,r]=k.useState(!1);k.useEffect(()=>{const u=f=>{f.preventDefault(),e(f),sessionStorage.getItem("pwa-prompt-dismissed")||r(!0)};return window.addEventListener("beforeinstallprompt",u),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const o=()=>{t&&(t.prompt(),t.userChoice.then(u=>{u.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),e(null),r(!1)}))},l=()=>{r(!1),sessionStorage.setItem("pwa-prompt-dismissed","true")};return!n||!t?null:S.jsx("div",{className:"fixed bottom-20 lg:bottom-4 left-4 right-4 lg:left-1/2 lg:-translate-x-1/2 lg:w-full lg:max-w-lg z-[60] animate-slide-up",children:S.jsxs("div",{className:"bg-gradient-to-r from-sky-600 to-blue-600 dark:from-purple-600 dark:to-blue-600 backdrop-blur-lg text-white rounded-2xl shadow-2xl p-4 flex flex-col sm:flex-row items-start sm:items-center gap-3 border border-white/20",children:[S.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[S.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:S.jsx(Pk,{className:"w-6 h-6"})}),S.jsxs("div",{className:"flex-grow min-w-0",children:[S.jsx("p",{className:"font-bold text-base",children:"Install Aplikasi Manajemen Guru"}),S.jsx("p",{className:"text-xs sm:text-sm text-white/90 mt-0.5",children:"Akses cepat, bekerja offline, notifikasi real-time"})]})]}),S.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[S.jsx(ni,{size:"sm",variant:"ghost",onClick:l,className:"flex-1 sm:flex-none bg-white/10 hover:bg-white/20 text-white border-white/20",children:"Nanti"}),S.jsx(ni,{size:"sm",onClick:o,className:"flex-1 sm:flex-none bg-white text-sky-600 dark:text-purple-600 hover:bg-white/90",children:"Install"})]})]})})};class BD extends ou.Component{constructor(){super(...arguments);_y(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){return this.state.hasError?S.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-950 text-center p-8",children:S.jsxs("div",{className:"max-w-md w-full",children:[S.jsx("div",{className:"flex justify-center mb-6",children:S.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-100 to-orange-200 dark:from-red-900/50 dark:to-orange-900/70 rounded-full flex items-center justify-center",children:S.jsx(jw,{className:"w-12 h-12 text-red-600 dark:text-red-400"})})}),S.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Oops! Terjadi Kesalahan."}),S.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Kami menemukan galat yang tidak terduga. Silakan coba muat ulang halaman. Jika masalah berlanjut, hubungi dukungan."}),S.jsx(ni,{onClick:()=>window.location.reload(),className:"mt-8 bg-gradient-to-r from-red-600 to-orange-500 hover:shadow-lg hover:shadow-red-500/40 text-white font-semibold transition-all duration-300 hover:-translate-y-0.5",children:"Muat Ulang Halaman"}),this.state.error&&S.jsxs("details",{className:"mt-6 text-left bg-gray-200 dark:bg-gray-800 p-4 rounded-lg",children:[S.jsx("summary",{className:"cursor-pointer font-semibold",children:"Detail Error"}),S.jsx("pre",{className:"mt-2 text-sm whitespace-pre-wrap",children:this.state.error.message})]})]})}):this.props.children}}const HD=()=>cE()?null:S.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-yellow-400 dark:bg-yellow-500 text-gray-900 dark:text-black p-3 text-center text-sm font-semibold z-50 flex items-center justify-center gap-2 animate-fade-in",role:"status",children:[S.jsx(jw,{className:"w-5 h-5"}),S.jsx("span",{children:"Anda sedang offline. Beberapa fitur mungkin dinonaktifkan."})]}),GD=k.lazy(()=>Wt(()=>import("./RoleSelectionPage-Dv6D_Wr0.js"),[])),VD=k.lazy(()=>Wt(()=>import("./LoginPage-Mm8MVtV-.js"),__vite__mapDeps([0,1]))),zD=k.lazy(()=>Wt(()=>import("./DashboardPage-AUWQ64Yu.js"),__vite__mapDeps([2,3,4,5,6,7,8]))),FD=k.lazy(()=>Wt(()=>import("./AttendancePage-DxjNnRaq.js"),__vite__mapDeps([9,8,10,11]))),$D=k.lazy(()=>Wt(()=>import("./StudentsPage-OxGN4gLx.js"),__vite__mapDeps([12,6,10,4,3,5,8]))),JD=k.lazy(()=>Wt(()=>import("./StudentDetailPage-C5mzsruK.js"),__vite__mapDeps([13,3,6,5,14,15,7,1,10]))),jD=k.lazy(()=>Wt(()=>import("./SchedulePage-BINCtxsl.js"),__vite__mapDeps([16,7,17,10,11,18]))),KD=k.lazy(()=>Wt(()=>import("./SettingsPage-BCTCVfcy.js"),__vite__mapDeps([19,3,18,14]))),YD=k.lazy(()=>Wt(()=>import("./TasksPage-PYpkzfEh.js"),__vite__mapDeps([20,10,21,7,17]))),QD=k.lazy(()=>Wt(()=>import("./ReportPage-DZYzRNgA.js"),__vite__mapDeps([22,23,11,7]))),WD=k.lazy(()=>Wt(()=>import("./MassInputPage-BX-g-n_D.js"),__vite__mapDeps([24,10,15,11,23,6,21]))),XD=k.lazy(()=>Wt(()=>import("./PortalLoginPage-CfYAdY-F.js"),[])),ZD=k.lazy(()=>Wt(()=>import("./ParentPortalPage-BayTBpdl.js"),__vite__mapDeps([25,10,5])).then(t=>({default:t.ParentPortalPage}))),eU=()=>{const{session:t,loading:e}=ca();return e?S.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-950",children:S.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):t?S.jsx(OD,{children:S.jsx(VC,{})}):S.jsx(p_,{to:"/guru-login",replace:!0})},tU=S.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-950",children:S.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),nU=new fD({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function iU(){return S.jsx(BD,{children:S.jsx(hD,{client:nU,children:S.jsx(Ck,{children:S.jsx(Tk,{children:S.jsxs(Hk,{children:[S.jsx(k.Suspense,{fallback:tU,children:S.jsx(hb,{children:S.jsxs(FC,{children:[S.jsx(wt,{path:"/",element:S.jsx(GD,{})}),S.jsx(wt,{path:"/guru-login",element:S.jsx(VD,{})}),S.jsx(wt,{path:"/portal-login",element:S.jsx(XD,{})}),S.jsx(wt,{path:"/portal/:studentId",element:S.jsx(ZD,{})}),S.jsxs(wt,{element:S.jsx(eU,{}),children:[S.jsx(wt,{path:"/dashboard",element:S.jsx(zD,{})}),S.jsx(wt,{path:"/absensi",element:S.jsx(FD,{})}),S.jsx(wt,{path:"/siswa",element:S.jsx($D,{})}),S.jsx(wt,{path:"/siswa/:studentId",element:S.jsx(JD,{})}),S.jsx(wt,{path:"/jadwal",element:S.jsx(jD,{})}),S.jsx(wt,{path:"/pengaturan",element:S.jsx(KD,{})}),S.jsx(wt,{path:"/tugas",element:S.jsx(YD,{})}),S.jsx(wt,{path:"/input-massal",element:S.jsx(WD,{})})]}),S.jsx(wt,{path:"/cetak-rapot/:studentId",element:S.jsx(QD,{})}),S.jsx(wt,{path:"*",element:S.jsx(p_,{to:"/",replace:!0})})]})})}),S.jsx(qD,{}),S.jsx(HD,{})]})})})})})}const dE=document.getElementById("root");if(!dE)throw new Error("Could not find root element to mount to");const rU=KT.createRoot(dE);rU.render(S.jsx(ou.StrictMode,{children:S.jsx(iU,{})}));export{xU as $,jw as A,ni as B,Kw as C,jU as D,LU as E,Pk as F,$w as G,JU as H,uE as I,$U as J,gU as K,cu as L,DU as M,KU as N,NU as O,mU as P,MU as Q,ou as R,L0 as S,Gi as T,yu as U,FU as V,OU as W,Mk as X,yU as Y,Ik as Z,Sb as _,lu as a,wU as a0,bU as a1,GU as a2,VU as a3,BU as a4,qU as a5,zU as a6,aU as a7,zi as a8,hU as a9,AU as aa,kk as ab,pU as ac,TU as ad,SU as ae,RU as af,CU as ag,bk as ah,xk as ai,Rk as aj,qT as ak,su as al,kU as am,Wt as an,Ak as ao,da as ap,xf as aq,ea as ar,uD as as,yt as at,Pt as au,Wk as av,oU as aw,Gk as b,UU as c,PU as d,vU as e,xD as f,lE as g,Uk as h,zw as i,S as j,Jw as k,_U as l,HU as m,Nk as n,Yw as o,EU as p,bf as q,k as r,Lt as s,Dk as t,ca as u,Fw as v,IU as w,Ek as x,oE as y,cE as z};
