/**
 * Print Styles for Portal Guru
 * 
 * Optimizes pages for printing:
 * - Hide navigation and non-essential UI
 * - Optimize colors for printing
 * - Ensure tables and content are properly formatted
 * - Add page breaks where appropriate
 */

/* ============================================
   GENERAL PRINT STYLES
   ============================================ */

@media print {

    /* Hide non-printable elements */
    nav,
    header,
    footer,
    aside,
    .no-print,
    .sidebar,
    .navigation,
    .navbar,
    .bottom-nav,
    .floating-action-button,
    .toast-container,
    .modal-backdrop,
    .tooltip,
    .dropdown-menu,
    button:not(.print-visible),
    .btn:not(.print-visible),
    input[type="search"],
    .search-input,
    .filter-controls,
    .action-buttons,
    [data-no-print],
    [aria-hidden="true"] {
        display: none !important;
    }

    /* Reset backgrounds and colors for printing */
    * {
        background: white !important;
        color: black !important;
        box-shadow: none !important;
        text-shadow: none !important;
    }

    /* Keep some colors for important elements */
    .print-color-preserve {
        color: inherit !important;
    }

    /* Body styles */
    body {
        font-size: 12pt !important;
        line-height: 1.5 !important;
        font-family: 'Times New Roman', serif !important;
        margin: 0 !important;
        padding: 20px !important;
    }

    /* Page settings */
    @page {
        size: A4;
        margin: 2cm 1.5cm;
    }

    /* First page without top margin */
    @page :first {
        margin-top: 1cm;
    }

    /* ============================================
       LINKS
       ============================================ */

    /* Show URL after links */
    a[href^="http"]:after,
    a[href^="https"]:after {
        content: " (" attr(href) ")";
        font-size: 10pt;
        color: #666 !important;
        word-break: break-all;
    }

    /* Don't show URL for internal links */
    a[href^="#"]:after,
    a[href^="javascript"]:after,
    a.no-print-url:after {
        content: "";
    }

    /* ============================================
       HEADINGS
       ============================================ */

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        page-break-after: avoid;
        page-break-inside: avoid;
        font-family: 'Times New Roman', serif !important;
    }

    h1 {
        font-size: 24pt !important;
        margin-bottom: 12pt !important;
    }

    h2 {
        font-size: 18pt !important;
        margin-bottom: 10pt !important;
        border-bottom: 1px solid #ccc !important;
        padding-bottom: 4pt !important;
    }

    h3 {
        font-size: 14pt !important;
        margin-bottom: 8pt !important;
    }

    /* ============================================
       TABLES
       ============================================ */

    table {
        width: 100% !important;
        border-collapse: collapse !important;
        page-break-inside: auto;
    }

    thead {
        display: table-header-group;
    }

    tr {
        page-break-inside: avoid;
        page-break-after: auto;
    }

    th,
    td {
        border: 1px solid #333 !important;
        padding: 8px !important;
        text-align: left !important;
        font-size: 10pt !important;
    }

    th {
        background-color: #f0f0f0 !important;
        font-weight: bold !important;
    }

    /* Striped rows */
    tbody tr:nth-child(even) td {
        background-color: #f9f9f9 !important;
    }

    /* ============================================
       CARDS AND CONTAINERS
       ============================================ */

    .card,
    .panel,
    .box {
        border: 1px solid #ccc !important;
        padding: 12pt !important;
        margin-bottom: 12pt !important;
        page-break-inside: avoid;
    }

    /* ============================================
       IMAGES
       ============================================ */

    img {
        max-width: 100% !important;
        page-break-inside: avoid;
    }

    /* Avatar images - smaller for print */
    .avatar,
    .student-avatar,
    [class*="avatar"] {
        width: 30px !important;
        height: 30px !important;
    }

    /* ============================================
       LISTS
       ============================================ */

    ul,
    ol {
        page-break-inside: avoid;
    }

    li {
        page-break-inside: avoid;
    }

    /* ============================================
       SPECIFIC COMPONENTS
       ============================================ */

    /* Stats cards */
    .stats-card,
    .stat-box {
        display: inline-block !important;
        width: 24% !important;
        margin: 0.5% !important;
        border: 1px solid #ccc !important;
        padding: 10pt !important;
        text-align: center !important;
    }

    /* Attendance status */
    .attendance-status {
        font-weight: bold !important;
    }

    .attendance-present {
        color: #22c55e !important;
    }

    .attendance-absent {
        color: #ef4444 !important;
    }

    .attendance-sick {
        color: #f59e0b !important;
    }

    .attendance-permission {
        color: #3b82f6 !important;
    }

    /* ============================================
       PAGE BREAKS
       ============================================ */

    .page-break-before {
        page-break-before: always;
    }

    .page-break-after {
        page-break-after: always;
    }

    .avoid-break {
        page-break-inside: avoid;
    }

    /* ============================================
       PRINT HEADER/FOOTER
       ============================================ */

    .print-header {
        display: block !important;
        text-align: center !important;
        margin-bottom: 20pt !important;
        border-bottom: 2px solid #333 !important;
        padding-bottom: 10pt !important;
    }

    .print-header .school-name {
        font-size: 16pt !important;
        font-weight: bold !important;
    }

    .print-header .report-title {
        font-size: 14pt !important;
        margin-top: 5pt !important;
    }

    .print-footer {
        display: block !important;
        margin-top: 20pt !important;
        padding-top: 10pt !important;
        border-top: 1px solid #ccc !important;
    }

    .print-date {
        font-size: 10pt !important;
        color: #666 !important;
    }

    /* Signature area */
    .signature-area {
        display: flex !important;
        justify-content: space-between !important;
        margin-top: 40pt !important;
    }

    .signature-box {
        width: 200pt !important;
        text-align: center !important;
    }

    .signature-line {
        border-top: 1px solid #333 !important;
        margin-top: 50pt !important;
        padding-top: 5pt !important;
    }

    /* ============================================
       REPORT-SPECIFIC STYLES
       ============================================ */

    /* Attendance report */
    .attendance-report {
        font-size: 11pt !important;
    }

    .attendance-report table th {
        background-color: #e5e7eb !important;
    }

    /* Grade report */
    .grade-report table {
        margin-top: 15pt !important;
    }

    .grade-value {
        font-weight: bold !important;
        font-size: 12pt !important;
    }

    /* Violation report */
    .violation-report .severity-high {
        font-weight: bold !important;
        color: #dc2626 !important;
    }

    .violation-report .severity-medium {
        color: #d97706 !important;
    }

    .violation-report .severity-low {
        color: #059669 !important;
    }
}

/* ============================================
   PRINT-ONLY ELEMENTS
   (Hidden on screen, visible on print)
   ============================================ */

.print-only {
    display: none !important;
}

@media print {
    .print-only {
        display: block !important;
    }
}

/* ============================================
   PRINT PREVIEW MODE
   (For showing print preview in browser)
   ============================================ */

.print-preview-mode {
    background: white !important;
    padding: 2cm !important;
    max-width: 21cm !important;
    margin: 0 auto !important;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1) !important;
}

.print-preview-mode .no-print {
    display: none !important;
}